1
00:00:03,810 --> 00:00:17,240
Okay. Let's get started. So just a few comments on the class.

2
00:00:18,170 --> 00:00:23,960
So, uh, and I'm pretty sure that most people know,

3
00:00:25,070 --> 00:00:38,180
but of this hour that the tuning for the office hours are available here so you can during office hours in the, in the time designated here.

4
00:00:39,290 --> 00:00:48,920
So feel free to join with. We don't have many guests yet, but I'm sure that we'll have more if we, uh, as the first homework due is coming up.

5
00:00:52,270 --> 00:01:05,079
There is an anonymous feedback page which you can actually write, uh, your opinions anonymously.

6
00:01:05,080 --> 00:01:09,490
So this, this, this page doesn't record anything about yourself.

7
00:01:10,810 --> 00:01:19,000
So you can use it if you don't feel comfortable in using Piazza to express your any feedback.

8
00:01:19,000 --> 00:01:23,830
If you have any difficulty or concerns or some feedback, you don't.

9
00:01:23,920 --> 00:01:28,180
You want it to give to the instructor. But if you don't have any means,

10
00:01:28,180 --> 00:01:38,170
you can use the anonymous feedback page that will help to correct for any kind of misunderstanding or any inconvenience.

11
00:01:38,270 --> 00:01:42,820
Um. An unknown recording earlier than later.

12
00:01:44,740 --> 00:01:51,250
Homework zero is due today and a homework one is due is out.

13
00:01:51,250 --> 00:02:01,030
So it's due on two weeks from now. So, uh, that's, that's the key information I wanted to give.

14
00:02:01,420 --> 00:02:16,870
So, let's see, so, so just wanted to, uh, just wanted to give a, uh, instruction of how you create a, uh, a party file.

15
00:02:16,870 --> 00:02:23,170
So you need to, I think a, in windows you can do this to you just need to go to the right directly.

16
00:02:23,200 --> 00:02:28,510
So you need to know how to use come into line just a little bit to be able to do this.

17
00:02:28,990 --> 00:02:38,139
So the comment that you need to run is to see the f, I think it's, uh, it's, uh, instructive that way.

18
00:02:38,140 --> 00:02:46,240
If you don't put, put the c f, then it may create a incorrect of versions of card file.

19
00:02:46,240 --> 00:02:51,760
So make sure that you're using all four letters. I mean, which is not necessary.

20
00:02:51,760 --> 00:02:56,980
What you need to do c c means that you're compressing these sorry.

21
00:02:57,670 --> 00:03:01,060
C So you're making a, making a file.

22
00:03:01,240 --> 00:03:08,380
So you're, you're making a terrible multiple file by the Z ensures that you are using the 3D compression.

23
00:03:09,160 --> 00:03:14,320
So that's, uh, sorry. Uh, this is not what I wanted.

24
00:03:16,980 --> 00:03:21,540
So usually if you do this, it'll work. In my computer, I made.

25
00:03:21,570 --> 00:03:26,700
I made a special arrangement. So you need to start here in.

26
00:03:26,730 --> 00:03:32,190
But even if you don't push start, I'm pretty sure that it works unless you use a symbolic link.

27
00:03:33,030 --> 00:03:47,340
So then it'll, it'll create a whole hw0 that's harder g file and that's the output you need to sum it to your, uh, in the canvas.

28
00:03:47,550 --> 00:03:57,720
Okay. So any, any question before we start on the, on the homework related or previous lecture later?

29
00:04:00,420 --> 00:04:08,670
If not, let me continue. I, I think I have some updates from the previous lecture, so I wanted to go from there.

30
00:04:10,320 --> 00:04:20,760
Okay. So we, uh, we went over this relative error thing and there was some, uh,

31
00:04:21,480 --> 00:04:29,830
questions about why these orders are orders matter when they actually don't have infinite number,

32
00:04:30,390 --> 00:04:37,440
they don't have a precision issue when you're represented in a, in the decimal number.

33
00:04:37,710 --> 00:04:45,990
So just to clarify that, I already sent a message in a piazza.

34
00:04:45,990 --> 00:04:51,720
But so this, this one doesn't doesn't work first one is supposed to be zero, but it's not.

35
00:04:52,200 --> 00:04:56,070
And to to illustrate what the problem is exactly,

36
00:04:56,700 --> 00:05:08,850
I just wanted to use this function we used in the lecture one to show that when you when you have this number representing the binary,

37
00:05:09,330 --> 00:05:11,580
this is actually binary representation.

38
00:05:11,880 --> 00:05:24,830
And this is same bit, this is the exponent and this is a significant bits and the significant bit it's not so it is not exactly you know,

39
00:05:24,870 --> 00:05:36,150
it doesn't end with a000, which means that even though this looks like 1.3512 represent 13451.35 in decimal.

40
00:05:36,330 --> 00:05:41,250
So binary number you you cannot represent in a limited number.

41
00:05:41,630 --> 00:05:47,970
It's actually not exact so it's not an exact number in if you.

42
00:05:48,930 --> 00:05:55,379
So it's a it's a repeating it's repeating below the binary decimal.

43
00:05:55,380 --> 00:06:06,030
So, so a floating point. So that's why you can that represent the exactly in the same way that you represent the 1.35.

44
00:06:06,030 --> 00:06:11,579
So if there's a some rounding error happening, so that's why these and these are not exactly the same.

45
00:06:11,580 --> 00:06:15,239
And you if you subtract it, there is some residual happening.

46
00:06:15,240 --> 00:06:26,610
So so this is it depends it obviously depends on what numbers you put some numbers just work by some numbers but this so that

47
00:06:26,610 --> 00:06:36,360
that'll explain a little bit more why why the others are different if you if you make all the different 20 20.55 -1.35,

48
00:06:37,200 --> 00:06:47,969
you, you see the the value binary representation of that value is exactly the same as the binary representation of 19.2.

49
00:06:47,970 --> 00:06:51,000
And that's why if you subtract it, it's exactly zero.

50
00:06:52,500 --> 00:06:58,890
Okay. So that's the part I wanted to explain then.

51
00:06:59,400 --> 00:07:01,559
This part is still cryptic.

52
00:07:01,560 --> 00:07:12,660
It's hard to predict what's going to happen, but the point was that if you do the addition with a large number of additions,

53
00:07:13,080 --> 00:07:18,210
those relative errors can accumulate and they may no longer negligible.

54
00:07:18,270 --> 00:07:22,970
So that that's the point. Okay.

55
00:07:23,750 --> 00:07:30,680
So then we can move on to the onto the quadratic solver.

56
00:07:33,140 --> 00:07:38,350
Okay. Any questions so far. Okay.

57
00:07:38,530 --> 00:07:41,860
So. So let's. So today.

58
00:07:46,210 --> 00:07:51,700
Today we're going to learn about learning about numerical precision.

59
00:07:51,700 --> 00:07:58,000
And what we learn today is of all together is a motto for homework one.

60
00:07:59,830 --> 00:08:06,130
So let's. Let's think about the solving quadratic equations.

61
00:08:06,340 --> 00:08:17,120
Okay. So. So if you have a quadratic equations written in this way, okay, you have a three coefficient.

62
00:08:18,140 --> 00:08:24,020
And let's assume that this has a real solution, which means that you have two to real solution,

63
00:08:24,020 --> 00:08:36,230
which means the b two is non-zero and b one squared is equal or greater than for v to be zero then using the.

64
00:08:38,290 --> 00:08:41,890
Sorry. Using the very well known formula.

65
00:08:43,360 --> 00:08:46,750
Sorry. Using the very well known formula. Okay.

66
00:08:49,940 --> 00:09:00,350
Okay. Sorry. So you're using the very well known formula you can represent to solution of X using this equation.

67
00:09:00,500 --> 00:09:16,140
So there's no problem. Okay. So, but if you actually implement this quadratic solver in actual function, these some these are almost old.

68
00:09:16,220 --> 00:09:24,260
Most of the case works, but in some cases it doesn't work as expected in that that's what we are going to learn in these examples.

69
00:09:26,270 --> 00:09:33,590
So so to to do that, let's try to implement a function first.

70
00:09:33,920 --> 00:09:42,230
Just not a solver. Just a quadratic function. This quadratic function just evaluates this equation F of x.

71
00:09:42,480 --> 00:09:50,840
Okay. And the purpose of having this equation is just to verify that X is a solution.

72
00:09:51,020 --> 00:09:57,430
So if you if you put the right X here in the F of X, the value should be zero.

73
00:09:57,440 --> 00:10:00,470
Right. So that's what we're doing here.

74
00:10:02,330 --> 00:10:06,740
Okay. Now, the quadratic does solve that one.

75
00:10:06,980 --> 00:10:12,520
This function is to implement this equation.

76
00:10:12,530 --> 00:10:26,210
Exactly. Okay. So the way how this works is that it takes the B, P, 0ab to B one and P zero as a parameters and calculates this part.

77
00:10:26,510 --> 00:10:29,600
The square root of part is at1.

78
00:10:31,830 --> 00:10:40,470
And tea one is a scary thought. B one scared minus four b to b zero and three to is just 30 part.

79
00:10:40,920 --> 00:10:45,450
Now the first solution is for first.

80
00:10:45,840 --> 00:10:50,010
First solution becomes this okay. And the second solution becomes this.

81
00:10:50,170 --> 00:10:54,840
Okay. So this is exactly implementing this and it returns to values.

82
00:10:55,110 --> 00:10:58,260
Okay. So this seems totally fine, right?

83
00:11:01,550 --> 00:11:08,990
So let's see whether this actually works. So let's let's look at the case where B two equal one,

84
00:11:09,260 --> 00:11:19,970
bb1 equals negative three and p zero equal to then this this is a can be easily factored into x minus one times six times two.

85
00:11:20,540 --> 00:11:27,439
So that solution of that quadratic function is x equals one and x equal two.

86
00:11:27,440 --> 00:11:36,920
Right? So then let's see whether you so x one is the solution for those two and a x.

87
00:11:37,370 --> 00:11:42,050
So two solution is one and two. Okay, so this looks good.

88
00:11:42,620 --> 00:11:47,479
So, so let's try. Sometimes we don't know whether this solution is true or not.

89
00:11:47,480 --> 00:11:52,450
In this case, we can solve the sovereign with our mind mentally.

90
00:11:52,460 --> 00:11:59,870
So we know this as we know this answer. But in the case, we don't know whether this is serious or not.

91
00:12:00,470 --> 00:12:03,640
We can just put this solution, okay?

92
00:12:04,160 --> 00:12:12,440
And those three coefficient. And so this quality function is basically take the x and three three coefficient and

93
00:12:12,710 --> 00:12:17,900
evaluates this quadratic function and this should give you zero for both of them.

94
00:12:18,200 --> 00:12:27,530
Right. So it gives us zero and you know, meaning that those, both of those solutions evaluates to zero if you evaluate them F of x.

95
00:12:27,770 --> 00:12:36,530
Okay, so this looks all finds or says as expected in most of the case, it works like this.

96
00:12:36,710 --> 00:12:48,740
So there's so there will there is a very few cases where you're going to have a problem with this, but there are a corner of cases with this quality.

97
00:12:48,740 --> 00:12:57,710
So, okay, so let's look at these cases.

98
00:12:58,580 --> 00:13:09,380
Okay? So the numbers are chosen so that B two and B one and P zero are all very large number.

99
00:13:09,770 --> 00:13:14,780
Okay. That is the that is a first criteria.

100
00:13:15,380 --> 00:13:24,800
And we chose this number to make sure that P two plus P zero is it is equal to negative B one.

101
00:13:24,800 --> 00:13:37,700
So they add up to zero. If they add up to zero, that means that B to x squared plus b1x plus p zero is zero when x equals one.

102
00:13:38,510 --> 00:13:48,950
Does it make sense? So if you're x equal, one should be a solution for this quadratic equation because we chose a number to add up to zero, right.

103
00:13:50,150 --> 00:13:53,330
So to verify that these add up to zero.

104
00:13:53,510 --> 00:14:04,550
So this is true, right? So now let's try to evaluate this quadratic solver and see what happens when we try to evaluate this time,

105
00:14:05,000 --> 00:14:10,310
I'm going to print the value to 20 how significant it is.

106
00:14:14,730 --> 00:14:21,810
Looks like it's a little loud, so let me try to clean the bottom.

107
00:14:23,370 --> 00:14:28,690
Okay. Is it. Is it better? So.

108
00:14:30,870 --> 00:14:35,190
So if you run it. Okay. So there are two solutions.

109
00:14:35,210 --> 00:14:39,710
We don't know what are the other solution?

110
00:14:40,100 --> 00:14:43,180
What the other solution is. Exactly.

111
00:14:44,450 --> 00:14:50,450
But looks like we get a solution very close to one, which is good.

112
00:14:50,840 --> 00:14:55,460
Okay. And we get a solution very close to eight.

113
00:14:56,870 --> 00:15:01,790
Okay. So this is interesting.

114
00:15:01,790 --> 00:15:04,930
But also there is a some problem. Okay.

115
00:15:05,420 --> 00:15:06,950
So it's not exactly one.

116
00:15:07,250 --> 00:15:17,710
As you see, there are some errors at the end, although we know that the one should be the exact solution and that eight is not the solution.

117
00:15:17,720 --> 00:15:27,030
In fact, 88 shouldn't be the solution because if one in eight was a solution, this number should be much, much simpler.

118
00:15:27,050 --> 00:15:36,890
Right. To B to be to be taken one to be one equals negative nine and be zero equals eight should be the the right coefficient.

119
00:15:37,580 --> 00:15:41,450
So the solution is close to eight, but probably not exactly eight.

120
00:15:41,810 --> 00:15:45,190
Okay. So.

121
00:15:47,440 --> 00:15:58,600
So let's try to verify this solution. So now let's try to put this the solution, because this is what quadratic solver actually gave to to us.

122
00:15:59,260 --> 00:16:07,510
So if you put these two numbers inside of solution, we should see that both of them should evaluate zero,

123
00:16:07,660 --> 00:16:18,070
because that's what you should expect for the solution. So if you do that, you don't actually see zero for both of them.

124
00:16:19,450 --> 00:16:23,320
Okay. So why do you think that why do you think it's happening here?

125
00:16:31,510 --> 00:16:35,310
Uh. Sorry. These are. These are duplicate. I didn't realize that.

126
00:16:35,850 --> 00:16:42,300
So this is. This is not necessary. Okay, so why do you why do you see the difference here?

127
00:16:44,340 --> 00:16:47,460
So why does it not exactly value zero?

128
00:16:48,030 --> 00:16:52,940
And this this is non-trivial. This is not a small differences.

129
00:16:52,980 --> 00:17:00,600
So issue is zero. But you're seeing that it's wrong in like three significant digits.

130
00:17:01,140 --> 00:17:05,280
So both of them should be zero. But in this case, like second, second fields is wrong.

131
00:17:05,280 --> 00:17:07,170
In this case, third significant is is wrong.

132
00:17:07,200 --> 00:17:14,850
So this seems like a practically a problem when you even when you try to come up with a solution like this.

133
00:17:16,960 --> 00:17:24,290
Okay. So what's happening here is that.

134
00:17:25,490 --> 00:17:32,900
So the problem is here. Right. So when you try to evaluate these negative B one plus D's.

135
00:17:33,110 --> 00:17:39,590
Right. So so let me let me try to go through it.

136
00:17:40,430 --> 00:17:44,880
So because of. I have some slides.

137
00:17:45,510 --> 00:17:51,800
Okay. So. So these are two solutions, right?

138
00:17:51,860 --> 00:17:55,820
And they've got to be one plus these and there'll be one minus this.

139
00:17:56,000 --> 00:18:03,180
Okay. So. So just make it.

140
00:18:03,450 --> 00:18:10,620
Make it easy. Let's make it easy too. So to make it easier, let's say b one is negative, then this becomes positive, right?

141
00:18:11,100 --> 00:18:15,510
So then this number is probably fine, but in this case, b one is positive.

142
00:18:16,170 --> 00:18:27,030
So if you subtract with something like this, okay, so there you may end up having some precision issue.

143
00:18:27,270 --> 00:18:40,469
What I mean is that if these numbers and these numbers are very similar to each other, so so let's say B to bb0 is very, very small.

144
00:18:40,470 --> 00:18:45,900
For example, then this should be very close to zero, but not exactly zero.

145
00:18:46,080 --> 00:18:50,190
Right. Then you are you are subtracting two very large numbers.

146
00:18:50,490 --> 00:18:54,840
Okay, which is not zero, but close to be close to zero.

147
00:18:54,840 --> 00:18:58,290
In that case, you may introduce a lot of pressure of errors.

148
00:18:59,250 --> 00:19:06,780
Does it make sense? Because when you subtract two numbers, you know,

149
00:19:06,810 --> 00:19:14,670
all all your actual significant significant bits are you're leaving the same thing for

150
00:19:14,670 --> 00:19:20,310
the decimal numbers to you are canceling out all this upper significant digits so you

151
00:19:20,520 --> 00:19:26,280
you end up having very few is going to be reduced at the end and those are those are made

152
00:19:26,580 --> 00:19:30,540
more prone to rounding errors and the or any other precision errors you might have.

153
00:19:31,020 --> 00:19:34,410
Right. So that's what's happening here.

154
00:19:34,950 --> 00:19:44,339
Okay. So one of them so in this case, if the B1 is very large, then in this case, B1 is negative.

155
00:19:44,340 --> 00:19:52,470
And if if the absolute value is very large, x two could be less accurate, then excellent question.

156
00:19:53,010 --> 00:19:57,180
Okay. So you may not appreciate this.

157
00:19:57,180 --> 00:20:03,120
It's not very clear here, but here this is the case where B1 is negative.

158
00:20:03,600 --> 00:20:13,440
Okay. So then among these two solutions, one is what is taking the taking the addition, and one the other is take from sorry.

159
00:20:14,460 --> 00:20:24,300
So the other is taking so it one is adding them, the others are subtracting them.

160
00:20:24,990 --> 00:20:32,570
So the first solution, especially so is is a more prone to errors.

161
00:20:32,850 --> 00:20:37,650
But in this case, actually, both of them has a problem. I can't I'll explain that later.

162
00:20:39,780 --> 00:20:46,320
But the point is that, you know, at least one of them is clear that it'll have a Christian problem.

163
00:20:46,740 --> 00:21:00,350
Okay. So how do we avoid this issue so you can avoid this problem using the alternative formulation?

164
00:21:01,250 --> 00:21:05,750
What it means is that you have this original solution.

165
00:21:06,890 --> 00:21:15,830
But if you if you multiply on each side of the the other, it's a complement.

166
00:21:15,840 --> 00:21:19,550
So if it's a plus minus, then a minus plus,

167
00:21:20,270 --> 00:21:29,690
then this plus my plus minus and minus plus the will cancel and the numerator becomes much simpler for B to be zero.

168
00:21:29,750 --> 00:21:36,559
That's good. But obviously you will have the same problem in the denominator.

169
00:21:36,560 --> 00:21:42,020
So it's not the problem is not going to be gone, but at least it's a different formulation.

170
00:21:42,410 --> 00:21:57,200
Okay. So so then the interesting thing is that you can actually see the take out be zero in a 2 to 2 out of out of this.

171
00:21:57,200 --> 00:22:04,070
And this is exactly the inverse value of X.

172
00:22:04,550 --> 00:22:11,330
So the other the other solution. So if if this is a plus or minus two, let's say these two two solution is X and X.

173
00:22:12,140 --> 00:22:21,050
And this one is x2 index one. Right. So x x head here is just that the ultimate solution.

174
00:22:21,080 --> 00:22:30,080
So you can actually represent one solution as a, as a simple linear function of the other solution using inverse.

175
00:22:30,390 --> 00:22:34,660
Okay. So that that's an observation. So this is called via the theater's formula.

176
00:22:35,830 --> 00:22:40,160
Okay. Okay. I get that. But how does this help the Christian issue?

177
00:22:41,210 --> 00:22:45,530
Well, it doesn't solve all the problem, but it can make slightly better.

178
00:22:45,740 --> 00:22:56,910
How? Okay. So here the issue here is that let's say you have computed this delta.

179
00:22:57,020 --> 00:23:01,760
Okay. So let's say Delta is this outcome of the square root.

180
00:23:03,050 --> 00:23:08,210
Then if B one is greater than zero, then you can.

181
00:23:09,410 --> 00:23:13,969
You can have. So. So this was.

182
00:23:13,970 --> 00:23:18,290
This was x one and this was x two. So. So let.

183
00:23:19,880 --> 00:23:28,220
So let's just stick to one one. So if the V one is greater than zero, you choose this solution as a stable solution.

184
00:23:28,640 --> 00:23:32,930
The region. Why this is a state more stable solution is you have a two solution.

185
00:23:33,530 --> 00:23:38,150
But I would call that this is a more stable solution because b one is positive,

186
00:23:38,840 --> 00:23:42,950
meaning that this would be negative and this would negative, so those wouldn't be cancel out.

187
00:23:42,950 --> 00:23:48,410
You're just adding them. Okay. So probably that'll have a better numerical stability.

188
00:23:49,670 --> 00:23:55,430
So if B one is negative, like what what you have, you do all alternating things.

189
00:23:55,430 --> 00:23:59,860
So if you b one is negative, that means the negative B one will be positive.

190
00:23:59,870 --> 00:24:03,230
So adding them will be more stable. Okay.

191
00:24:04,490 --> 00:24:09,950
So and apply that formula to get X of two.

192
00:24:10,400 --> 00:24:20,900
So, so in this case. So, uh, so the slide needs to be, needs to be more clear.

193
00:24:20,900 --> 00:24:34,820
So if you get. So in this case, if you, if x one is the x one was the x one was a stable solution, you get x two using this one, right?

194
00:24:34,830 --> 00:24:38,750
So don't use don't use this formula. Get to get x two.

195
00:24:38,990 --> 00:24:47,510
Instead of using this formula, I'm going to use this formula to get x two because x to one is relatively more accurate.

196
00:24:47,870 --> 00:24:56,060
I'm hoping that by using this equation, avoiding subtraction of two large numbers will give a better, more accurate answer.

197
00:24:56,720 --> 00:25:00,830
In this case, I should have said x one. So this this is typo.

198
00:25:01,250 --> 00:25:03,770
So in the others in the other way.

199
00:25:03,800 --> 00:25:11,600
This way you said you said it also x one is a more stable solution like this and look at the alternate solution using this way.

200
00:25:11,610 --> 00:25:18,140
So that's the that's alternative way to to get the project solution.

201
00:25:18,770 --> 00:25:25,550
So if you see this quality solver is basically calculate this delta.

202
00:25:26,210 --> 00:25:37,790
Okay. Okay. And in my in my slide it it said X one and x two by the both of them should, shouldn't that should mean x one in the in the beginning.

203
00:25:37,820 --> 00:25:40,910
So, so this is paper.

204
00:25:40,940 --> 00:25:50,780
I'll, I'll change it. But this is x one. So you get x one of you doing you choose x one based on whether B one is greater than zero or not.

205
00:25:51,260 --> 00:25:54,559
So if one is greater than zero, then you pick.

206
00:25:54,560 --> 00:25:58,250
This was a first solution. Otherwise this is the first solution.

207
00:25:59,070 --> 00:26:07,220
Okay, in the alternate solution, you use a be it as formula as a function of x one, then you can get the two solution.

208
00:26:07,230 --> 00:26:15,530
So this should be equivalent. So this, this is mathematically exactly equivalent to what the previous solution numerically,

209
00:26:15,530 --> 00:26:20,750
if you allow numerical errors, this should be a little more stable than the previous solution.

210
00:26:21,920 --> 00:26:34,670
Okay. So if you try to use this quadratic solver, your answer is now slightly different.

211
00:26:34,690 --> 00:26:44,170
So if you compare our previous ASR 8.0002747, the solution is exactly the same because this was x one.

212
00:26:44,710 --> 00:26:52,330
Okay. This one is almost exactly the same here. But the second solution was at one point this was a second solution.

213
00:26:52,330 --> 00:27:04,150
140024441. Now it was changed to slightly different direction is still very close to one, but it has a different direction of inaccuracy.

214
00:27:04,500 --> 00:27:13,960
Okay, then if you evaluate both of these this value, then this will still have a problem.

215
00:27:14,080 --> 00:27:21,730
So still, if you evaluate this, is these values still still not very accurate.

216
00:27:22,750 --> 00:27:30,730
But for for this solution, the solution, it became a little more accurate.

217
00:27:30,880 --> 00:27:38,860
Okay. So it didn't solve the problem very well, but it at least made me appreciate a little bit better.

218
00:27:39,430 --> 00:27:46,690
So maybe the the question here is that why the first solution is still not very accurate.

219
00:27:46,880 --> 00:27:53,050
Right. So that is that is probably the more important question.

220
00:27:53,830 --> 00:27:58,660
So do you have any idea why why the first first solution is still not very accurate.

221
00:28:07,900 --> 00:28:20,370
So in this case. Does it have to do with the difference between absolute error and all of the verve?

222
00:28:22,070 --> 00:28:28,880
So if we look at the dinner, it is about the same characteristics, but it's not.

223
00:28:32,030 --> 00:28:41,030
Yes. So yeah, that's a very good point. So, uh, so basically these, these numbers are very, very large.

224
00:28:41,030 --> 00:28:44,810
So it's, it's a similar line of answer.

225
00:28:45,050 --> 00:28:52,420
These numbers are very, very large. Right. But the end the actual solution is very small compared to these coefficients.

226
00:28:52,730 --> 00:28:55,850
So they're still in this calculation.

227
00:28:55,850 --> 00:29:04,400
There's a lot of cancelations of the significant digits, not just that that subtraction part of of of that particular number.

228
00:29:04,430 --> 00:29:11,209
So that's that's where it you know, the the large errors is coming from.

229
00:29:11,210 --> 00:29:14,560
For example, if you calculate, uh.

230
00:29:17,840 --> 00:29:28,999
So sorry. If you calculate the p one square and for B to be zero, this this number itself is really, really large.

231
00:29:29,000 --> 00:29:47,959
Right. So and these numbers is so this number is very close to sorry have a okay so this number itself is really, really large.

232
00:29:47,960 --> 00:29:57,620
And when you when you calculate the square root with this this very large number,

233
00:29:58,190 --> 00:30:09,739
then you are going to have a the issue with so your SO security is making the precision even less accurate so that that is one one of the problems.

234
00:30:09,740 --> 00:30:17,060
So so let let me let me let me go through this example and hopefully that will make things a little clear.

235
00:30:18,260 --> 00:30:29,900
So in this example, we have a B equal one, B one equals really small, a really large number in a negative direction and B two equals one.

236
00:30:30,140 --> 00:30:43,700
Okay. So then if you solve this problem, then this is the solution that the first quarter is always giving.

237
00:30:43,970 --> 00:30:47,870
Okay. So this in this case, the problem is a little clear.

238
00:30:49,370 --> 00:30:54,110
So what I'm trying to say is that you had this equation B one.

239
00:30:58,120 --> 00:31:01,150
So you had this desecration. Okay.

240
00:31:01,950 --> 00:31:06,550
In this case, P one is very large number.

241
00:31:06,790 --> 00:31:11,680
Right? So so B one is, you know, very small number.

242
00:31:11,740 --> 00:31:14,980
Sorry. So magnitude, very large magnitude number.

243
00:31:15,460 --> 00:31:19,270
And this is also very large the very large number.

244
00:31:19,270 --> 00:31:29,589
And this is a one and one. So you are subtracting this number negative this number and the square of this number minus one.

245
00:31:29,590 --> 00:31:31,140
So almost same number. Right.

246
00:31:31,870 --> 00:31:44,950
So what happens here is that you have this x one as so when you try to evaluate this, this says it's it's zero zero is not a solution.

247
00:31:45,340 --> 00:31:54,070
Right. Right. So the the solution should be something something that could be close to zero, but definitely not zero.

248
00:31:54,520 --> 00:32:01,419
So if you put zero in the in the solution as a is pretend, pretend, pretend to be a solution.

249
00:32:01,420 --> 00:32:05,620
And if you try to evaluate the function, it gives a very wrong answer.

250
00:32:05,920 --> 00:32:12,670
It's not just point. It's not a it's not an error of like point one.

251
00:32:13,000 --> 00:32:18,220
This is out of actually one. Right. And the other solution is also incorrect.

252
00:32:18,520 --> 00:32:20,500
Okay. In this case. I'm sorry.

253
00:32:21,430 --> 00:32:35,120
In this case, even if you use this new formula, it doesn't it doesn't help the first solution by at least it it helps to the letter solution.

254
00:32:35,140 --> 00:32:43,720
So the second solution. Okay. So if you use this new quadratic solver, it says that first solution is still wrong.

255
00:32:44,380 --> 00:32:52,600
But the second solution is trying to give more, more accurate, accurate numbers is a is it doesn't say it's a zero.

256
00:32:52,900 --> 00:33:01,120
It says it's something close to zero. So if you put this number as a solution, it is solving this problem.

257
00:33:01,560 --> 00:33:07,660
Okay. So if you use a virus formula, in this case, it is solved.

258
00:33:08,170 --> 00:33:12,490
So you solve the problem for the second solution, it doesn't solve the problem for the first solution.

259
00:33:14,080 --> 00:33:19,870
So just to read so I know this is a little confusing because all the work is very hard to track.

260
00:33:21,070 --> 00:33:27,280
So to summarize in this first example, it, it improve.

261
00:33:27,310 --> 00:33:32,440
So this solution improved the set second the precision of second solution slightly,

262
00:33:33,010 --> 00:33:37,690
but still for both the first solution and second solution looks very inaccurate.

263
00:33:38,290 --> 00:33:44,200
The reason why this looks very inaccurate is because this original number is very large.

264
00:33:44,650 --> 00:33:50,680
So you actually this evaluation of b2x squared plus B one and P zero,

265
00:33:51,120 --> 00:34:03,339
if you an x plus B zero is the magnitude is like ten to the ten to the like order order of ten to the 20 or something.

266
00:34:03,340 --> 00:34:11,440
Right. So then you're adding, adding numbers that is the order of ten to the 20 is a three numbers.

267
00:34:11,920 --> 00:34:20,080
So when you try to evaluate this, this is actually relatively small errors in that perspective, if that makes sense.

268
00:34:20,600 --> 00:34:28,700
Right. So in terms of second digit, it looks very large, but it's actually not very large because the original number was very large.

269
00:34:28,750 --> 00:34:35,040
In the second example, though, you actually we should X because of this.

270
00:34:35,050 --> 00:34:38,080
The value that are evaluated should be actually.

271
00:34:38,590 --> 00:34:48,070
Oh, it's it's not necessarily very is not necessarily large depending on what value you're putting.

272
00:34:48,610 --> 00:34:54,850
So the error error happening here, especially for the first one,

273
00:34:55,330 --> 00:35:02,640
is really not making sense because if you give a zero, then it should give us zero, right?

274
00:35:02,650 --> 00:35:10,320
So so zero cannot be solution in the this this solution because it's a solution is so large.

275
00:35:10,840 --> 00:35:14,799
Even if you have error one is error one.

276
00:35:14,800 --> 00:35:23,920
Maybe it can be excused because you're talking about like having 20 points to convert digits before that.

277
00:35:24,580 --> 00:35:28,580
But this one, you got to have a more accurate answer in terms of seeing it for this is it.

278
00:35:28,600 --> 00:35:36,970
This is really bad answer. And if you use this, the new quality solver, it gives a much more accurate answer.

279
00:35:37,120 --> 00:35:44,270
And when you use this a much more accurate answer, it gives a right evaluation of the function.

280
00:35:45,400 --> 00:35:49,180
So just think that this is actually very close to the actual solution.

281
00:35:50,240 --> 00:35:59,070
Yeah. I. I feel like I lost many people, but happy to take questions.

282
00:35:59,280 --> 00:36:09,130
If you if something here doesn't make sense. I think there are going to be some questions.

283
00:36:13,350 --> 00:36:19,050
Let me let me just to reiterate that. So you have these two solutions.

284
00:36:19,060 --> 00:36:24,210
So this one is actually harder to understand. So I wouldn't focus on this issue.

285
00:36:24,220 --> 00:36:36,180
So the, the solution I gave here, so this alternative formulation, this helps reducing the errors in this particular.

286
00:36:36,180 --> 00:36:43,620
So it is very clear that these two solution is a zero and one, two, three, 4567890.

287
00:36:44,250 --> 00:36:52,440
And in the second, second formula, do this. One, 234567097890 is still the solution.

288
00:36:52,440 --> 00:36:53,639
So it hasn't changed yet.

289
00:36:53,640 --> 00:37:06,240
But this part was changed because we use this formula and this solution is much more accurate because that's the that's where the difference was made.

290
00:37:06,240 --> 00:37:09,810
And I want to at least understand that part.

291
00:37:10,290 --> 00:37:17,850
Using this new formula, you are going to be able to avoid the at least the one types of precision errors.

292
00:37:18,330 --> 00:37:23,850
Okay. So that that is the part that you I want you to understand at the minimum.

293
00:37:24,840 --> 00:37:31,590
And if you want it to go over, so go beyond, oh, why this solution is not giving the right answer.

294
00:37:31,980 --> 00:37:39,600
So the so the answer is that, well, it doesn't look right because an evaluation should be zero in that one.

295
00:37:39,960 --> 00:37:43,830
But compared to that actual solution is like really large number.

296
00:37:44,370 --> 00:37:50,939
This is a relatively accurate number because you are talking about 27 four digits above above one.

297
00:37:50,940 --> 00:37:58,650
So it's still a relatively quite accurate answer even though the evaluation is looks inaccurate.

298
00:37:59,670 --> 00:38:04,530
Yeah, I have a really stupid question about for the problem.

299
00:38:04,530 --> 00:38:11,370
So basically the quadratic not function is supposed to calculate the moderate, right?

300
00:38:11,700 --> 00:38:18,000
You put the solution like x one like the two over you get for zero zero.

301
00:38:18,180 --> 00:38:23,129
Yeah. It should give us zero zero. Exactly. So that, that's the, that, that, that's what I'm trying to say.

302
00:38:23,130 --> 00:38:32,730
So it should give a000. Right. But it doesn't give a zero and zero because because of, because of new numerical errors.

303
00:38:32,910 --> 00:38:41,100
So if there is a no numerical errors, if the computers were able to use the infinite number of precision, you wouldn't have this problem.

304
00:38:41,400 --> 00:38:45,660
Okay. So this is the this is a core of cases, this break.

305
00:38:45,670 --> 00:38:52,830
So you don't you don't see this often. So you you see this problem only in a specific combination of B to B one, b, p zero.

306
00:38:53,280 --> 00:38:58,260
Okay. And in this particular example, both the solution is incorrect, right?

307
00:38:58,530 --> 00:39:01,230
But the solution is it should give a zero and zero here.

308
00:39:01,860 --> 00:39:10,590
But the reason why it gives an incorrect number, the reason is different in this case, the solution itself is really large.

309
00:39:10,980 --> 00:39:16,260
Right? So this number is more than 1 billion, right?

310
00:39:16,710 --> 00:39:20,580
So if you square those number, it is ten to the 18.

311
00:39:21,000 --> 00:39:27,900
Right. And you are making some operation with a order of ten to the 18 to make it zero.

312
00:39:28,590 --> 00:39:35,970
But you know that there is only 16 digits you can represent with a double a precision.

313
00:39:36,420 --> 00:39:39,750
So you cannot make it zero because of the precision.

314
00:39:40,020 --> 00:39:43,649
Right. If you use a higher precision double number, it may work.

315
00:39:43,650 --> 00:39:50,820
But this one just that it's understandable this doesn't work, but this one is not understandable.

316
00:39:51,360 --> 00:39:56,370
This works because this is zero, because this is this should be, you know,

317
00:39:56,580 --> 00:40:01,440
as there should be more accurate, that accurate than zero, because this is no precision issue.

318
00:40:01,440 --> 00:40:03,150
But if you just look at the solution,

319
00:40:04,050 --> 00:40:11,820
but when the reason why you you get zero here is because of the during the calculation in the original formulation,

320
00:40:13,500 --> 00:40:16,770
this number and these numbers are canceled out. Okay.

321
00:40:17,100 --> 00:40:21,239
So well, this in this case.

322
00:40:21,240 --> 00:40:30,120
Right. So this number and these numbers are canceled out. So so you lose a lot of single digits and it gives a wrong answer because of that.

323
00:40:30,600 --> 00:40:41,270
So instead of using this formula, if you if you use the alternative formula that I use, it uses based on more, you know,

324
00:40:41,340 --> 00:40:50,130
face the solution that doesn't have a numerical precision errors if you use if you represent the other solution using using the more stable solution,

325
00:40:50,400 --> 00:40:56,190
you are not going to have that same problem. And here I'm sorry.

326
00:40:57,330 --> 00:41:00,510
So this this is the case, right?

327
00:41:00,510 --> 00:41:06,330
So this is a case where. Oh, I'm sorry.

328
00:41:06,600 --> 00:41:09,960
I don't know where where this card. This is totally unrelated.

329
00:41:10,140 --> 00:41:18,970
This is something. I put it put it by mistake so that that actually that creates some some confusion about that.

330
00:41:19,420 --> 00:41:30,850
So. So this. Yeah. So if you use the second solution, basically you have a better precision solution for for this case where previously said zero.

331
00:41:31,060 --> 00:41:34,510
And it gives the right so that that is you know, thanks for the question.

332
00:41:34,510 --> 00:41:40,150
And that's what I was trying to say. So I probably the first first example is more.

333
00:41:41,290 --> 00:41:47,780
So first example makes it a little confusing because this first example is a hard to understand what's happening.

334
00:41:47,800 --> 00:41:52,720
So if you focus on the second example, that don't make things a little clear.

335
00:41:57,250 --> 00:42:01,030
Okay. So no no other questions.

336
00:42:01,810 --> 00:42:11,290
Happy to take more questions. Yeah. So, um, as you noted, since we're working numbers, a very large magnitude relative error is pretty small,

337
00:42:11,290 --> 00:42:18,579
but design decide how much error is exactly how much error is acceptable, if it's a good question.

338
00:42:18,580 --> 00:42:23,560
But if you because you your you cannot get more.

339
00:42:24,400 --> 00:42:34,930
So 16 digit is your limit. Right. So if you when you do that, do some calculation and if you have some relative error in the order of six to 10 to 16,

340
00:42:34,930 --> 00:42:38,440
15 to 16, then you know that that's what it is.

341
00:42:38,440 --> 00:42:43,990
So you just need to use a higher precision, you know, a 16 bit stop.

342
00:42:44,980 --> 00:42:50,230
So 16 by double number or something. There are there are higher precision number.

343
00:42:50,230 --> 00:42:56,660
If you can't use it, then just you need to live with it if you are.

344
00:42:57,310 --> 00:43:00,520
But sometimes you just don't have.

345
00:43:00,760 --> 00:43:10,000
So in this case, the problem is basically you have a relative error is really large in this particular case because the answer to the answer is this.

346
00:43:10,300 --> 00:43:15,580
Okay. But you got zero. So the relative error is actually very large relative.

347
00:43:15,580 --> 00:43:19,540
It is errors in one actually. Right. So because this is true value.

348
00:43:20,120 --> 00:43:25,600
So so those those kind of relative, is that definitely not acceptable?

349
00:43:26,530 --> 00:43:31,050
So so for for this one maybe true.

350
00:43:31,270 --> 00:43:41,380
We don't know the true solution, but true solution would be. One, two, three, 4567890.1 to something, let's say.

351
00:43:41,440 --> 00:43:44,950
Okay. So then you have very small relative error, but in this case,

352
00:43:44,950 --> 00:43:52,720
this assuming that this is true solution and this is the approximate solution in this case definitely not acceptable.

353
00:43:54,040 --> 00:44:03,159
Okay. So.

354
00:44:03,160 --> 00:44:06,580
Very good question. Uh huh. Uh huh.

355
00:44:06,940 --> 00:44:10,170
There's a good drop off point one.

356
00:44:10,340 --> 00:44:18,750
That's the problem is that some parts of the canceling during the dividends, uh, dividend becomes very small.

357
00:44:19,490 --> 00:44:24,870
So in business lending devices, very large of brings in.

358
00:44:25,430 --> 00:44:31,000
So, uh, not, not quite so canceled.

359
00:44:31,240 --> 00:44:34,830
So canceling out is here. So it's.

360
00:44:35,710 --> 00:44:40,650
So it's pretty obvious in this case. So I probably can do this.

361
00:44:40,720 --> 00:44:46,600
Right. So you have, you have this still this example, uh.

362
00:44:49,480 --> 00:44:54,220
Sorry. Here. Okay. So you have this example.

363
00:44:54,650 --> 00:45:00,050
Okay, so let me let me try to explain. So if you do p one times p one.

364
00:45:00,820 --> 00:45:12,670
Okay, that's ab1. So negative B one, C negative B one, minus security of B one times B one negative for bb2.

365
00:45:13,140 --> 00:45:17,820
Okay. So this is the numerator, right? Okay.

366
00:45:18,400 --> 00:45:22,600
So it is I'm calculating this part. Okay.

367
00:45:24,070 --> 00:45:30,980
So what did you think this? What do you think this value will be? This value is not zero.

368
00:45:31,200 --> 00:45:34,800
Right. But it says, you know why?

369
00:45:34,950 --> 00:45:43,470
Because A, B, B, one times B one is ten to the 20 OC and you're just subtracting four.

370
00:45:44,110 --> 00:45:48,500
Okay. So it doesn't have a precision to subtract subtract this number.

371
00:45:48,510 --> 00:45:53,280
So this is what the problem is that this one is not accurately calculating.

372
00:45:55,540 --> 00:46:00,900
Okay. So what we are trying to do is that avoid this stuff.

373
00:46:01,030 --> 00:46:06,070
So this is a very large magnitude number and this is a very large amount is the number.

374
00:46:06,400 --> 00:46:12,100
So we want to avoid the subtraction of those all significant digits or cancel canceled out.

375
00:46:12,490 --> 00:46:17,640
And that's why we lost precedent completely. Okay.

376
00:46:18,000 --> 00:46:24,180
So too. So maybe let's let's try let's try other examples of this.

377
00:46:24,230 --> 00:46:28,770
These numbers is really large. So this make this could make sense if we do this.

378
00:46:28,930 --> 00:46:35,660
Okay. So then I think now the solution is slight.

379
00:46:35,700 --> 00:46:39,030
This solution is not zero. The solution is slightly.

380
00:46:40,080 --> 00:46:43,740
Uh, you know, it's a little better, right?

381
00:46:44,820 --> 00:46:47,850
So then if you solve this problem, this.

382
00:46:48,490 --> 00:46:55,680
So this is a better solution. Okay. So in this case, it's using nine digits.

383
00:46:56,000 --> 00:47:05,639
So. So and if you if you square that this if you if you subtract four, then they still have at least one one number.

384
00:47:05,640 --> 00:47:13,620
This precedent that you can represent this. So one or two to binary digits, I think, to represent these numbers correctly.

385
00:47:13,620 --> 00:47:20,880
So it does it is not you know, the various is natural, but it is much more accurate than previous case.

386
00:47:21,330 --> 00:47:26,250
But if you want becomes a larger than that, then you are going to have this problem.

387
00:47:26,460 --> 00:47:35,790
This is a completely incorrect. So, for example, if you if you have this and if you if you calculate this number, this number is not zero.

388
00:47:36,870 --> 00:47:43,850
Okay. Okay.

389
00:47:44,300 --> 00:47:47,020
So I think I need to move on.

390
00:47:47,030 --> 00:47:56,540
But before before moving on, I would like to encourage some discussion between the students so that we have better understanding.

391
00:47:56,540 --> 00:48:01,330
So try to try to sit with it.

392
00:48:01,630 --> 00:48:08,900
It looks like, as some of you, just a step by yourself, if you can if we can move your seat a little bit,

393
00:48:08,900 --> 00:48:13,340
you can you can talk with your colleagues and talk about whether you understood this problem,

394
00:48:13,340 --> 00:48:17,450
because it could be very confusing and I'm happy to explain a little bit more.

395
00:48:18,380 --> 00:48:21,770
So instead of 5 minutes, I'm going to probably give you just 3 minutes.

396
00:48:22,610 --> 00:48:25,820
And let's let's move on because we have to use quite a bit of time.

397
00:48:54,890 --> 00:49:00,400
So. Is it?

398
00:49:13,950 --> 00:49:30,100
I. What are your plans?

399
00:49:32,510 --> 00:49:42,440
One. The numbers are very complicated.

400
00:49:48,460 --> 00:49:56,150
Of the three. I wanted.

401
00:50:00,070 --> 00:50:05,090
Obviously. So.

402
00:50:29,670 --> 00:50:33,710
He doesn't.

403
00:50:35,350 --> 00:50:42,600
Academy Award winning.

404
00:50:50,250 --> 00:50:58,420
These. That's why.

405
00:51:16,570 --> 00:51:38,250
Okay. Out of the way we heard to the Iraqi.

406
00:51:55,800 --> 00:52:05,960
They were already. Oh, yeah.

407
00:52:07,900 --> 00:52:32,590
Although some of the smaller. See.

408
00:52:43,450 --> 00:52:52,810
Whatever it is that Prime Minister. We'll look at what that was all.

409
00:52:55,620 --> 00:53:03,340
I really want to. Okay.

410
00:53:04,120 --> 00:53:12,399
So we actually spent 5 minutes. So I'm it's it's good it's good to see that you're you're communicating.

411
00:53:12,400 --> 00:53:21,550
But let's let's try to explain one more, once more, so that I can have a little bit better clarification of the the this issue.

412
00:53:22,690 --> 00:53:25,810
So when you have a F of X here.

413
00:53:25,990 --> 00:53:30,760
So what I was trying to say is that these are the two solution x two, one and x two.

414
00:53:30,760 --> 00:53:41,379
And if you p zero b1 B2 is looking like this, basically this is about, uh, this is a, the positive number and positive number.

415
00:53:41,380 --> 00:53:44,590
So you would, you would have less problem with a precision,

416
00:53:44,990 --> 00:53:51,630
but next to you are going to have a precision problem because it is subtracting zero, right?

417
00:53:51,640 --> 00:53:59,590
So instead of doing this, if you use this creation, which is a virus formula, then you're going to have a more accurate answer.

418
00:53:59,590 --> 00:54:02,919
So that's that's that's all I wanted to I wanted you to learn.

419
00:54:02,920 --> 00:54:09,070
And the other part went, you know why X one is not accurate.

420
00:54:09,610 --> 00:54:12,710
That's a, that's just a limitation of the Christian question.

421
00:54:12,740 --> 00:54:22,540
Self okay. You know, you're one which is very far from that possibility possible for overflow or if it could overflow

422
00:54:22,540 --> 00:54:29,380
if it's greater than ten to the 300 or eight or smaller than ten to the -300 to the weight.

423
00:54:29,680 --> 00:54:33,280
So. But we're not getting there. Okay. Yeah, yeah.

424
00:54:33,610 --> 00:54:40,540
Okay. So we'll try for, for example, five, the reason one is kind of bad.

425
00:54:40,690 --> 00:54:48,380
So this one. Yeah. So the reason why it's that is A because B one and.

426
00:54:49,680 --> 00:54:53,490
So. Well, yeah. I probably shouldn't have.

427
00:54:53,820 --> 00:54:56,910
Shouldn't have started with this example. So. So sorry for the confusion.

428
00:54:57,330 --> 00:55:04,470
The main reason why this is incorrect. The main reason this is incorrect is that these numbers are just too large.

429
00:55:05,070 --> 00:55:09,330
Right? So. And too, for any solution you're going to get.

430
00:55:09,570 --> 00:55:15,040
You need to multiply this a large number so it's not going to going to evaluate exactly, you know.

431
00:55:15,330 --> 00:55:21,060
Right. So it's a it's actually normal to have this amount of inaccuracies.

432
00:55:21,360 --> 00:55:27,569
Right. What I wanted to say is that this is a more like typical situation of, you know,

433
00:55:27,570 --> 00:55:33,240
having the have the having the quadratic solution with a very large number.

434
00:55:33,240 --> 00:55:36,389
And in this case, you know, X equal one is a solution.

435
00:55:36,390 --> 00:55:39,900
So I thought it was a good example, but it is more confusing in general.

436
00:55:39,900 --> 00:55:49,080
So probably just the better to ignore it and focus on this problem because this show this shows more the core of the problem.

437
00:55:49,470 --> 00:56:00,120
And here, just if you wanted to understand this example, the the core part is that one solution became slightly better using the virus formula.

438
00:56:00,150 --> 00:56:05,660
And that's what I wanted to say. Okay. But the for the improvement.

439
00:56:05,970 --> 00:56:09,900
Yeah, the improvement is more it's just a very small. So you probably didn't even notice.

440
00:56:10,450 --> 00:56:17,880
And it's it's probably I shouldn't if I change the problem in the other way around it, it probably would appear that.

441
00:56:19,800 --> 00:56:24,410
Okay. So I should have done that. So I didn't think through.

442
00:56:25,110 --> 00:56:30,960
Oh, very well. Okay, so let me let me move on and any other questions?

443
00:56:32,350 --> 00:56:37,520
Okay. Okay. So we have kind of a slide to go through.

444
00:56:37,720 --> 00:56:45,790
Okay. So our algorithm is a if you if you say I was Mr. Betty always mysterious sometimes.

445
00:56:45,790 --> 00:56:50,640
But it is it is a sequence of task or sequence of steps.

446
00:56:50,650 --> 00:56:56,200
Anything is arbitrary. So you are applying always what mean your in your life a lot of time.

447
00:56:56,920 --> 00:57:02,270
And the algorithm is basically it has a set of inputs and a set of output.

448
00:57:02,270 --> 00:57:09,700
The output could be just something that there is outcome calculation, but also the outcome of a certain task.

449
00:57:09,910 --> 00:57:17,200
Like if you if you sort your bookshelf, then outcome is your bookshelf is sorted, right?

450
00:57:17,230 --> 00:57:20,260
So, so those those can be aligned with them.

451
00:57:20,260 --> 00:57:30,520
So the difference between the when you say I presume, though, you you need to be able to articulate what you are going to do.

452
00:57:30,880 --> 00:57:37,900
So sometimes you have a bookshelf and you're trying to sort, sort all the books.

453
00:57:38,440 --> 00:57:45,280
But if you if someone is trying to ask you, how did you sort them, it's very hard to explain.

454
00:57:45,280 --> 00:57:48,609
Oh, you know, I just did it intuitively.

455
00:57:48,610 --> 00:57:53,680
That's not the algorithm you need to describe exactly in a reproducible way.

456
00:57:53,890 --> 00:57:57,180
The others can also do by following your steps.

457
00:57:57,190 --> 00:58:02,050
Exactly. So that's that started with you. So good algorithm is it has to be correct.

458
00:58:02,680 --> 00:58:06,610
It has to be efficient and it has to be simple, easy to interpret.

459
00:58:06,820 --> 00:58:15,880
Okay. So here we're going to talk about the very simple wisdom to calculate the mean ten deviation.

460
00:58:16,270 --> 00:58:26,440
Okay, so let's say you have a and observations and your task is to compute the mean and standard deviation.

461
00:58:26,890 --> 00:58:31,130
Okay. So, well, this is not even an algorithm, right?

462
00:58:31,210 --> 00:58:34,870
It's a equation, right? So why is it this is an algorithm?

463
00:58:35,350 --> 00:58:40,429
Okay, so well, to to do this calculation, you need to do the step wise.

464
00:58:40,430 --> 00:58:53,280
So if you wanted to describe this calculation, you can say that, oh, I'm going to add x one next to an x three, all of them and divide by N, right?

465
00:58:53,290 --> 00:58:58,480
So that's this that's one way to calculate the mean standard deviation.

466
00:58:58,870 --> 00:59:10,449
If you calculate all already the mean, then you can subtract each of the values with with the mean as spirit and add them and divide by a minus one.

467
00:59:10,450 --> 00:59:14,970
And if you take the square root of them, that's the standard deviation.

468
00:59:15,100 --> 00:59:21,309
Okay, so it's a simple, right? So you can even you don't need to describe it.

469
00:59:21,310 --> 00:59:25,840
You don't even need to describe it. Steps you can just, you know, show by equation.

470
00:59:25,840 --> 00:59:31,300
There's no I know sort of complicated algorithm you need to explain.

471
00:59:32,470 --> 00:59:39,640
Okay. But so before we're talking about that algorithm, we're going to.

472
00:59:39,640 --> 00:59:46,540
So the problem we're going to solve. Well, let me let me try to try it.

473
00:59:47,680 --> 00:59:50,440
So this is the problem we're going to solve. Okay?

474
00:59:50,860 --> 01:00:03,730
But the problem we're going to solve is that you have a so your you're going to calculate the mean as standard deviation, but there is a one catch.

475
01:00:04,330 --> 01:00:09,460
You cannot look at the data twice. You can only look at the data once.

476
01:00:10,300 --> 01:00:15,470
Okay? And you can not stored those information, right?

477
01:00:15,490 --> 01:00:21,220
So you just need to look at once and calculate some summary statistic and move on.

478
01:00:22,180 --> 01:00:32,950
Okay. So when you are required to do that kind of work, maybe mean means still is is possible as you may think.

479
01:00:32,950 --> 01:00:36,520
You can just calculate the somin divide divided by the end later.

480
01:00:36,700 --> 01:00:40,060
Right? So keep to keep keep track of two numbers.

481
01:00:40,790 --> 01:00:45,460
You know how many observation I had, what the total sum is.

482
01:00:46,900 --> 01:00:50,320
And but standard deviation is a little tricky, right?

483
01:00:50,920 --> 01:00:55,540
So first thing I want you to think about is how to how to solve that problem.

484
01:00:56,320 --> 01:01:04,230
But before we going there, I wanted to explain first on how to, you know,

485
01:01:04,240 --> 01:01:09,370
just a setting up the problem because in which case that would I need that, right.

486
01:01:09,610 --> 01:01:17,620
Why do I need to look at the data ones? And the example I'm going to try to explain is that you are reading from a very large file where sometimes

487
01:01:17,620 --> 01:01:23,169
you are you are reading for you need to read from stream and you are not allowed to look at that twice.

488
01:01:23,170 --> 01:01:28,209
There are cases like that. Okay, so and especially when you handle a very large data.

489
01:01:28,210 --> 01:01:31,720
So that's the setup I wanted to.

490
01:01:32,080 --> 01:01:39,850
Oh, work with. So working with a Google collaborator, it's usually very, very efficient, very convenient.

491
01:01:40,150 --> 01:01:46,450
And you can do you know, you can avoid the setting up a lot of competition in work environment and stuff.

492
01:01:46,450 --> 01:01:54,609
But the tricky part is that when you deal with a large data or some keyboard input or something,

493
01:01:54,610 --> 01:01:59,980
then sometimes Google collab is not the same as your regular art environment.

494
01:02:00,460 --> 01:02:08,650
So I'm trying to mimic those a typical setting where you work in the in your local computer or a server machine,

495
01:02:08,950 --> 01:02:18,159
then you will have to deal with a lot of files. So this, this you need to understand the system command and all the units command.

496
01:02:18,160 --> 01:02:24,430
But I'm trying to explain what, how I'm setting up so I'm going to create some file in this server.

497
01:02:24,430 --> 01:02:31,960
Google Cloud is running on the server, so I'm going to create some file that contains some sequence of numbers.

498
01:02:32,110 --> 01:02:36,729
So if you do a sequence as CQ is a UNIX common,

499
01:02:36,730 --> 01:02:41,950
so if you so server is unique so you don't have to worry that whether you're running on

500
01:02:41,950 --> 01:02:46,270
Windows or Mac because it's running on the Unix server in the in the remote in the back end.

501
01:02:47,770 --> 01:02:56,079
So secure zero five is is a creating the number sequence of number 0 to 5.

502
01:02:56,080 --> 01:03:07,690
And if this this is also UNIX come in if you do this it's a writing a file it's a the redirecting those output into a specific file.

503
01:03:07,750 --> 01:03:15,490
So if you run this, then what's going to happen is that it's going to create a file name that is.

504
01:03:15,510 --> 01:03:21,990
So I probably should add this comment to to make sure that this is really top strength

505
01:03:23,290 --> 01:03:32,110
that is minus L and you need to do in turn equals through to see the output then.

506
01:03:32,620 --> 01:03:36,850
Well let me, let me put this because.

507
01:03:38,000 --> 01:03:44,660
Well. Okay. Okay. So. Okay, this is not so great.

508
01:03:45,680 --> 01:03:49,160
Okay. So then it create a file.

509
01:03:49,460 --> 01:03:52,760
Okay. Here. So running this for running this.

510
01:03:52,760 --> 01:04:00,379
Commit to create a file and you can read it. Read the file during the data table and you will see that all the sequence of number

511
01:04:00,380 --> 01:04:07,040
from 0 to 5 in the second command at 125 is basically create a number from 100 205.

512
01:04:07,280 --> 01:04:16,070
Okay. So that's just what I. So that's one way to create a file without without messing things around.

513
01:04:17,540 --> 01:04:22,460
Okay. Then you can also read from a file in R.

514
01:04:22,730 --> 01:04:28,610
So if you do a file and if you if you say that, I'm going to I'm going to create a file handle.

515
01:04:29,300 --> 01:04:32,420
What you can do is you can read a file line by line.

516
01:04:32,840 --> 01:04:38,600
Okay. So if you do the read the lines, then you read you read the first line 100.

517
01:04:39,350 --> 01:04:46,460
If you read another line, it's a reading. Reading the second line, we run it again, reading the third line.

518
01:04:46,520 --> 01:04:51,020
So it's reading one number at a time. Okay. So that's what I'm what I what I want to set up.

519
01:04:51,350 --> 01:04:56,960
Okay. So the function I'm setting up is that I'm pretending that I'm reading from a file.

520
01:04:57,320 --> 01:05:02,380
Okay. So read a table. I mean, I'm actually reading if I'm not pretending, reading, reading.

521
01:05:02,420 --> 01:05:05,600
So this call is actually a file handler.

522
01:05:06,110 --> 01:05:10,790
And you're reading the number one at a time. And the written number.

523
01:05:10,880 --> 01:05:14,810
So, for example, here I'm creating a file and now read.

524
01:05:14,840 --> 01:05:18,440
If you do the read a double function, it read the same table number.

525
01:05:18,440 --> 01:05:24,050
Every return to return the double hundred and the return 100, 100, 203.

526
01:05:24,170 --> 01:05:31,750
So that's that's how I set up. So now you have a if you are using this reader double, you can now look back the file.

527
01:05:31,760 --> 01:05:41,330
You can just read, read the numbers only once and you need to read the number only once to calculate the mean and standard deviation.

528
01:05:41,780 --> 01:05:46,340
Okay. So is that so?

529
01:05:46,350 --> 01:05:51,500
Is it clear so far? Okay, so now we're going to do this.

530
01:05:51,800 --> 01:05:56,730
Okay. So I'm going to calculate the average from a stream.

531
01:05:56,750 --> 01:06:00,440
So now it's a big number. One 2 million. Okay.

532
01:06:01,010 --> 01:06:04,550
Or 100 million to 101 million. Okay.

533
01:06:05,210 --> 01:06:14,450
So I'm creating this. So now if I copy this line just to make sure that the file was actually created.

534
01:06:14,900 --> 01:06:21,720
So this is a remote computer, you can see, but you can you can check what kind of files exist.

535
01:06:21,740 --> 01:06:32,900
So now it has pretty large files here to to text files generated with 67 megabytes and ten megabytes of file.

536
01:06:33,170 --> 01:06:38,570
Okay. So now we're trying to calculate the average.

537
01:06:38,840 --> 01:06:43,310
Okay. So culture everyday, there's no big deal. So how do I do it?

538
01:06:44,240 --> 01:06:48,170
So this is a function stream, the average function.

539
01:06:48,520 --> 01:06:59,000
Okay. What you need to do is keep the keep track of the number of observations and keep the keep track of a sum of all values.

540
01:06:59,510 --> 01:07:12,170
Okay. And whenever you read a number, add the number of observation by one and add the add the number actually you read here.

541
01:07:12,350 --> 01:07:18,920
Okay. Now, if you do that. So this is just reading a function.

542
01:07:19,070 --> 01:07:33,200
So if you actually read a file here and try to calculate the average, it takes a long time because it's it's a reading file in the inefficient way.

543
01:07:33,560 --> 01:07:38,390
But the average was calculated and the average is exactly 500,000.

544
01:07:38,740 --> 01:07:51,260
Okay, so this works. Okay. So now no precedent issue necessarily expected here unless you're dealing with a very popular numbers, I think.

545
01:07:52,940 --> 01:07:56,420
Okay. So so far, so good.

546
01:07:56,470 --> 01:08:00,290
And so if you have any questions, let me know. Okay.

547
01:08:00,800 --> 01:08:04,100
So that this is the part I covered. Okay.

548
01:08:04,610 --> 01:08:09,080
Now, think about this. How would you implement the function to calculate the various.

549
01:08:13,660 --> 01:08:22,480
I'll give you one minute to think about it. You need to.

550
01:08:22,530 --> 01:08:25,620
Without cocaine. I mean, I had.

551
01:08:26,100 --> 01:08:36,610
How would you do it? This is not the solution.

552
01:08:36,670 --> 01:08:40,450
This is what you usually would do with a two piece algorithm.

553
01:08:40,850 --> 01:08:47,290
Okay, so this is. This is what usually people do well to calculate the variance.

554
01:08:47,620 --> 01:08:50,800
You calculate the mean first. Okay. So this is a one.

555
01:08:50,830 --> 01:08:52,160
This is called pseudocode.

556
01:08:52,180 --> 01:09:00,130
You can write your algorithm in not a specific language, but you can actually describe your steps in sort of a mathematical format.

557
01:09:00,490 --> 01:09:07,540
So here the algorithm is basically you have a data and you will have some result to calculate the mean and variance.

558
01:09:08,050 --> 01:09:19,510
How do you do it? You initialize amenities into zero and add all the values and calculate the mean by dividing the by the number of observation.

559
01:09:20,080 --> 01:09:25,570
After that, you you can keep adding the once you have the mean.

560
01:09:25,580 --> 01:09:30,850
It's very simple. You just have a squared difference between the mean and your observations and parking.

561
01:09:30,850 --> 01:09:35,830
And this this is super simple. And this is what everyone would do usually.

562
01:09:37,720 --> 01:09:42,580
Okay, but this one needs to go to the data twice and then can you do it?

563
01:09:43,060 --> 01:09:46,070
I'll do the same thing by looking at the data once. Okay.

564
01:09:48,700 --> 01:09:52,330
So this is one pass are with them.

565
01:09:52,870 --> 01:10:02,460
Okay. So the key thing you need to know is that if you wanted to calculate the variance, you can use these equations.

566
01:10:04,000 --> 01:10:13,180
Okay if you do the summation square to some sum of squares for minus some.

567
01:10:14,230 --> 01:10:27,370
So sum of some squares minus a square of seven divided by n is equal to the MN, minus one times the variance.

568
01:10:28,570 --> 01:10:38,140
Okay. So you may have seen something similar like E of x squared minus C, you know, scared of u of x and something similar.

569
01:10:38,530 --> 01:10:44,410
But this is one version of that. Okay, so this is the idea.

570
01:10:45,310 --> 01:10:53,200
Okay. So this is the idea in that you you basically calculate three numbers now.

571
01:10:53,470 --> 01:10:56,170
Right. One is the total number of observation.

572
01:10:56,170 --> 01:11:04,930
When you read, read or read the data from stream and you calculate the sum of X, but you also calculate the sum of the square of x.

573
01:11:05,350 --> 01:11:13,990
Right. So this. Okay. And and keep track of these numbers.

574
01:11:14,560 --> 01:11:24,220
And after that, I'm going to calculate the variance by calculate this number first and divide this number into in minus one.

575
01:11:24,520 --> 01:11:27,970
So that's what this article is doing.

576
01:11:32,880 --> 01:11:40,560
So for the number and if you count the subcommittees does that also in the past.

577
01:11:40,830 --> 01:11:46,840
Yeah, but you're reading one by one so you until you reach that, you don't know how many you have, you have read.

578
01:11:46,870 --> 01:11:50,970
So that's why when you were actually like executing the solution, which is like a counter, right.

579
01:11:51,630 --> 01:11:55,350
Right. Yeah. Oh yeah. So it this part doesn't have to count.

580
01:11:55,410 --> 01:11:59,910
Yeah. That's it. That's a good that's a good point. Yeah. So we need to keep track of that to keep track of the count.

581
01:12:00,780 --> 01:12:06,420
Yes. So let's let's look at this our implementation of this idea.

582
01:12:06,930 --> 01:12:12,780
Okay. So. So this is the this is what it does.

583
01:12:12,900 --> 01:12:23,340
So, uh, so these three numbers, you keep track of it, the total number of observation some and squared squared off some as s q.

584
01:12:23,910 --> 01:12:29,110
Okay. Then you just add these numbers while you are reading each of the each of the value.

585
01:12:29,610 --> 01:12:36,660
And after that, uh, calculate the average variance in this and a and you know,

586
01:12:36,780 --> 01:12:45,870
everything looks pretty straightforward as long as you know that trick to how to calculate the variance without, without pretty calculating the mean.

587
01:12:47,430 --> 01:12:57,000
So this looks good. Okay, so now let's try to do this, evaluate this with the number starting from zero 2 million.

588
01:12:57,480 --> 01:13:02,320
Okay. To how this works. Okay.

589
01:13:02,430 --> 01:13:09,090
So you calculate this and this is the average, which is a 500,000.

590
01:13:09,270 --> 01:13:13,320
And this is standard deviation. Okay. Okay.

591
01:13:14,040 --> 01:13:22,740
This looks good. Let's try to do this with a 10 million, 200,000,201 or 1 million.

592
01:13:22,860 --> 01:13:25,860
So in this case, meanwhile, we've shifted.

593
01:13:25,890 --> 01:13:29,070
You don't expect us our variance will be changed. Right.

594
01:13:36,450 --> 01:13:41,310
So well, meaning 100 million. 500,000.

595
01:13:42,750 --> 01:13:50,480
Do you see the standard deviation is the same? So it's not the same.

596
01:13:51,740 --> 01:13:54,920
Do you think this is an acceptable amount of difference?

597
01:13:59,160 --> 01:14:05,130
It's a difference that the difference in the likes 870 just eight digits.

598
01:14:06,180 --> 01:14:13,620
You may not care in this particular case. But this is something that you may be worried about.

599
01:14:13,830 --> 01:14:17,760
And in the in the case, instead of trying to do 100 million,

600
01:14:17,760 --> 01:14:22,230
if we tried a billion or something, probably the difference would be it would have been larger.

601
01:14:23,700 --> 01:14:28,650
So. Well, first, why do you think this problem happens?

602
01:14:32,990 --> 01:14:36,979
Just to make sure Les structures are has an SD function.

603
01:14:36,980 --> 01:14:40,910
So let's try to make sure that this is really not supposed to happen.

604
01:14:41,480 --> 01:14:49,610
If you do SD function, both of them the R as the function is calculated to implement nicely.

605
01:14:49,610 --> 01:14:56,660
So both of them give the exact same right number. So there is a way to calculate the standard deviation in more accurate way.

606
01:14:57,470 --> 01:15:00,620
Okay. So why do you think this problem happens?

607
01:15:11,440 --> 01:15:13,700
When you calculate these numbers, right.

608
01:15:13,960 --> 01:15:26,560
You're you're calculating the additions in some of squares in your we're adding this 100,000,100 million squares in the in all these sums.

609
01:15:26,560 --> 01:15:35,560
Right. So those are contributing to the loss of precision because you're going to subtract those numbers eventually.

610
01:15:36,730 --> 01:15:45,670
Okay. So if you knew that, oh, my range is like 100 million, 200, 1 million, if you knew that information before,

611
01:15:46,060 --> 01:15:52,450
you would probably have avoided that situation by subtracting all the numbers by 100 million.

612
01:15:52,630 --> 01:15:57,610
Right. So that that's what you could have done, but you didn't know the beginning.

613
01:15:58,750 --> 01:16:05,650
Right. So how do we make the precision better in more general way?

614
01:16:06,640 --> 01:16:10,210
So that that is the real question we want you to address today.

615
01:16:10,990 --> 01:16:19,750
And this is related to the homework one. So I want you to go through the at least the answer so that you can think about it.

616
01:16:20,110 --> 01:16:25,030
Okay. So these are what is called what are they now for?

617
01:16:25,030 --> 01:16:28,540
My problem is very little. The first problem is very late. This one.

618
01:16:30,070 --> 01:16:35,140
So Western wisdom is basically is very peculiar.

619
01:16:35,260 --> 01:16:40,990
Okay, so you don't understand what this is doing, but this is actually very interesting algorithm.

620
01:16:41,410 --> 01:16:52,569
Okay. So when you when you go over each of the data where first first is just a sign in that when you in the first observation,

621
01:16:52,570 --> 01:16:57,940
you, you say the variance is you know and meaning is the first observation.

622
01:16:57,940 --> 01:17:08,590
So which makes sense. But from the second observation, what you do is that you are doing some incremental addition with a specific coefficient.

623
01:17:10,030 --> 01:17:17,349
Okay, so first item, first update, the variance is before updating the mean.

624
01:17:17,350 --> 01:17:20,440
So update a variance this way. Okay.

625
01:17:21,550 --> 01:17:24,740
And update them in this way. Okay.

626
01:17:25,030 --> 01:17:29,469
And keep doing this. So this square is not exactly a variance.

627
01:17:29,470 --> 01:17:33,340
Various multiply by end times one it minus one.

628
01:17:33,340 --> 01:17:37,240
So it actually needs to divide n minus one at the end.

629
01:17:37,870 --> 01:17:43,120
But this x bar is actually keeping track of mean exactly by doing this we.

630
01:17:47,470 --> 01:17:51,910
So. Well, this is a interesting algorithm.

631
01:17:52,630 --> 01:17:57,010
How do we know that this is correct? Okay.

632
01:17:57,040 --> 01:18:03,250
So once once you come up with some algorithm, you need to be able to prove that this actually works.

633
01:18:03,560 --> 01:18:08,140
Right. So you can prove that this way.

634
01:18:08,440 --> 01:18:16,630
So by induction, basically, you can you can prove that x bar always keep track of the mean.

635
01:18:17,080 --> 01:18:21,280
Okay. So if you so x x.

636
01:18:21,580 --> 01:18:25,120
So let's say end is the the end iteration.

637
01:18:25,450 --> 01:18:38,500
Okay. Then you can show that this is always keep track of keep track of mean by assuming that, you know, this hap this is true until n minus one.

638
01:18:38,980 --> 01:18:44,020
Okay. And you you expand this equation by showing the artist.

639
01:18:44,530 --> 01:18:54,660
So if you if you apply this rule, then it again becomes the x of the mean of in plus one.

640
01:18:54,670 --> 01:18:57,820
So it by induction it works.

641
01:18:58,300 --> 01:19:07,570
Okay. We have one minute so I don't have time to go over this correcting this of the variance.

642
01:19:07,570 --> 01:19:11,050
And I'll start with this in the next Monday.

643
01:19:11,620 --> 01:19:15,700
But this is the proof that that this works for the variance, too.

644
01:19:16,360 --> 01:19:29,500
So basically, as the square in this algorithm, it exactly calculates this this value, which is job variance multiplied by n minus one.

645
01:19:29,920 --> 01:19:37,430
Okay. So that's. And the proof is much more complicated, but proof is given here.

646
01:19:37,450 --> 01:19:45,070
So I'll give you a time to digest it and solve to solve the problems for my problem.

647
01:19:46,330 --> 01:19:56,080
So, yeah, I know this is a 950, but this 111 word for the human problems that all human problems is related to numerical precision of this time.

648
01:19:56,530 --> 01:20:04,210
So, you know, when you try to solve the problem, make sure that you are not losing numerical Christian.

649
01:20:04,540 --> 01:20:12,970
Okay, then maybe you are going to be workforce first for a few examples, but it may not work for the for the more complicated examples.

650
01:20:13,420 --> 01:20:18,610
Okay. And if you see the form of problems, there are two two test pages.

651
01:20:19,210 --> 01:20:26,170
One is just the test page. And second is an extra test page which contains more complicated examples.

652
01:20:26,170 --> 01:20:30,060
So you make sure that you test with this page, page it to two.

653
01:20:30,710 --> 01:20:38,980
Once you have a working code, so you use this page to test with your, you know, make sure that this is work, this works.

654
01:20:38,980 --> 01:20:44,650
And if you think this is works and ready to submit before submitting, try to test on this page first.

655
01:20:46,210 --> 01:20:52,030
Okay. Thank you. And if you have any questions, I have about 10 minutes to answer.

