1
00:00:25,980 --> 00:00:28,710
Marisa Eisenberg: in the morning and people behave so let's go ahead and start.

2
00:00:30,480 --> 00:00:45,510
Marisa Eisenberg: Alright, so let's see we were going to do let's continue we stopped, so we stopped sort of partway through the network's section so we're going to finish that up and then we'll talk a little bit about sampling methods and things like that.

3
00:00:46,830 --> 00:00:54,420
Marisa Eisenberg: I that at the end of the morning session all sort of talked about this project proposal thing that we're going to work on in the afternoon.

4
00:00:54,720 --> 00:01:09,060
Marisa Eisenberg: And sort of step you all through the proposal template and all that, but so let's but for now let's just kind of continue trucking through here um any questions about any of this stuff so far things you want to get sorted out before we get started.

5
00:01:11,430 --> 00:01:29,310
Marisa Eisenberg: Okay, if not, then, here we go, so we finished up last time we talked about modularity and sort of how to how to cluster networks and things like that I want to talk now about how to generate networks at random, so you know how does one generate random networks and sort of see kind of.

6
00:01:29,310 --> 00:01:30,540
Marisa Eisenberg: What is involved there.

7
00:01:31,230 --> 00:01:40,230
Marisa Eisenberg: So when you're generating when you lie So how do you want, how would you how do you generate networks and why might you want to also so.

8
00:01:40,710 --> 00:01:52,350
Marisa Eisenberg: So first how to generate number so real world networks, you know there's of course lots of data, you can generate your network from just using an existing real world data based network there's lots of network data out there.

9
00:01:53,220 --> 00:02:02,040
Marisa Eisenberg: And you know if you Google for some you'll find all kinds of different things, but you often want to also be able to generate random networks yourself and so.

10
00:02:02,640 --> 00:02:04,920
Marisa Eisenberg: These can often either be used as.

11
00:02:05,730 --> 00:02:19,230
Marisa Eisenberg: static networks that you're going to run some dynamical process on like infectious disease transmission or something or you may want to generate random networks as part of a model that you're building of how networks form and how they change and what happens to them.

12
00:02:20,280 --> 00:02:30,720
Marisa Eisenberg: So, why would you want to build a random network well you know oftentimes you you're using it as part of your model like I said you're simulating the formation of a network or the dynamics of a network or that kind of thing.

13
00:02:32,520 --> 00:02:40,770
Marisa Eisenberg: But a lot of times it's also because you may just not know the exact network of the real world system that you're working with.

14
00:02:41,070 --> 00:02:46,890
Marisa Eisenberg: But you perhaps do know some general features of that real world system so maybe you know something like.

15
00:02:47,190 --> 00:02:57,900
Marisa Eisenberg: Oh it's scale free but I don't I don't know exactly what it is, but based on the literature, you know many of the networks of this kind tend to be scale for you so i'd like a scale free network of some kind or.

16
00:02:58,800 --> 00:03:08,280
Marisa Eisenberg: You know something about different features, it has four clusters and what have you so you can simulate random networks that have these features and so.

17
00:03:08,880 --> 00:03:18,240
Marisa Eisenberg: So you that's often kind of one reason you might want to simulate random networks another reason which we'll talk about with the first kind of random network that we're going to do the erudition any graph.

18
00:03:19,140 --> 00:03:28,320
Marisa Eisenberg: You may also want to just explore the You may know nothing about the network in question that you're going to simulate on but you want to just explore what.

19
00:03:29,130 --> 00:03:38,220
Marisa Eisenberg: Impact a network system has on the process that you're simulating so you might want to just sample from the space of random networks.

20
00:03:38,430 --> 00:03:46,020
Marisa Eisenberg: And sort of explore how the dynamics change as you move as you as you sort of simulate on a range of different randomly chosen network so.

21
00:03:46,860 --> 00:03:50,550
Marisa Eisenberg: So with that so, for instance areas many networks are.

22
00:03:51,120 --> 00:04:02,790
Marisa Eisenberg: Some people call them areas when you Gilbert networks anyway there's there, there are totally random graphs so they are networks that are chosen entirely at random from the space of possible networks.

23
00:04:03,480 --> 00:04:10,830
Marisa Eisenberg: And there's two ways of doing it basically you can either do they both involve choosing the number of nodes.

24
00:04:11,550 --> 00:04:22,230
Marisa Eisenberg: And then either flipping a coin for each edge, with some probability and saying does this edge exist, yes or no flip a coin and then you know kind of do that for each possible edge or.

25
00:04:22,740 --> 00:04:34,560
Marisa Eisenberg: The other way to do it is to take your network of end nodes decide that you're going to have em edges and then assign them at random, to the various nodes within the network and so.

26
00:04:35,280 --> 00:04:40,170
Marisa Eisenberg: Each of these will produce entirely you know random graphs with the specified properties.

27
00:04:41,070 --> 00:04:45,960
Marisa Eisenberg: And just you know so here's some various examples of the kinds of things that you get so if you.

28
00:04:46,200 --> 00:04:52,830
Marisa Eisenberg: Set the probability of forming a an edge to various different things, and you have you know 10 or 30 nodes.

29
00:04:53,040 --> 00:05:06,360
Marisa Eisenberg: You get all sorts of different kinds of things, so you know here you have a low probability of edges for means do you know kind of sparsely connected network do the same number of nodes which you increase the probability of edges forming and you get a more tightly coupled network, etc.

30
00:05:07,740 --> 00:05:11,310
Marisa Eisenberg: And you should note that the probability of edges forming.

31
00:05:13,590 --> 00:05:17,130
Marisa Eisenberg: Essentially I should have done this with a point to just to illustrate the point.

32
00:05:18,360 --> 00:05:26,970
Marisa Eisenberg: Just because you've choose a low probability of edges what feels like a you know 20% might feel like a low probability of edges forming or 30%, but if you choose a lot of.

33
00:05:27,240 --> 00:05:36,000
Marisa Eisenberg: A lot of notes, there are many possible edges and so you'll still get something fairly well connected So this has a only a 30% chance of edges forming.

34
00:05:36,300 --> 00:05:49,230
Marisa Eisenberg: And it has 30 notes so there's a lot more potential edges, that you can build and so even only a 30% chance ends up looking more connected more sort of tightly coupled than this, you know 60% chance of edges format.

35
00:05:49,560 --> 00:05:58,410
Marisa Eisenberg: And if you do the other way of doing it, then you choose however many edges, you want, and you just sort of it's like it's as though you draw the the.

36
00:05:58,680 --> 00:06:08,220
Marisa Eisenberg: verdict the nodes down on the ground and you just throw sticks down right and then wherever they land that's the two you know that's the the nodes that you couple up so.

37
00:06:08,700 --> 00:06:22,260
Marisa Eisenberg: So that's artist when you ran random networks, now it has many networks are not very realistic for many things it's often the case that you know the actual network that you're thinking of working with has.

38
00:06:22,860 --> 00:06:34,230
Marisa Eisenberg: You know, it has some properties that are kind of guiding how the network is formed, and so it probably is not really a totally random network, it probably has some some actual sort of properties that.

39
00:06:34,710 --> 00:06:41,940
Marisa Eisenberg: That are driving it but it's still the case that random networks are often even if they're not very realistic they're often.

40
00:06:42,090 --> 00:06:44,430
Marisa Eisenberg: a really good test case.

41
00:06:44,580 --> 00:06:45,060
So.

42
00:06:46,320 --> 00:07:04,770
Marisa Eisenberg: For instance, a lot of the compartment models that we've built the stochastic compartment models and the only ease are assuming under the hood you know so when you build those they're assuming random interaction between the individuals within a compartment right and so.

43
00:07:05,820 --> 00:07:10,710
Marisa Eisenberg: And so, if you want to make an analog of that in a network setting.

44
00:07:11,610 --> 00:07:16,230
Marisa Eisenberg: an artist or any graph is a good choice because it's it's it's capturing that randomness and so.

45
00:07:16,500 --> 00:07:28,650
Marisa Eisenberg: Even if you don't think it's the most realistic model it's often a really good test case because you have, over the years that are should come out with similar results you know you can kind of use it as a way of benchmarking.

46
00:07:29,850 --> 00:07:36,240
Marisa Eisenberg: When you go on to other kinds of networks may be useful if you switch to using you know more.

47
00:07:37,770 --> 00:07:43,860
Marisa Eisenberg: Realistic networks, you can compare against the air just run your network and see you know sort of how how well it does.

48
00:07:44,790 --> 00:07:55,320
Marisa Eisenberg: Okay, it also educating your networks may also not be realistic, but they also do let you sample from the complete space of possible graphs with no essentially no assumptions and so.

49
00:07:56,280 --> 00:08:12,270
Marisa Eisenberg: You know if you if you if you can sort of replicate let's say you're you want to know, will this intervention work if it seems to work across a large artist run the sample then it suggests that there's no that the special features of the network are not.

50
00:08:12,960 --> 00:08:22,500
Marisa Eisenberg: affecting whether or not this you know this condition or you know intervention or whatever it is that you're simulating is going to behave consistently.

51
00:08:23,820 --> 00:08:33,030
Marisa Eisenberg: You know, alternatively, if you sample from air district graphs and you don't find the property you're interested in, or it doesn't work, very often, it may be that.

52
00:08:33,390 --> 00:08:36,360
Marisa Eisenberg: The part of the reason that whatever condition you're looking at.

53
00:08:37,320 --> 00:08:44,280
Marisa Eisenberg: happens, has to do with the specific structure of the network, and so you don't see it very often when you're sampling from an industry and you graph.

54
00:08:44,970 --> 00:08:52,890
Marisa Eisenberg: So anyway so just some things there's a ton of theory about edge when you graphs you can, if you dig through this you can find.

55
00:08:53,250 --> 00:09:00,450
Marisa Eisenberg: All kinds of stuff about the details of what the the degree distribution, you know how it forms a giant component all these different kinds of things.

56
00:09:01,230 --> 00:09:12,210
Marisa Eisenberg: You can you get there's really a lot of work that's been done in this area, and so it also has a lot of like sort of mathematical tools that are available to you if you want to use erudition you graphs oops I forgot i'm doing this.

57
00:09:14,460 --> 00:09:19,350
Marisa Eisenberg: i'm okay so that's air dish rennie totally random graphs.

58
00:09:20,940 --> 00:09:22,620
Marisa Eisenberg: Which are you know cool that's good.

59
00:09:23,820 --> 00:09:27,360
Marisa Eisenberg: But there's other kinds of graphs that you might want to simulate randomly to.

60
00:09:28,590 --> 00:09:35,700
Marisa Eisenberg: And so, for this one of them is called a small world network, and I want to just mention why why it's called that so.

61
00:09:36,330 --> 00:09:48,600
Marisa Eisenberg: milgram did an experiment were called a small world experiment that that which is, which is, I think the origin of the phrase i'm not actually sure, but um but.

62
00:09:49,380 --> 00:10:01,770
Marisa Eisenberg: I think it's the origin of the praise I don't know anyway um but he did this experiment, where he sent packages to random people in wichita Kansas, this is an experiment that would only work.

63
00:10:02,370 --> 00:10:10,170
Marisa Eisenberg: Like nowadays this people would become deeply suspicious very fast, and this would be you know but anyway, so it worked at the time.

64
00:10:11,160 --> 00:10:27,540
Marisa Eisenberg: So he said packages to random people in wichita Kansas inside the package was a letter that asked them to forward the the package to a person in who lived in Sharon Massachusetts but the instructions on the letter.

65
00:10:28,830 --> 00:10:33,390
Marisa Eisenberg: said they could only mail the letter directly to this person and Sharon Massachusetts.

66
00:10:34,140 --> 00:10:45,900
Marisa Eisenberg: If they knew that person personally, otherwise they were instructed to send the package to whatever relative or friend they had who they thought would be more likely to know.

67
00:10:46,440 --> 00:10:52,890
Marisa Eisenberg: This this randomly chosen i'm hoping that he picked himself or something, because otherwise it's weird he's just.

68
00:10:53,520 --> 00:11:03,090
Marisa Eisenberg: he's just sending instructing people to send packages to a random person, but I see me the the target person was someone who knew they were expecting to get all this, but so anyway.

69
00:11:04,140 --> 00:11:19,470
Marisa Eisenberg: send it to this person and sharing Massachusetts if they know that person personally otherwise send it to whoever they you know, whatever friend, they have who they think is most likely to know this person and Sharon Massachusetts Okay, so he did this this experiment.

70
00:11:20,820 --> 00:11:31,980
Marisa Eisenberg: A lot of the letters didn't make it but among those that did the average path length was six, which is the I, this is what it is, which is the origin of the phrase six degrees of separation.

71
00:11:32,310 --> 00:11:40,590
Marisa Eisenberg: And is that you know, this is the origin of the idea that most people are connected to most other people by six degrees of separation and so.

72
00:11:41,880 --> 00:11:49,350
Marisa Eisenberg: A group of researchers wanted to be able to generate networks that had that same kind of six degrees of separation type of property, where.

73
00:11:49,650 --> 00:12:06,270
Marisa Eisenberg: Most people don't necessarily directly know each other, but they are connected to one another, via a few jobs, and so they wanted to build something like this, so so they were thinking about it and and the idea, they had was well okay so.

74
00:12:07,680 --> 00:12:12,960
Marisa Eisenberg: It turns out that if you build a regular graph so a regular graph is a network that.

75
00:12:14,730 --> 00:12:24,510
Marisa Eisenberg: Lets say, these are your nodes so a regular graph is one where everyone is connected to the same number of people so like if you did something like this, where.

76
00:12:25,260 --> 00:12:37,470
Marisa Eisenberg: You know each person is connected to two other ones, for instance, this would be a regular graph each person in this network is connected to two other you know their two nearest neighbors right and so.

77
00:12:38,130 --> 00:12:45,690
Marisa Eisenberg: So that that's a regular graph you could do the same thing, where each person is connected to three people or something you know and and maybe you do.

78
00:12:45,960 --> 00:12:59,280
Marisa Eisenberg: It sort of you know, whatever there's various ways, but any network where okay i'm making a mess, but any network where where you have a kind of every person has the same degree structure is called a regular network and so.

79
00:13:00,540 --> 00:13:15,660
Marisa Eisenberg: Regular networks have are somewhat clustered but the path length grows linearly with the number of nodes, meaning that they the as as the size of the network gets bigger people tend to be connected to one another through short paths.

80
00:13:16,500 --> 00:13:21,990
Marisa Eisenberg: editor any graphs are not clustered, which is what they wanted, but they have.

81
00:13:22,650 --> 00:13:34,500
Marisa Eisenberg: But they have small they have they do have or pardon me that sorry, these are the other way around, my goodness, I needed my coffee this morning and I didn't have it Okay, they wanted something where there's clustering patterns, people have friend groups but.

82
00:13:35,850 --> 00:13:41,580
Marisa Eisenberg: In this case, the pathway length grows linearly which is too fast so so that means that.

83
00:13:42,270 --> 00:13:51,030
Marisa Eisenberg: The basically there's the paths between individuals are long because everyone's in their own clusters, so you have to like move through these different clusters, to get to people.

84
00:13:51,540 --> 00:14:06,180
Marisa Eisenberg: So the the path length for this meaning the shortest path distance between two people is too long for a regular graph and erudition any graph doesn't have clustering, but it does have small path length, so, if you look at like path length.

85
00:14:09,030 --> 00:14:11,670
Marisa Eisenberg: as a function of number of nodes.

86
00:14:14,670 --> 00:14:18,660
Marisa Eisenberg: The air dish rennie so the the regular graph grows linearly.

87
00:14:19,440 --> 00:14:26,910
Marisa Eisenberg: The areas renew graph goes like a log so it has a as the number of nodes increases, it has a shorter path length.

88
00:14:27,210 --> 00:14:39,060
Marisa Eisenberg: And so they wanted that arish renew property, but they wanted the clustering of a regular graph, and so what they did was they developed so it's all right Newman Watson strogatz develop this.

89
00:14:40,020 --> 00:14:47,430
Marisa Eisenberg: This small world algorithm, and so what they do is basically you take a regular graph you start with a regular graph.

90
00:14:48,270 --> 00:15:00,810
Marisa Eisenberg: And then you randomly rewire a percentage of the links, so you start with a graph that that's just sort of like nearest neighbor coupling in a circle kind of something like this.

91
00:15:01,860 --> 00:15:05,760
Marisa Eisenberg: And then you you basically randomly reassign.

92
00:15:07,020 --> 00:15:15,030
Marisa Eisenberg: The edges, with some probability, so you you maybe say okay i'm going to reassign one end of an edge, with some probability.

93
00:15:16,590 --> 00:15:18,090
Marisa Eisenberg: And you sort of trade.

94
00:15:19,410 --> 00:15:26,940
Marisa Eisenberg: The endpoint so that everyone keeps their same degree, but they are now connected, not just to their nearest neighbors but to random other people.

95
00:15:28,080 --> 00:15:35,400
Marisa Eisenberg: or I guess what else they wouldn't always keep exactly the same degree, sometimes they end up with higher degree or lower degree, because you're going to rewire bunch of things so okay.

96
00:15:35,610 --> 00:15:42,780
Marisa Eisenberg: You keep the same overall total number of edges, but they're connected to different people, so you rewire at random.

97
00:15:43,020 --> 00:15:50,580
Marisa Eisenberg: And what this does is that you know so essentially you can now shift between kind of a random network if you're requiring everything.

98
00:15:50,910 --> 00:16:02,940
Marisa Eisenberg: To a very regular network, if you don't rewire at all and it's not exactly a narrative renu graph for some specifics of kind of how they do the rewiring this isn't exactly totally random but it's pretty darn close.

99
00:16:03,840 --> 00:16:09,690
Marisa Eisenberg: And so, but the nice thing about this is that when you're in this in between regime where you're not requiring everything.

100
00:16:10,080 --> 00:16:26,370
Marisa Eisenberg: Nor are you just leaving it a regular graph you get this cool small world property, where most people are connected just to their nearest neighbors but, but there are these long range connections that everybody sort of has that mean that you can get short path length and so.

101
00:16:27,780 --> 00:16:38,580
Marisa Eisenberg: Most nodes are not neighbors of one another, but most nodes can be reached from any other node through a small number of steps so it captures that like six degrees of separation idea.

102
00:16:39,600 --> 00:16:47,160
Marisa Eisenberg: And so the average distance between two nodes ends up being proportional to login which is like the artist or any graph that we.

103
00:16:47,460 --> 00:16:53,370
Marisa Eisenberg: You know sort of feature that we wanted to capture and so small world networks, create this kind of like Oh, what a small note.

104
00:16:53,970 --> 00:17:02,130
Marisa Eisenberg: For a small note what a small world you know so and so to kind of effect where two nodes will tend to have a mutual friend.

105
00:17:02,940 --> 00:17:08,730
Marisa Eisenberg: And so it can be similar in certain ways to a scale free network and that you can produce.

106
00:17:09,420 --> 00:17:16,290
Marisa Eisenberg: You can often produce hubs but it's not it doesn't necessarily have to be scale for you, it can be all kinds of different things.

107
00:17:16,740 --> 00:17:31,920
Marisa Eisenberg: It often tends to produce more sort of bell shaped degree distributions but it depends so so that's one flavor of random network that's out there, that people often use called the small world network or the new in Watts strogatz.

108
00:17:33,090 --> 00:17:36,060
Marisa Eisenberg: there's another kind of.

109
00:17:37,770 --> 00:17:49,800
Marisa Eisenberg: Random graph that gets used a lot called the preferential attachment network, it was developed by last little bear bossy and rick Albert and and, and so they develop this.

110
00:17:50,970 --> 00:18:03,330
Marisa Eisenberg: To to build scale free basically types of networks, and so this this one is kind of an interesting one, so the way that this works is that you start with.

111
00:18:04,050 --> 00:18:14,940
Marisa Eisenberg: You add you start with sort of one node and then you add nodes into the network, and when you add nodes into the network you connect them up to the other nodes.

112
00:18:15,990 --> 00:18:22,050
Marisa Eisenberg: But you connect them up to the other nodes with probability proportional to their degree so.

113
00:18:22,710 --> 00:18:29,190
Marisa Eisenberg: It means that high degree nodes tend to get more edges, because as nodes get added they'll.

114
00:18:29,520 --> 00:18:40,080
Marisa Eisenberg: they'll connect themselves to the height they'll be more likely to connect themselves to higher degree people so here's a little gift just showing how that works so they're adding nodes and the nodes.

115
00:18:41,040 --> 00:18:57,330
Marisa Eisenberg: Are are you know connecting them they're all having you know connecting themselves to to people and, but when they do they're more likely to connect to high degree individuals and see if I can pause this whenever it stuffs at the end no she hang on.

116
00:18:58,680 --> 00:19:00,750
Marisa Eisenberg: wait till it gets to the end again and then i'll pause.

117
00:19:02,010 --> 00:19:10,200
Marisa Eisenberg: To do to do so, you can see that they're connected they're tending to connect themselves not completely, but they tend to connect themselves to high degree individuals.

118
00:19:10,470 --> 00:19:21,000
Marisa Eisenberg: And so, hang in there Okay, so, if you look at this network, you can see that what ends up happening is that people who randomly got sort of higher degree early on.

119
00:19:21,300 --> 00:19:29,220
Marisa Eisenberg: will then have this sort of rich get richer phenomenon wells up where they'll end up continuing to get increasingly high degree and so.

120
00:19:30,120 --> 00:19:41,970
Marisa Eisenberg: So it ends up, meaning that you get hubs and so, most of the nodes have low degrees to is is what everyone's being connected with here and and then there, but there are certain hubs that have.

121
00:19:42,420 --> 00:19:51,360
Marisa Eisenberg: Very high degree, and so this will this like rich get richer dynamic means you get hubs and so you can you can kind of use this as a way of.

122
00:19:52,620 --> 00:20:00,000
Marisa Eisenberg: of building scale free networks it's interesting actually so sometimes people use preferential attachment as a way of growing.

123
00:20:00,270 --> 00:20:05,880
Marisa Eisenberg: If they have an existing network that they think is scale free you can also expand and grow that network.

124
00:20:06,120 --> 00:20:15,720
Marisa Eisenberg: through preferential attachment, and it will give you it'll sort of give you a way to kind of preserve the scale for enos but expand your existing network that you have so people will do this when.

125
00:20:16,080 --> 00:20:30,780
Marisa Eisenberg: They have a network that's a sample maybe from a larger population and they'd like to expand it then you can use preferential attachment to do that okay so Those are two ways of generating random networks, with a particular property.

126
00:20:31,980 --> 00:20:40,770
Marisa Eisenberg: That you might sort of want for doing sort of public health population kinds of things where you want to capture particular features of the population.

127
00:20:41,700 --> 00:20:51,780
Marisa Eisenberg: Next i'm going to talk about a more kind of specialized way of generating random networks, but I wanted to pause here and see if there were questions, but any of this.

128
00:20:56,490 --> 00:20:57,180
Right.

129
00:20:59,670 --> 00:21:10,350
Marisa Eisenberg: Okay okay not so, so the other way that I wanted to talk about about generating random networks is what's called the configuration model so.

130
00:21:11,100 --> 00:21:23,100
Marisa Eisenberg: This is usually used when you have you have a network and you would like to explore the space of random networks that are similar in some way to your network that you have.

131
00:21:23,430 --> 00:21:33,090
Marisa Eisenberg: And so, one way to do that is to preserve the degree sequence or the degree distribution of your network so maybe I have a network data set.

132
00:21:33,390 --> 00:21:43,920
Marisa Eisenberg: of perhaps like a social contact network or something and and, and so I want to, I want to be able to kind of sample across network space.

133
00:21:44,250 --> 00:21:54,720
Marisa Eisenberg: And simulate a lot of different networks, but I want them to be kind of realistic to the network that I have, and so one way that you can do that it doesn't it doesn't preserve everything but it's one way to kind of.

134
00:21:55,140 --> 00:22:04,590
Marisa Eisenberg: To kind of get at this is, you can sample from the space of random graphs that have the same degree distribution, as your original network and so.

135
00:22:05,220 --> 00:22:22,980
Marisa Eisenberg: The way that this works is that you specify the degree sequence, so what is the you know how many you know each node how many other nodes is it connected to right and you make basically like a list of how many the degree of each node in your network and then.

136
00:22:24,180 --> 00:22:30,300
Marisa Eisenberg: The algorithm basically thinks of each node in your network as a Stub so it's like a little.

137
00:22:31,560 --> 00:22:45,870
Marisa Eisenberg: Note node with dangling half edges that are kind of like trying to connect to something else right and so each node in your network has a little half has half edges that are kind of representing its degree and then.

138
00:22:46,380 --> 00:22:54,990
Marisa Eisenberg: What happens is that the algorithm will start connecting stubs to one another, so if I have like maybe make this is a node, and this is a node.

139
00:22:55,230 --> 00:23:02,730
Marisa Eisenberg: it'll connect them and now, this is an edge and then it'll take you know, two other random stubs and start connecting so it will connect the stubs.

140
00:23:03,030 --> 00:23:15,480
Marisa Eisenberg: Until you get a network out of it now it doesn't always work, sometimes it ends up that the remaining you know you end up with two stubs dangling that are that are you know.

141
00:23:16,680 --> 00:23:20,340
Marisa Eisenberg: On the same node, for instance, and if you're not allowing loops then.

142
00:23:20,880 --> 00:23:36,300
Marisa Eisenberg: You know so where you're you're connected to yourself, then that's not a valid network, and now it has to start over but it basically just does this until a generate something that works as a network and and gets you know and then it'll sort of spit out whatever network generated.

143
00:23:37,770 --> 00:23:51,330
Marisa Eisenberg: I should note also here a lot of the time when you do this, at least when you have to be a little careful sometimes you can get a degree sequence from real world data without having a network so.

144
00:23:51,840 --> 00:23:57,450
Marisa Eisenberg: For instance, maybe you run a survey, where you ask people how many close friends, they have that they see.

145
00:23:57,750 --> 00:24:07,500
Marisa Eisenberg: Every day or every week or something like that right, so you ask them sort of how many friends, do you have that you see on a regular basis or how many friends that do you have how many people do you have who you would call.

146
00:24:07,890 --> 00:24:20,940
Marisa Eisenberg: If you had a problem you know people ask these kinds of social support types of questions and those can be interpreted as degree information right so that's so you get a sample of people, and you know how many.

147
00:24:21,960 --> 00:24:39,900
Marisa Eisenberg: People they were connected to and so researchers will use that kind of information and a configuration model to generate a network that that to that they can can run simulations on, you have to be a little careful if you have an odd and so.

148
00:24:41,040 --> 00:24:55,050
Marisa Eisenberg: These stubs imagine that you counted up these little half edges and you came up with an odd number then it's not possible to pair them all up to make a full network right because you'll have you always have one dangling steps so you have to be a little careful.

149
00:24:56,130 --> 00:25:05,520
Marisa Eisenberg: There are certain degree sequences that you might get from real world data that actually cannot be made into a network as they are, and so you know you have to kind of.

150
00:25:06,210 --> 00:25:13,950
Marisa Eisenberg: When you're using this method if you're not actually using a degree sequence from a real network if you're using a degree sequence that you got from something else.

151
00:25:14,310 --> 00:25:26,670
Marisa Eisenberg: You have to be a little careful that it is actually possible the algorithm will otherwise just fail, you know, every time because it's not actually possible to completely pair up all your your you know stubs into into into edges so.

152
00:25:27,120 --> 00:25:30,150
Marisa Eisenberg: Just something to kind of be aware of, if you wanted to use this.

153
00:25:31,590 --> 00:25:42,870
Marisa Eisenberg: But the configuration model provides a nice way to generate basically to sample from the space of random networks that are consistent with a real world degree, distribution and so.

154
00:25:43,440 --> 00:25:57,120
Marisa Eisenberg: You know, you can you can really use this you know, in a lot of ways to kind of if you want to do something like sample from random networks, but you want to do a little bit better than just totally sampling at random, with an erudition graph.

155
00:25:58,140 --> 00:25:59,700
Marisa Eisenberg: So so that's the story there.

156
00:26:00,900 --> 00:26:14,070
Marisa Eisenberg: Okay, so so so that's sort of random network generation next I was going to talk a little bit about dynamics on and of network, so their questions about the random network generation peaceful first.

157
00:26:19,290 --> 00:26:27,900
Marisa Eisenberg: Okay, so so let's talk a little bit about how we do dynamics on and of networks and we're going to also in this.

158
00:26:29,460 --> 00:26:45,090
Marisa Eisenberg: we're going to run we're going to we're going to do a little example to where we're going to sort of step through I coded up a little network model last night, just so that we have one that's a little more fleshed out than the sort of kind of.

159
00:26:46,830 --> 00:26:54,060
Marisa Eisenberg: You know emoji ABM is that we were doing before so okay so so let's.

160
00:26:55,590 --> 00:26:58,260
Marisa Eisenberg: Take a look so dynamics on network.

161
00:26:58,260 --> 00:27:05,430
Marisa Eisenberg: So this is usually you want to think about is usually either dynamics on the nodes or dynamics, maybe on the nodes and the edges.

162
00:27:06,330 --> 00:27:13,200
Marisa Eisenberg: You can have all kinds of different dynamics on networks, you can have discrete or continuous variable sort of people model like flow on.

163
00:27:13,860 --> 00:27:18,600
Marisa Eisenberg: You know, like you know you know, like a water system or something and that'll be.

164
00:27:19,080 --> 00:27:22,380
Marisa Eisenberg: Like continuous variable on a network, you can also model.

165
00:27:22,680 --> 00:27:32,010
Marisa Eisenberg: The nodes of a network, as you know, individuals and they have states and so that might be discreet, you have just deterministic or stochastic dynamics on networks, all kinds of different things.

166
00:27:32,340 --> 00:27:44,250
Marisa Eisenberg: and think about how to update your dynamics are you going to do discrete time or continuous time synchronous asynchronous etc updating, for all your nodes etc, and so okay.

167
00:27:46,380 --> 00:27:56,700
Marisa Eisenberg: So we haven't done so Tommy in this class, but so essentially if you do discrete variables discrete time it's very similar to any kind of grid model.

168
00:27:58,560 --> 00:27:59,160
Marisa Eisenberg: So.

169
00:28:02,070 --> 00:28:09,990
Marisa Eisenberg: So any sort of grid type agent based model it's not too different from that if you're if you have discrete variables and discrete timestamps.

170
00:28:10,530 --> 00:28:20,520
Marisa Eisenberg: it's just a different set of neighbors instead of instead of your neighbors being the people right around you it's whatever it is from the network, and so the implementation is pretty similar.

171
00:28:21,300 --> 00:28:28,920
Marisa Eisenberg: And so you know you can kind of think of, and it really you can think of any kind of grid based agent based model.

172
00:28:31,200 --> 00:28:40,050
Marisa Eisenberg: Is kind of a network model in a way it's just a regular you know sorry there we go a grid of agent based model is basically a network it's just a REG.

173
00:28:40,800 --> 00:28:54,180
Marisa Eisenberg: killer graph so it's a regular network where with a lattice structure where you know your connectivity is either for our age, you know of the people around you so so you've kind of done some networks, even just with the emoji ABM.

174
00:28:55,260 --> 00:29:04,920
Marisa Eisenberg: But you know you can you can do in infectious disease transmission is often done as dynamics on the network so it's often done as a fixed network and then you simulate.

175
00:29:05,370 --> 00:29:11,040
Marisa Eisenberg: You know the transmission of an infectious disease or information or all kinds of different behavior whatever.

176
00:29:11,760 --> 00:29:21,360
Marisa Eisenberg: On this fixed network is pretty common where edges indicate contact between either individuals or communities or maybe movement if you're doing communities and so.

177
00:29:22,200 --> 00:29:33,330
Marisa Eisenberg: that's a kind of common setup for how one would do it, you often sort of do something individual based where each node is a person and they're assigned a status so susceptible infectious recovered, for instance.

178
00:29:34,710 --> 00:29:36,210
Marisa Eisenberg: And then you basically sort of.

179
00:29:36,660 --> 00:29:51,360
Marisa Eisenberg: You know run a model something like this, where you know, maybe in this case the you know the currently infected individuals are these red sort of darker highlighted nodes and then they can transmit across the network and after they've recovered.

180
00:29:52,020 --> 00:30:04,410
Marisa Eisenberg: They become read, but not highlighted, and you can sort of see how the network, you know the the infection transmits across the network, we saw this with the virus on a network model in net logo yesterday to.

181
00:30:05,520 --> 00:30:17,610
Marisa Eisenberg: You can get lots of interesting epidemic dynamics on networks to there's lots of interesting data, so this is this is data from a study that I worked on with allison I yellow.

182
00:30:18,780 --> 00:30:22,080
Marisa Eisenberg: On where it was basically.

183
00:30:23,250 --> 00:30:24,330
Marisa Eisenberg: students.

184
00:30:25,380 --> 00:30:32,850
Marisa Eisenberg: signed up for the study and and as part of the study, they were supposed to report their contacts each week a subset of students.

185
00:30:33,750 --> 00:30:40,200
Marisa Eisenberg: signed up to track their contacts via bluetooth on their cell phones so kind of like the.

186
00:30:40,500 --> 00:30:51,330
Marisa Eisenberg: You know the like Kobe alert types of Apps where it'll tell who you've interacted with in a close range and then, except that in this case, it was for a study, and so it measured.

187
00:30:52,050 --> 00:31:02,790
Marisa Eisenberg: How frequently people within the study were interacting with one another, they all lived in the dorm so it was you know, a set of population that was more likely to kind of be in close contact with one another.

188
00:31:04,080 --> 00:31:14,640
Marisa Eisenberg: And so the network that you get out of that sort of bluetooth cell phone contacts is here, you can the thickness of the edges, is the frequency with which they contacted one another.

189
00:31:15,390 --> 00:31:28,470
Marisa Eisenberg: And the individuals who were sick with influenza like illness are shown in red, and so you can see that they do tend to there's there's so much there's so clusters that look like they probably are you know sort of.

190
00:31:29,250 --> 00:31:37,770
Marisa Eisenberg: Where you're seeing sort of more frequent close contact and so you know there's some interesting kinds of things like this that you could do with network data or you take.

191
00:31:39,180 --> 00:31:48,240
Marisa Eisenberg: A static network and and simulate infectious disease dynamics on it in this case it's actually kind of an interesting adaptive network because people's.

192
00:31:48,510 --> 00:32:00,660
Marisa Eisenberg: network structure itself is changing, and in some cases, because of the intervention that was being run in this study the network structure was actually changing as a function of people's disease status so it's kind of an interesting an interesting thing but.

193
00:32:02,340 --> 00:32:21,600
Marisa Eisenberg: OK, so I wanted to do two quick examples of something like this well what we did yesterday, the virus on a network example in that logo and then I also wanted to I just realized I forgot to post it, though hang on just a second i'm going to post the code, I also wanted to talk about a.

194
00:32:22,830 --> 00:32:24,270
Marisa Eisenberg: sort of simple.

195
00:32:25,710 --> 00:32:27,900
Marisa Eisenberg: agent based network model.

196
00:32:28,980 --> 00:32:36,390
Marisa Eisenberg: of infectious disease transmission on a on a random network and so um let me.

197
00:32:38,070 --> 00:32:45,660
Marisa Eisenberg: add this to the canvas page, so you all can see it, I mean we'll step through it together, but just so that that way you all have it, if you want.

198
00:32:48,660 --> 00:32:49,200
First.

199
00:32:50,940 --> 00:32:51,720
Marisa Eisenberg: Okay.

200
00:33:03,750 --> 00:33:04,710
Marisa Eisenberg: dokey.

201
00:33:06,660 --> 00:33:08,880
Marisa Eisenberg: Oh sorry everybody, just a quick second.

202
00:33:14,940 --> 00:33:15,840
Marisa Eisenberg: Okay, good.

203
00:33:17,070 --> 00:33:19,800
Marisa Eisenberg: Alright, so that's that.

204
00:33:21,690 --> 00:33:29,490
Marisa Eisenberg: See Okay, so in a minute it up it's posted it should show up on campus but at any rate, let me share my screen.

205
00:33:32,580 --> 00:33:34,140
Marisa Eisenberg: i'll just share my screen actually.

206
00:33:35,340 --> 00:33:35,910
easier.

207
00:33:38,520 --> 00:33:42,600
Marisa Eisenberg: Okay So hopefully everybody can see this okay.

208
00:33:44,580 --> 00:33:55,590
Marisa Eisenberg: So what we're going to do so, I thought I would show, I wanted to just I already coded this normally I would want us to kind of code it live together, but um but I.

209
00:33:56,400 --> 00:34:05,580
Marisa Eisenberg: wanted to show a little example of how you might build a network agent based model we have disease transmission on a network.

210
00:34:06,360 --> 00:34:24,480
Marisa Eisenberg: In our just to just to illustrate and then okay it's I forgot that my version of our on this computer is super old so i'm really hoping that the plots work Okay, because I did a plot that's updating and a for loop so we're going to see but okay so.

211
00:34:25,890 --> 00:34:32,490
Marisa Eisenberg: So we're going to do is so there's a couple things i'm going to load the I graph package and i've got a couple of other.

212
00:34:33,690 --> 00:34:33,960
Marisa Eisenberg: You.

213
00:34:35,160 --> 00:34:36,870
To everything fine what did we get here.

214
00:34:38,670 --> 00:34:52,110
Marisa Eisenberg: Oh it's okay it's probably just it's masking some of the things from my graph that's fine okay um alright so i'm going to load these little packages and most of these you don't really need I actually don't think we use the player at all.

215
00:34:53,130 --> 00:34:58,410
Marisa Eisenberg: And so that's fine you I could we could just take this out actually we don't need this really but.

216
00:34:59,040 --> 00:35:07,140
Marisa Eisenberg: But anyhow, and then and then God glad i'm just going to use for some plot at the end it's just I usually use digi plot for plotting OK so.

217
00:35:07,710 --> 00:35:22,530
Marisa Eisenberg: The only one you really need is actually just I graph just so that you can make a network but but anyway so we're going to start with the parameters for our model, so this pci is going to be the probability of transmission between two individuals who are connected.

218
00:35:23,640 --> 00:35:33,960
Marisa Eisenberg: P R is going to be the probability of recovery so each time step you're going to if you're an infected individual you're going to have some probability of recovering and so in this case I just sent them both the.

219
00:35:34,260 --> 00:35:49,680
Marisa Eisenberg: Point 550 percent and then this is going to be the number of times steps that we're going to run our simulation for and so we've got these three parameters here, and then I want to initialize the setup for the model so i'm going to generate a random network.

220
00:35:51,810 --> 00:35:59,880
Marisa Eisenberg: Here, where so you know this is going to be a, this is a coat the the command in the function and I graph that generates a random network.

221
00:36:00,090 --> 00:36:08,880
Marisa Eisenberg: So we're going to make a 50 node network I probably should have done this with a different number of nodes than the number of timestamps let's make it a 60 don't network, just so that that way.

222
00:36:09,300 --> 00:36:22,170
Marisa Eisenberg: we're not confused later let's make a 60 know network with a point oh seven probability of connection and and and so will generate our little network here so i'm going to actually just run these as we go.

223
00:36:23,370 --> 00:36:29,370
Marisa Eisenberg: So we've got our little network, you can see that there's a network in there it's got a bunch of different various properties, if you click on it.

224
00:36:29,730 --> 00:36:39,180
Marisa Eisenberg: And then we're going to set this is just for plotting purposes so i'm going to set one layout that i'm going to use the reason i'm doing this, so.

225
00:36:40,320 --> 00:36:53,040
Marisa Eisenberg: it's just to make things look nice so i'm making a layout for our network and i'm choosing some colors that i'm going to use to represent settles and infectious individuals so we're going to make this this is going to be an si s.

226
00:36:56,100 --> 00:37:01,380
Marisa Eisenberg: sort of model and a network form, so what we're going to do is basically have people go from susceptible to infectious.

227
00:37:01,620 --> 00:37:08,670
Marisa Eisenberg: But instead of going to recover after that they just go back to being susceptible again just to keep it super simple so there's only two states, you can be in.

228
00:37:08,910 --> 00:37:18,240
Marisa Eisenberg: Your they're susceptible or your infectious and those are the only two things that can sort of be happening to you so we're gonna we're going to set up just some niceness for the plotting.

229
00:37:19,320 --> 00:37:23,850
Marisa Eisenberg: I want to set one layout that i'm going to use for every time step because I don't want.

230
00:37:25,410 --> 00:37:37,050
Marisa Eisenberg: Every time I plot the model for each type stuff I don't want the nodes to move around and end up being you know randomly assigned a new location and then I can't follow who's who and who's getting infected anymore right so.

231
00:37:37,470 --> 00:37:52,350
Marisa Eisenberg: we'll we'll make one layout at the beginning and we're going to use this for every time stuff that we do, and so that's just to set up the plot and then here's, this is what this part is kind of more where we start to get to.

232
00:37:53,400 --> 00:37:59,250
Marisa Eisenberg: Like more of the actual model itself so we're going to set the attributes, so you can set.

233
00:37:59,580 --> 00:38:13,560
Marisa Eisenberg: attributes, for your vertices for your nodes, and so what we're going to do is we're going to set some attributes for our vertices so we're going to say, are our nodes have a state which is either I don't know why I did this with two kinds of.

234
00:38:14,940 --> 00:38:31,200
Marisa Eisenberg: that's funny i'm with two kinds of quotes it always bought it doesn't make a difference, but it always bothers me when I use two kinds of quotes in the same line I don't know why but anyway so so we're going to set the stage of our vertices to be.

235
00:38:32,250 --> 00:38:46,860
Marisa Eisenberg: One infected node and then the rest, this is going to make if we run this it'll make a big list so see down here in the console Iran just this part it makes a big vector of all SS.

236
00:38:47,880 --> 00:38:56,850
Marisa Eisenberg: And this G orders is a function for the graph order, meaning the number of nodes in the graph so this G order of g.

237
00:38:57,300 --> 00:39:14,400
Marisa Eisenberg: Is 60 so we're going to do 60 minus one so 59 copies of S and one I, and so, essentially, the first node in in our in our network is going to be infected and everybody else is going to be susceptible.

238
00:39:15,090 --> 00:39:21,240
Marisa Eisenberg: And then i'm just going to set a color state for all the nodes in our network too and i'm going to say the first.

239
00:39:21,600 --> 00:39:25,740
Marisa Eisenberg: node is the color that I assigned to the infectious, which is a kind of.

240
00:39:26,040 --> 00:39:39,240
Marisa Eisenberg: reddish color and then the color for all the SS is going to be this blue that's over here so that's what we're doing here, so we set up this is going to be the initial state for our network so let's make a little plot.

241
00:39:40,440 --> 00:39:42,690
Marisa Eisenberg: Where did the plot go there it is.

242
00:39:46,230 --> 00:39:49,590
Why didn't it do the colors.

243
00:39:54,390 --> 00:40:03,180
Marisa Eisenberg: that's unfortunate okay we're gonna so because this is a super old version it looks like in my laptop version.

244
00:40:04,440 --> 00:40:14,640
Marisa Eisenberg: The when you do this plot, it will automatically use the graph colors it looks like this version unless maybe I just didn't run this slide did I not run this slide Is that why this happened.

245
00:40:15,570 --> 00:40:20,670
Marisa Eisenberg: Okay, good it was fine, this is the problem with this is a danger, I don't know Michael gave you this.

246
00:40:20,970 --> 00:40:31,410
Marisa Eisenberg: This lecture already that you should always run your whole code and not run it line by line because if you're a silly human like me you'll forget to run a line as you're talking and then.

247
00:40:31,800 --> 00:40:39,420
Marisa Eisenberg: You know your code won't be so, you should always run the whole code, instead of running line by line, but for teaching purposes we're going to do it line by line okay so.

248
00:40:39,780 --> 00:40:48,390
Marisa Eisenberg: We set our vertex attributes we plot our model, so this is the initial state of our model we've got a network of individuals.

249
00:40:49,080 --> 00:41:00,150
Marisa Eisenberg: One, in fact, a node right here in the middle and so that's going to be the sort of opening status of our model i'm going to sort of set this so that we can see it over here.

250
00:41:02,160 --> 00:41:11,400
Marisa Eisenberg: Okay, and so, then the last two things that we do here in our sort of initial setup is we're going to make a placeholder graph for the next time step.

251
00:41:11,700 --> 00:41:16,740
Marisa Eisenberg: And we're going to we're going to start to record the prevalence of infection in our network.

252
00:41:17,040 --> 00:41:28,560
Marisa Eisenberg: So the placeholder graph here is basically at the way we're going to run, this model is each time step we're going to take the current state of the model which is going to be given by g.

253
00:41:29,340 --> 00:41:36,780
Marisa Eisenberg: The current graph and we're going to say what is going to be the state of the model at the next time step and so that will be next g.

254
00:41:37,740 --> 00:41:43,830
Marisa Eisenberg: And then we'll we'll build next G until we fully specified the state of the model and next time step.

255
00:41:44,070 --> 00:41:50,790
Marisa Eisenberg: And then we'll make next jeep into our currency and then start and then sort of start from there and build the next time step.

256
00:41:51,030 --> 00:42:02,100
Marisa Eisenberg: And the next time step and the next one, the next, and so this is going to be just a placeholder graph that holds the values of what you know who's impacted and who susceptible at the next time step.

257
00:42:03,420 --> 00:42:08,490
Marisa Eisenberg: And so, for right now we're just going to set it equal to the current timestamp and then we'll update it as we go.

258
00:42:09,780 --> 00:42:18,030
Marisa Eisenberg: This is going to be just we're going to keep adding on to this so for right now let's make next G and let's make prayer.

259
00:42:18,300 --> 00:42:28,920
Marisa Eisenberg: So prayer right now shows the prevalence of infection in our network right at this moment, which is just going to be one infected person over G order which is 60 so one over 60.

260
00:42:29,580 --> 00:42:40,020
Marisa Eisenberg: People are infected at the moment, and so you know we have 1.67% prevalence of infection in our in our network okay.

261
00:42:40,710 --> 00:42:50,610
Marisa Eisenberg: So that's how we're going to initialize are there questions about that does that make sense as a thing, please that's okay okay so next we're going to run the model and so.

262
00:42:52,110 --> 00:43:00,690
Marisa Eisenberg: Normally, when I would do this actually I would I would do a bunch of functions so we'll see when I will show another example that's in Python were.

263
00:43:01,860 --> 00:43:09,210
Marisa Eisenberg: In a little bit normally I would actually put all of this initialization and then initialize function, and then I would put.

264
00:43:10,140 --> 00:43:27,270
Marisa Eisenberg: Each step of updating of the model in a function and so that that way when I want to run the model many times, or I want to do, different things and make run many simulations I can just run all of this code in a convenient way with functions, but um.

265
00:43:28,080 --> 00:43:32,550
Marisa Eisenberg: But in this case to kind of keep things simple and not make it.

266
00:43:33,570 --> 00:43:41,520
Marisa Eisenberg: too complicated, with what you have to pass from one function to another or we'd have to introduce global variables, and all this kind of thing i'm just going to do it in.

267
00:43:42,390 --> 00:43:51,360
Marisa Eisenberg: In loops without any sort of functional structure, but I just wanted to if you're if you're more of a programmer and you're more used to programming and you're sort of like.

268
00:43:52,380 --> 00:44:02,220
Marisa Eisenberg: And you're wondering why that then there's that you would normally use functions for a lot of us so anyway that just a little side note, but Okay, but for us let's run the model so.

269
00:44:02,640 --> 00:44:12,360
Marisa Eisenberg: What we're gonna do we're gonna make a for loop that's going to step through time step number two all the way through the total time steps that we want to do so.

270
00:44:13,200 --> 00:44:21,300
Marisa Eisenberg: So this is going to be two through a 50 right we set for 50 times steps, and the reason we're starting at two is because we already did the first time step.

271
00:44:21,630 --> 00:44:33,000
Marisa Eisenberg: In our initial ization so we have the first time step is already set so now, we just need to run through the remaining two through not 100 but 55 steps right so.

272
00:44:34,350 --> 00:44:47,340
Marisa Eisenberg: So we're going to loop through the remaining time steps, and each time step what we're going to do is go through each node and update next G with whatever the new state of that node is going to be so.

273
00:44:47,850 --> 00:44:52,470
Marisa Eisenberg: A here is going to be a each node that we have so for each node.

274
00:44:53,340 --> 00:45:10,350
Marisa Eisenberg: In one through the number of nodes in the graph we're going to we're going to basically first we check if that notice susceptible so if that notice susceptible will start by thinking that it's going to continue to be susceptible at the next time step, so we sent next G here.

275
00:45:11,940 --> 00:45:23,010
Marisa Eisenberg: To be susceptible but then, so if if it doesn't get infected by anybody we're about to check if they get infected by anybody, but if they don't then they're going to be susceptible the next time step.

276
00:45:23,490 --> 00:45:41,820
Marisa Eisenberg: But then what we're going to do is go through all of their neighbors and see if anyone infects them so we're going to say for every be in my neighbors have this node so let's just try out this neighbors function so neighbors here is, if you go down, and you see down at the console.

277
00:45:43,560 --> 00:45:52,200
Marisa Eisenberg: is a function that will tell you which vertices this node whatever node you choose let's say node 50, no, no, no 40.

278
00:45:53,820 --> 00:46:03,390
Marisa Eisenberg: is connected to so it'll tell you Okay, no one is connected to these four people node you know, two is connected, how come everybody's connected to four people.

279
00:46:05,400 --> 00:46:12,330
Marisa Eisenberg: Sure okay there we go I just managed to choose a lot of force Okay, so you know each each.

280
00:46:12,930 --> 00:46:24,750
Marisa Eisenberg: Each node is connected to various other nodes in the network and the neighbors function will spit out, you know which other net other nodes in the network you're connected to so what we're going to do.

281
00:46:25,080 --> 00:46:32,430
Marisa Eisenberg: Is we're going to say we're going to loop through each of these neighbors so for be in my neighbors list.

282
00:46:33,300 --> 00:46:43,290
Marisa Eisenberg: What we're going to do is we're going to say okay for each one of these neighbors if the state so we're going to check the attributes.

283
00:46:43,710 --> 00:46:53,760
Marisa Eisenberg: And the more specifically the state of be is infected, so if this neighbor be is infected, so this neighbor is connected to a if they're infected and.

284
00:46:54,150 --> 00:46:59,100
Marisa Eisenberg: If they transmit so we're going to draw a uniform and variable.

285
00:46:59,550 --> 00:47:07,920
Marisa Eisenberg: And if it's less than the probability of infection, then that means they successfully transmitted right that's a coin flip with probability pii so.

286
00:47:08,280 --> 00:47:17,310
Marisa Eisenberg: If they successfully transmit then now the state of our original node a is going to be I right, so now we say okay.

287
00:47:17,640 --> 00:47:27,720
Marisa Eisenberg: Then, my array at the next time step my original node a is now going to be infected because I got infected from one of my neighbors be here right and so.

288
00:47:28,320 --> 00:47:39,390
Marisa Eisenberg: So you check through all the neighbors and see if they transmit to note a and then um that's sort of the end so let's just make sure we know where this wraps up.

289
00:47:40,890 --> 00:47:41,730
Marisa Eisenberg: There should be.

290
00:47:42,840 --> 00:47:58,020
Marisa Eisenberg: that's that oh it's down here okay this this bracket here, you can see that, when I cross over this bracket it highlights this bracket up here, so if I cross this bracket down at the bottom, it highlights this one saying this.

291
00:47:58,710 --> 00:48:09,030
Marisa Eisenberg: Is the end of this if statement or if the vertex was susceptible so if the if this node was susceptible this is everything we're going to do.

292
00:48:09,480 --> 00:48:16,890
Marisa Eisenberg: So, then, we can say okay if it wasn't susceptible The only other state, we have is infected, so it must have been infected right so.

293
00:48:17,400 --> 00:48:36,990
Marisa Eisenberg: So then, if it wasn't acceptable, it must have been infected and so, if it was infected what we're going to do is we're going to run a random check and say okay with probability PR this infected node recovers, and we turn it back to being susceptible again and so okay so that's that.

294
00:48:38,970 --> 00:48:52,200
Marisa Eisenberg: So we're going to then keep a record now that we've updated everybody states for the next time step we up we add that also to our record of how many how many people are infected.

295
00:48:53,280 --> 00:49:00,000
Marisa Eisenberg: And, and then what we're going to just do is set up for the next time step so we're going to make our current graph.

296
00:49:00,810 --> 00:49:05,940
Marisa Eisenberg: The the next graph and then let's let's update the plot, with the new, updated.

297
00:49:06,300 --> 00:49:12,810
Marisa Eisenberg: timestamp as well, so will will will loop through and basically do this whole process where at each time step.

298
00:49:12,990 --> 00:49:24,780
Marisa Eisenberg: We check through all of our nodes if they're susceptible we check if they get infected by their neighbors if they're infected we check if they recover and and basically that'll run our model so let's try it.

299
00:49:29,640 --> 00:49:39,930
Marisa Eisenberg: And so you can see that the model is running you know you can see the infection is spreading through it spreads through the network and then you know, because you know you can only be.

300
00:49:40,800 --> 00:49:52,230
Marisa Eisenberg: As kind of blinky sorry because you can only be susceptible or infectious there's no immunity, you know people just keep getting reinfected all the time and I probably actually should make.

301
00:49:52,740 --> 00:50:08,880
Marisa Eisenberg: The network, a little bit less connected so that that way we'll do that in a minute, so that way, this one hits a steady state kind of too early and a little bit boring but so it runs there we go that's that's our that's our our plot.

302
00:50:10,020 --> 00:50:13,830
Marisa Eisenberg: By the way, if you were wondering what this was when you saw the plotting code.

303
00:50:14,100 --> 00:50:24,240
Marisa Eisenberg: This just makes the system wait for Point five seconds before it before it runs the next iteration of the loop, otherwise it goes too fast and you can't really watch the plot, as it evolves.

304
00:50:24,720 --> 00:50:30,990
Marisa Eisenberg: So this is just for us humans, because otherwise the 50 times steps go really quick and it just like.

305
00:50:31,590 --> 00:50:38,070
Marisa Eisenberg: You know kind of zip through them, and you can actually see all the things if you make it wait for each update of the time step, then.

306
00:50:38,400 --> 00:50:44,760
Marisa Eisenberg: Are we can observe the the changes as they happen okay so, then we can also pull up the prevalence over time.

307
00:50:45,630 --> 00:50:51,090
Marisa Eisenberg: And so what you can see is that we started a very low prevalence and then it goes up and we kind of asked you know sort of.

308
00:50:51,750 --> 00:51:06,840
Marisa Eisenberg: Like, but we have this like stochastic steady state here but i'm going to change the network properties, a little bit let's make the probability of connection a little bit lower and then let's, let me just see what that looks like.

309
00:51:09,810 --> 00:51:11,070
A little higher than that.

310
00:51:14,220 --> 00:51:23,160
Marisa Eisenberg: yeah okay that's good so just to make it a little bit less so obviously it's not a fully connected network now so there's two people who were not going to get at all, but.

311
00:51:24,150 --> 00:51:34,530
Marisa Eisenberg: But just to kind of give it a little bit more interesting dynamics I don't think we need to run it for 50 type steps either let's run it for 25 okay so let's run this.

312
00:51:36,180 --> 00:51:47,100
Marisa Eisenberg: So you can now see the next the infection spreading across the network, a little bit more because it's less connected, so it takes a little longer for it to kind of spread across the whole thing, so if you are watching at the beginning.

313
00:51:48,180 --> 00:51:55,110
Marisa Eisenberg: You saw probably one infected node that kind of spread out and it went through all the rest, let me just run one more time.

314
00:51:55,560 --> 00:52:04,680
Marisa Eisenberg: Just so that you can watch it again So there you go, you can kind of see that spreading across the network and then it's sort of it reaches a steady state.

315
00:52:05,340 --> 00:52:15,780
Marisa Eisenberg: Once it kind of makes way across the network and so yeah so questions about this this code and sort of how this works, all this kind of stuff.

316
00:52:21,390 --> 00:52:37,350
Marisa Eisenberg: I figured it might be sort of helpful just to kind of see an example of how you'd actually code something like this well we'll look at some other examples to it just a minute, but this does that make sense, everybody feels okay okay good good all right, so let me go back to the slides.

317
00:52:39,720 --> 00:52:51,030
Marisa Eisenberg: yep okay so, then you know here in that example that we just ran we we kept the network itself fixed through the entire simulation right so.

318
00:52:51,690 --> 00:53:01,680
Marisa Eisenberg: We we didn't you know we didn't consider the dynamics of the network itself, and so, if you want to consider the dynamics of the network Oh, it is, it should be posted.

319
00:53:02,490 --> 00:53:17,700
Marisa Eisenberg: Here i'll show you where i'm sorry I just saw the chat So if you go to canvas and you click on the the go home to go to canvas and then you go here agent based modeling and networks.

320
00:53:18,930 --> 00:53:22,800
Marisa Eisenberg: have changed the title but down here it's this one.

321
00:53:26,040 --> 00:53:29,130
Marisa Eisenberg: Hopefully it's good yeah cool.

322
00:53:30,510 --> 00:53:32,160
Marisa Eisenberg: Okay, so.

323
00:53:33,390 --> 00:53:42,960
Marisa Eisenberg: Okay, so So if you if you want to include the dynamics of the network itself whether you're doing that because you're modeling.

324
00:53:43,200 --> 00:53:50,670
Marisa Eisenberg: Just how a network changes or because you want to build an adaptive model that includes both dynamics on networks and dynamics of networks.

325
00:53:51,540 --> 00:53:57,900
Marisa Eisenberg: You know, there are a bunch of different things to consider So how do you add or remove nodes, how do you add or remove edges.

326
00:53:58,830 --> 00:54:14,670
Marisa Eisenberg: Do you want it, you know what do you want just the edges to change or just the nodes change, well, I guess, if you delete a note, then you have to change the edges, but you know so so you need to think about sort of what kinds of dynamics you're trying to capture, you can often.

327
00:54:16,320 --> 00:54:26,970
Marisa Eisenberg: it's actually kind of interesting because you can often actually if you're trying to do chain, a changing network dynamics of networks, you can actually almost always do that as.

328
00:54:27,300 --> 00:54:35,040
Marisa Eisenberg: A static network, but where you add an additional state to your notes and edges that marks whether they're active or not.

329
00:54:35,370 --> 00:54:48,330
Marisa Eisenberg: And so you have a super network that has all nodes and edges that you're ever going to use in the entire simulation and then you just change the state of those know just nodes and edges and say whether or not they're active or not so.

330
00:54:49,410 --> 00:54:59,460
Marisa Eisenberg: This is often the way that like so people have done this with sexual network partnership models and friendship networks to doesn't actually any kind of contact network really.

331
00:55:00,180 --> 00:55:15,120
Marisa Eisenberg: Where people will have the the underlying network, the all the friendships you're going to have in your lifetime or all the sexual partners you're going to have in your lifetime and then you just activate edges and deactivate them.

332
00:55:16,020 --> 00:55:20,610
Marisa Eisenberg: As time moves on, and so so so you can do it that way to it doesn't really matter.

333
00:55:21,690 --> 00:55:29,880
Marisa Eisenberg: But so when you're thinking about the dynamics of networks and often sort of depends on how you implement it depends on the question at hand, you know.

334
00:55:32,010 --> 00:55:33,150
Marisa Eisenberg: there's not sort of.

335
00:55:34,230 --> 00:55:43,290
Marisa Eisenberg: A lot of kind of there's no sort of official rule for how you should do the the dynamics of the network, it just depends on sort of what's.

336
00:55:43,650 --> 00:55:55,890
Marisa Eisenberg: sort of most efficient for the question you're trying to answer and That said, you can use the random graph generators from the not from last time, but for earlier in in this section.

337
00:55:58,440 --> 00:56:04,170
Marisa Eisenberg: To you, can you can think of those as dynamics of networks to so.

338
00:56:04,800 --> 00:56:12,390
Marisa Eisenberg: You can think of, for instance, of small world graph the rewiring and things like that, as something that's happening to the network or preferential attachment.

339
00:56:12,660 --> 00:56:22,710
Marisa Eisenberg: could be used to model how new people join and join an existing network, so you can think of these as dynamics of networks as well in British remy That would mean that.

340
00:56:23,070 --> 00:56:34,710
Marisa Eisenberg: At each time step everyone chooses a new set of edges at random right, so you can kind of do some of these random graph generators as dynamics of networks also and.

341
00:56:35,430 --> 00:56:46,530
Marisa Eisenberg: there's also plenty of dynamic empirical networks so contact networks travel networks things like this, where you have data on how the network changes over time, so this is from that same.

342
00:56:46,920 --> 00:56:54,720
Marisa Eisenberg: study that we did with bluetooth you know tracking people's contact via bluetooth and, and this is looking at how.

343
00:56:55,260 --> 00:57:04,110
Marisa Eisenberg: So that the the it's a little small, hopefully, you can see it, the dots here are clustered by which residence hall there in so.

344
00:57:04,980 --> 00:57:10,320
Marisa Eisenberg: Each residence hall that was you know where we had participants is one of these sort of.

345
00:57:11,040 --> 00:57:19,950
Marisa Eisenberg: six different kind of clubs and then the edges, you can see how it changes at different times a day, so this is the average.

346
00:57:20,910 --> 00:57:29,370
Marisa Eisenberg: number of contacts between individuals across the entire study but split by hour of the day, so at midnight, you know there's some contacts still happening.

347
00:57:29,610 --> 00:57:39,090
Marisa Eisenberg: 2am 4am 6am it's it's pretty small so probably These are people who are maybe staying in the same room together or something like that, through the through the night.

348
00:57:40,530 --> 00:57:45,360
Marisa Eisenberg: And so it's it's a small number of contacts through the middle of the night.

349
00:57:45,600 --> 00:57:54,090
Marisa Eisenberg: Come a damn people start to interact, maybe they get breakfast you know, for their early morning class and they start to kind of interact by 10am there's lots more connections.

350
00:57:54,390 --> 00:58:03,600
Marisa Eisenberg: by noon, people are having lunch there's lots of connections in the afternoon still similarly dinner is the hotspot that's where lots and lots of connections between people.

351
00:58:04,350 --> 00:58:07,080
Marisa Eisenberg: And then it starts to ease off as the evening continues.

352
00:58:07,350 --> 00:58:22,980
Marisa Eisenberg: And so you know you can see there's a clear and kind of circadian pattern to the dynamics of this network, so this would be you could use this data to model dynamics of a network, if you wanted to and sort of you know model how people's contact patterns change throughout the day.

353
00:58:24,780 --> 00:58:30,960
Marisa Eisenberg: Well, in a in a residence hall setting at a university obviously it's different depending on what kind of setting you're talking about.

354
00:58:31,290 --> 00:58:46,470
Marisa Eisenberg: And there's lots and lots of other examples of dinette networks that are dynamic and, to be honest, most most networks are our dynamic in some way so static networks are probably more the exception than, then the rule.

355
00:58:47,820 --> 00:58:52,380
Marisa Eisenberg: Oh, this I just thought was fun as an interesting example of how networks form.

356
00:58:54,360 --> 00:59:04,590
Marisa Eisenberg: Just as if you if you look at the network of the backbone Internet fiber cable network for the for the Internet in the US it's built on.

357
00:59:04,980 --> 00:59:12,600
Marisa Eisenberg: The railroad network it from like basically rail, you know rail lines are you know long.

358
00:59:13,170 --> 00:59:25,500
Marisa Eisenberg: You know sort of protected blocked off lives of space where you can traverse enormous distances across the US, and so our Internet backbone is built on them, and so you can see it's kind of interesting how.

359
00:59:26,520 --> 00:59:36,240
Marisa Eisenberg: How how the Internet now we're kind of built on top of an existing network as as an interesting example of how networks form and how sometimes the way that networks for.

360
00:59:36,930 --> 00:59:48,450
Marisa Eisenberg: is built off of other networks that came from something else Okay, but so I wanted to show one quick example of of how of an of an adaptive network.

361
00:59:49,200 --> 01:00:03,780
Marisa Eisenberg: Where we just modified that network that I showed in our to be adaptive, and so this Unfortunately I didn't have time to convert this from Python into our so it's going to be in Python but it's the same model exact same model.

362
01:00:04,530 --> 01:00:13,020
Marisa Eisenberg: The only difference now is that what we're going to do is instead of having it be that the network is fixed.

363
01:00:13,470 --> 01:00:21,660
Marisa Eisenberg: we're going to have it be that infected individuals have some probability of Disconnecting themselves from the network and isolated and so.

364
01:00:22,260 --> 01:00:35,610
Marisa Eisenberg: So we're gonna we're gonna see how that changes the dynamics, so if we change the network by dropping edges when when an infected unnecessary person are connected to one another it's going to change the way that the network.

365
01:00:37,170 --> 01:00:51,480
Marisa Eisenberg: The network behaves and it might change the dynamics of the infectious disease to right, because if you're infectious and you isolate the now you're not going to transmit to your your friends so here's the link, let me share.

366
01:00:55,980 --> 01:01:08,310
Marisa Eisenberg: So it's it's it's all in Python, but I think it'll I think it'll be okay, I think you'll you should hopefully still it's very, very similar to the our code that we just showed, so this is that same.

367
01:01:08,730 --> 01:01:14,550
Marisa Eisenberg: susceptible infection susceptible network model that we were just working with, but now what we're going to have is.

368
01:01:15,660 --> 01:01:25,980
Marisa Eisenberg: infected individuals can social distance so they can isolate when they are infected and then they can restore their ties after their recovery so.

369
01:01:27,540 --> 01:01:38,760
Marisa Eisenberg: So basically they isolate while they're infected and then, once they're feeling better they they go back and so so let's just see this alone.

370
01:01:40,530 --> 01:01:46,500
Marisa Eisenberg: So okay so we're going to load a bunch of stuff for that we need for the Python situation.

371
01:01:47,070 --> 01:01:54,030
Marisa Eisenberg: In Python, by the way, if you want to do network stuff the usual package is called network X so that's that's the sort of standard package that most people use.

372
01:01:54,450 --> 01:02:03,450
Marisa Eisenberg: OK, so now we've got almost the same setup that we had before we had pii PR those are going to be, you know sort of the same kinds of things that we had before.

373
01:02:04,620 --> 01:02:15,090
Marisa Eisenberg: But now we're going to add two more parameters so we're going to have the probability of breaking a tie, if you're if you're I just I can't remember if I was actually.

374
01:02:16,350 --> 01:02:23,190
Marisa Eisenberg: Having the susceptible to the breaking or the I don't know the prob, but I think this is the other way around, I think it's infected.

375
01:02:24,000 --> 01:02:36,930
Marisa Eisenberg: Let me take this out and probability of breaking a tie, if you're infected and the probability of regrowing your time if you're back to being if you're recovered now so so we have a probability of breaking our tie and a probability of regrowing.

376
01:02:38,700 --> 01:02:53,850
Marisa Eisenberg: notice that i've set the breaking type probability higher and the regrowing tie I set lower I did that on purpose to give it a little bit of waiting time so that the ties stay broken for a little while, and then we can watch as they kind of regrow.

377
01:02:54,450 --> 01:03:03,090
Marisa Eisenberg: That also is protective for the person who just recovered since there's no immunity, so if their friend did get sick, you know.

378
01:03:03,330 --> 01:03:09,300
Marisa Eisenberg: They the person who just recovered can get sick again immediately, so this gives them a little bit protection, a little bit of protection.

379
01:03:10,050 --> 01:03:24,900
Marisa Eisenberg: Okay, so we've got this kind of four four parameters here we're going to record the prevalence like we did before, and here you can see the sort of more function based approach so i've got a function that i'm defining for how we initialize the.

380
01:03:25,980 --> 01:03:34,980
Marisa Eisenberg: The network and I guess, I chose here to do a bear bossy Albert scale free graph it doesn't really matter, we can try all the different ones just a second.

381
01:03:36,360 --> 01:03:47,370
Marisa Eisenberg: And then we're it's the initialization is very much the same we're going to set a node attribute of the state is going to be zero for susceptible for everybody and then we'll make one node.

382
01:03:48,600 --> 01:03:54,510
Marisa Eisenberg: state, one which will mean they're infected and and the same kinds of things that we were doing before.

383
01:03:55,830 --> 01:04:04,800
Marisa Eisenberg: The only thing that's going to be different now from the way that we set it up last time is that now i'm also going to make a little list of.

384
01:04:05,100 --> 01:04:17,910
Marisa Eisenberg: edges that i've dropped, so that I can keep track of which edges i've deleted, so that I can go back and re add them into the network if if the person has now recovered, so this will be a little.

385
01:04:19,320 --> 01:04:21,870
Marisa Eisenberg: Like sort of array that will keep.

386
01:04:22,350 --> 01:04:32,220
Marisa Eisenberg: That will keep a list of the edges that we've dropped, and then we can react them later Okay, so now we're going to make a function for how you update and each time step.

387
01:04:32,460 --> 01:04:43,530
Marisa Eisenberg: And it's much the same as what we saw before the syntax is different because it's in Python but it's you loop through all of your nodes if that node is susceptible than you check if they get infected.

388
01:04:45,210 --> 01:04:54,930
Marisa Eisenberg: If the if the so here's here's the part where we're actually going to do the removal of edges, if you have a if you have a.

389
01:04:55,740 --> 01:05:01,980
Marisa Eisenberg: An infected neighbor, I guess, we are having the susceptible is actually do the social distancing I should try changing it and see what happens, but.

390
01:05:02,760 --> 01:05:08,580
Marisa Eisenberg: But anyway, if you have, if you have a tie between an infected and as susceptible doesn't really matter which but.

391
01:05:09,090 --> 01:05:15,360
Marisa Eisenberg: You know, essentially, if you have a connection between an effective nsfw it has some probability of being dropped.

392
01:05:16,140 --> 01:05:24,030
Marisa Eisenberg: In the next time step and then you can you can But until that edge is dropped, they can still transmit.

393
01:05:24,300 --> 01:05:34,290
Marisa Eisenberg: And so you can have them transmit and then, if the if the initial node wasn't susceptible, they must be infected and so you just do the same thing we did last time, where they have some probability of.

394
01:05:35,100 --> 01:05:46,290
Marisa Eisenberg: of recovering and so, then this sort of set of for loops this this these this set of core loops here is just like we did in our other model, except that now anytime there's a connection.

395
01:05:46,560 --> 01:05:53,400
Marisa Eisenberg: between a susceptible and an infected individual you have some probability of dropping that representing social distancing.

396
01:05:55,110 --> 01:06:06,180
Marisa Eisenberg: At the end of the update loop or the updates sort of step here what we're gonna do is we're going to do one more loop where we go through our.

397
01:06:06,870 --> 01:06:19,290
Marisa Eisenberg: edges that we've dropped in previous time steps so it could be multiple times steps before but they're there in this list of last edges and what we're going to do is see if now both the.

398
01:06:20,100 --> 01:06:31,140
Marisa Eisenberg: Oh yes, we so if both the susceptible and the if both nodes in the in the in the pairing are now susceptible then we'll add that edge back so essentially is.

399
01:06:31,470 --> 01:06:44,250
Marisa Eisenberg: will check if it's safe to add the edge back and then with probability P one we added back so I guess it doesn't my point before about this being sort of protective is kind of silly because we actually check.

400
01:06:45,360 --> 01:06:51,510
Marisa Eisenberg: We check if they're both susceptible anyway, but but anyway so that's sort of the way this works and.

401
01:06:52,530 --> 01:06:54,120
Marisa Eisenberg: We load all this stuff.

402
01:06:55,170 --> 01:07:01,290
Marisa Eisenberg: Up um, so now we we and then, I have a function for making plans.

403
01:07:02,880 --> 01:07:05,700
Marisa Eisenberg: And then okay so we're going to run the model.

404
01:07:06,900 --> 01:07:10,200
Marisa Eisenberg: With this and you'll be able to watch how it goes so.

405
01:07:14,250 --> 01:07:19,110
Marisa Eisenberg: So the the you can see, can you see how the the.

406
01:07:21,210 --> 01:07:33,930
Marisa Eisenberg: The network is is attempting to sort of adapt and drop edges, you know it occurs to me, I think I actually picked this scale free graph because it's an example of.

407
01:07:35,340 --> 01:07:40,140
Marisa Eisenberg: How this can have something cannot work i'm going to change what network we use in just a second.

408
01:07:41,100 --> 01:07:57,810
Marisa Eisenberg: scale free graphs have this property that infections are easier to spread on them because infections quickly travel to a hub, and then, and then they spread rapidly i'm going to just try changing this from this to an average revenue graph and then let's try running this again.

409
01:08:02,880 --> 01:08:06,060
Marisa Eisenberg: Okay So here we are in an area to show the graph.

410
01:08:09,090 --> 01:08:16,590
Marisa Eisenberg: The infection spreads through the network, I think we're gonna need to change a little bit of the parameters.

411
01:08:17,220 --> 01:08:24,000
Marisa Eisenberg: So you can see it spreads through it, people are dropping ties, but it's not quite enough, I thought, maybe we'd get it with an industry and.

412
01:08:24,510 --> 01:08:40,200
Marisa Eisenberg: it's not quite enough to actually cause the thing well hey there we go okay good so so remember when they when we didn't have an adaptive network, so now they're recovering all the ties they dropped when we didn't have an adaptive network.

413
01:08:42,360 --> 01:08:56,820
Marisa Eisenberg: The the way that the model behaves was that if the infection spread and then we hit a steady state right, and so you reach the steady state where there was infection spreading through the network forever, but now, when you can drop.

414
01:08:57,780 --> 01:09:03,420
Marisa Eisenberg: When you can social distance when you're infected, it means that you can get.

415
01:09:04,350 --> 01:09:17,730
Marisa Eisenberg: A different kind of dynamics, so if you plot the prevalence over time, the infection initially spreads through the network, but then it actually gets it dies out because people are our social distancing and eventually that ends up.

416
01:09:19,020 --> 01:09:26,790
Marisa Eisenberg: You know sort of Let me run this again it ends up Oh well, Okay, this time it died sarcastically.

417
01:09:28,980 --> 01:09:36,090
Marisa Eisenberg: Okay, eventually, it ends up sort of the social distancing basically means that most of the network disconnects itself.

418
01:09:37,050 --> 01:09:46,200
Marisa Eisenberg: And, and then the infection dies out now of course this is in a in a closed population, you know, this is a bit more like you know, like New Zealand, or something where.

419
01:09:46,410 --> 01:09:56,790
Marisa Eisenberg: People can can can do this in a short time and then the there's no reintroduction of disease, if you have reintroduction of disease, you know you'd end up having something.

420
01:09:57,420 --> 01:10:04,350
Marisa Eisenberg: Like what we're seeing where you know you keep having waves of this thing and and you know you have to kind of keep adapting your network all the time.

421
01:10:05,550 --> 01:10:13,710
Marisa Eisenberg: And so you know but we're in this sort of simple setting you get the situation where the infection invades but then everybody kind of.

422
01:10:14,820 --> 01:10:25,110
Marisa Eisenberg: Social distances and eventually it dies so it's an interesting example of how an adaptive network can actually really change the dynamics of the process that you're simulating.

423
01:10:26,880 --> 01:10:27,210
Marisa Eisenberg: Okay.

424
01:10:28,680 --> 01:10:36,690
Marisa Eisenberg: Does that make sense yeah okay okay good good questions about that that's kind of the end of the network section.

425
01:10:41,430 --> 01:10:50,430
Marisa Eisenberg: If not, I kind of wonder if we should take does anyone have any well, maybe we'll go through a little bit more, I was gonna say you should take our break early but.

426
01:10:51,600 --> 01:10:59,670
Marisa Eisenberg: I don't know if folks had something scheduled for 10 expecting the break to be dead so we'll keep going we'll take our break at the regular time okay so.

427
01:11:00,750 --> 01:11:05,310
Marisa Eisenberg: So that's an adaptive network example, you should there's a link to that.

428
01:11:05,790 --> 01:11:14,550
Marisa Eisenberg: In the slides here I posted it in the chat update I don't think the link is in the slides that I posted on the on canvas but i'll i'll post it up there and.

429
01:11:15,240 --> 01:11:23,130
Marisa Eisenberg: it's in Python but still, you know, hopefully that's Okay, I think it's it's similar enough in structure that it should be still readable and but anyhow.

430
01:11:23,700 --> 01:11:31,650
Marisa Eisenberg: Okay, so that's kind of the end of networks are there any questions, I guess, I asked this, but any questions on networks just want to make sure.

431
01:11:36,150 --> 01:11:44,010
Marisa Eisenberg: Okay, if not, then I wanted to talk a little bit about sort of complexity dimensionality sampling those kinds of concepts so.

432
01:11:45,840 --> 01:11:51,060
Marisa Eisenberg: agent based models network models, a lot of these kinds of models that we've been talking about in the second half of the class.

433
01:11:51,390 --> 01:12:03,360
Marisa Eisenberg: have a lot of issues of high dimensionality so most of the agent based models that we built yesterday you know have fairly simple rules that are kind of easy to describe with a bulleted list.

434
01:12:03,540 --> 01:12:15,990
Marisa Eisenberg: Even if that's still kind of ambiguous, you know they're they're fairly simple and that already leads to a pretty high dimensional space of options, you know how do you decide about your bread what you know how do you implement the rules those kinds of things.

435
01:12:16,830 --> 01:12:21,300
Marisa Eisenberg: But a lot of agent based models used in practice are are much more complicated and.

436
01:12:22,110 --> 01:12:30,840
Marisa Eisenberg: And so they they have more complicated processes to capture kind of the realistic details or or more intricate questions and so.

437
01:12:31,380 --> 01:12:36,690
Marisa Eisenberg: You know, yesterday we built that voting model, and you know it had some.

438
01:12:37,170 --> 01:12:42,840
Marisa Eisenberg: The grid size and the initial fraction and the neighborhood size, there were some parameters for voting model but.

439
01:12:43,110 --> 01:12:56,550
Marisa Eisenberg: um but it wasn't really that that complicated and, similarly, the SI our model that we just built on the network, well, it has it has the network generation parameters, you know for how many nodes and the probability of an edge formation.

440
01:12:56,970 --> 01:12:59,640
Marisa Eisenberg: It as the probability transmission and the probability of recovery.

441
01:12:59,820 --> 01:13:11,820
Marisa Eisenberg: And maybe the initial conditions, but those are really sort of all the parameters that you need at least for the non adaptive version and then you had to add to it to add two parameters for the adaptive version, but you know it's fairly simple but.

442
01:13:12,510 --> 01:13:22,620
Marisa Eisenberg: I wanted to just show one example of an agent a real world agent based model used in practice in this this one was looking at how walking patterns affect health.

443
01:13:23,520 --> 01:13:36,120
Marisa Eisenberg: In in a city and so it's it's it's by young Yang and on ideas Ruse group, you know so her group kind of does a lot of these kinds of agent based models for looking at different.

444
01:13:36,960 --> 01:13:40,350
Marisa Eisenberg: different kinds of sort of public health questions and so.

445
01:13:41,280 --> 01:13:57,120
Marisa Eisenberg: They modeled walking behaviors in an Ann arbor sized city as a function of health, social, economic, socio economic status neighborhood safety commuting patterns and other features, the way that they built this model was a discrete time step with each time step representing one day.

446
01:13:58,320 --> 01:14:16,260
Marisa Eisenberg: And they built the model with an 800 800 grid is the environment, where each grid cell represents a 10 meter by 10 meter Square and so it's a 64 kilometers city which is roughly the size of an hour they they broke it into four neighborhoods of 40 by 40 cells.

447
01:14:17,580 --> 01:14:24,630
Marisa Eisenberg: And then each neighborhood was given different properties safety aesthetics various environmental elements, etc.

448
01:14:25,410 --> 01:14:30,870
Marisa Eisenberg: And then they had all these different environmental properties that they had to kind of consider and model, so there were.

449
01:14:31,290 --> 01:14:39,300
Marisa Eisenberg: reasons that people might walk or commute to different places, so grocery store is non food shops social places like bars and restaurants and things.

450
01:14:40,200 --> 01:14:46,500
Marisa Eisenberg: You know, workplaces households, all these different locations, that they had to assign to the to the environment.

451
01:14:46,920 --> 01:14:57,330
Marisa Eisenberg: And then their agents, they simulated simulated 108,000 individuals with 48,000 couples 12,000 single people I assume that's based on the population of Ann arbor.

452
01:14:57,630 --> 01:15:06,960
Marisa Eisenberg: And they gave each agent a bunch of different properties related to their interest and ability to walk places their.

453
01:15:07,440 --> 01:15:22,500
Marisa Eisenberg: Their socioeconomic status their health, all these different kinds of things so, for instance they're walking ability is a is a is a uniform distribution that Scott times a function of age, so you know essentially they've got some kind of like.

454
01:15:23,730 --> 01:15:31,590
Marisa Eisenberg: Essentially you're walking ability as a function of your age, but it's otherwise kind of randomly determined, but they did they had all kinds of different properties so.

455
01:15:32,370 --> 01:15:41,070
Marisa Eisenberg: individuals were assigned to gender and age socioeconomic status they had a family size so either in this case, they only did couples or single people.

456
01:15:41,370 --> 01:15:50,070
Marisa Eisenberg: They are assigned friends, they were assigned dog ownership, speaking as someone who has a dog that obviously determines a lot of my walking patterns and.

457
01:15:50,700 --> 01:15:59,940
Marisa Eisenberg: You know, they were assigned a household a workplace a walking ability and an attitude towards walking which is sort of how much do they like to walk intrinsically.

458
01:16:00,600 --> 01:16:12,750
Marisa Eisenberg: And then, and then you know there were all these different activities, so you can start to see how quickly a realistic model of something starts to get quite complicated and.

459
01:16:13,290 --> 01:16:26,100
Marisa Eisenberg: You know and and it starts to get to be something that you really have to be very careful about how you documented you want to make sure that you share your code and make these kinds of things available because you know it's it's tough to.

460
01:16:27,090 --> 01:16:30,930
Marisa Eisenberg: To communicate all of the details of how one implements one of these things.

461
01:16:32,790 --> 01:16:40,830
Marisa Eisenberg: They for in terms of So these are the properties of the agents in terms of their actions and rules individuals can walk for three purposes they can go to work.

462
01:16:41,070 --> 01:16:47,040
Marisa Eisenberg: They can walk for basic needs, and they can walk for leisure, they have a certain probability of walking each day.

463
01:16:47,940 --> 01:16:58,260
Marisa Eisenberg: For different kinds of activities, so you know shopping has a certain cadence to it commuting for work is a daily thing, except for weekends, all of these kinds of things.

464
01:16:59,190 --> 01:17:07,020
Marisa Eisenberg: They have a maximum walking distance they're willing to walk for each kind of activities, so their workplaces too far away they're not going to walk there.

465
01:17:07,620 --> 01:17:16,530
Marisa Eisenberg: You know all of these different kinds of things their maximum distance is calculated off of their the overall Max that's just reasonably plausible plus they're walking ability.

466
01:17:18,240 --> 01:17:26,880
Marisa Eisenberg: You know so as an example for work each agent is the distance between their household and their workplaces less than their maximum.

467
01:17:27,330 --> 01:17:40,290
Marisa Eisenberg: Then they they walk to work with a probability equal to their walking to their they're walking attitude and then they'll update their attitude at each time step with feedback from their household numbers.

468
01:17:40,890 --> 01:17:50,280
Marisa Eisenberg: Safety the aesthetics, of the route, etc, so they did you know if you had started to see how this this model gets quite complicated and then they they.

469
01:17:50,670 --> 01:18:02,730
Marisa Eisenberg: Actually, also tried different environmental setups where they they they looked at how if you put socio economic status being related to.

470
01:18:03,630 --> 01:18:11,610
Marisa Eisenberg: Your location, you know, so you have a sort of lower SDS Center and then higher SDS as you go out.

471
01:18:12,600 --> 01:18:26,760
Marisa Eisenberg: If you they played around with what happens if you make safety correlated with a location, so that the you know it's least safe in the sort of urban Center and more safe, as you go out and what happens if you make.

472
01:18:27,900 --> 01:18:31,860
Marisa Eisenberg: I forget what this I think these are like shops, or something if you make shops.

473
01:18:32,160 --> 01:18:36,630
Marisa Eisenberg: Or maybe this is just density of individuals, I forget, I have to it's been a little while since i've looked at this, but they.

474
01:18:36,870 --> 01:18:45,180
Marisa Eisenberg: They looked at what happens if you put resources more clustered towards the Center versus you know more evenly distributed across the different things.

475
01:18:45,750 --> 01:18:55,920
Marisa Eisenberg: Anyhow it's an interesting paper you can read it, they found a lot of interesting results as far as what tends to make people walk more or less than how that varies as a function of socio economic status.

476
01:18:57,480 --> 01:19:05,970
Marisa Eisenberg: So you know you can see kind of here if there are okay that's right non household location So these are like shops and workplaces these dots.

477
01:19:06,240 --> 01:19:20,910
Marisa Eisenberg: So if they had shops and workplaces not clustered in the Center and safety was also not correlated with the sort of location, then everybody kind of walks kind of to a similar degree if they had.

478
01:19:21,240 --> 01:19:29,790
Marisa Eisenberg: shops and workplaces clustered in the Center and there was no safety differential by space, then it turns out that.

479
01:19:30,690 --> 01:19:37,200
Marisa Eisenberg: The individuals who live in the Center are most likely to walk so lower sex individuals are most likely to walk because.

480
01:19:37,470 --> 01:19:43,260
Marisa Eisenberg: it's close you know if it's clustered in the Center so it's close and convenient for them, and so they'll they'll be more likely to walk.

481
01:19:43,560 --> 01:19:53,520
Marisa Eisenberg: and higher sex individuals are least likely if you make safety issue, but you don't have clustering of shops, then higher sex individuals are most likely to walk.

482
01:19:54,120 --> 01:20:05,910
Marisa Eisenberg: Because they have access to shops that are close by, and they have a safer environment and then, if you cluster resources, but also safety then everyone is again sort of most likely to walk.

483
01:20:06,420 --> 01:20:13,410
Marisa Eisenberg: Similarly, likely to walk I should say anyhow they found a bunch of interesting things about why different sex groups walk.

484
01:20:14,190 --> 01:20:22,410
Marisa Eisenberg: You know whether they're walking for lower sex groups tend to walk for work higher sex groups tend to walk for leisure all these different kinds of things.

485
01:20:23,130 --> 01:20:36,390
Marisa Eisenberg: But the point that I want to make is sort of in some sense less about the specifics of this model and more about sort of noting how complicated, this can get quite quickly and then and you could debate, I mean.

486
01:20:37,380 --> 01:20:48,270
Marisa Eisenberg: We sometimes for this class it's kind of too tight, but sometimes we do a sort of journal club with this article, and you could you could debate whether all of the complexity that they included is really necessary, but.

487
01:20:49,650 --> 01:20:57,360
Marisa Eisenberg: it's Nonetheless, the case that if you want to account for some of these things, your agent base model is going to rapidly become pretty high dimensional and so.

488
01:20:57,630 --> 01:21:05,550
Marisa Eisenberg: It becomes the case that there are a lot of different inputs and possible outputs it's much too complicated to explore by hand.

489
01:21:06,330 --> 01:21:20,730
Marisa Eisenberg: or sort of analytically, and so we need ways to visualize the variation and behaviors and sort of explore which parameters are inputs have the most effect on our model outputs of interest, and so you know.

490
01:21:21,750 --> 01:21:31,950
Marisa Eisenberg: This piece of it is is really getting at the sensitivity analysis that we talked about yesterday, how you're going to want to explore parameter space and sort of see which.

491
01:21:32,550 --> 01:21:38,070
Marisa Eisenberg: Which parameters have the most effect on your model outputs that you're trying to kind of measure in your model.

492
01:21:38,460 --> 01:21:47,220
Marisa Eisenberg: And it also underscores the importance of being kind of targeted and thoughtful in your question and the freedom to kind of add as much detail as you want.

493
01:21:47,580 --> 01:21:52,830
Marisa Eisenberg: can mean that you end up adding way too many variables, to be able to analyze in any kind of effective way.

494
01:21:53,100 --> 01:22:07,140
Marisa Eisenberg: So you know you want to decide what scenario, you want to run so, for instance, if it's those four city setups that you want to look at, then you know sort of decide what questions you're going to answer and then keep it as simple as you possibly can, because it will get complicated anyway.

495
01:22:08,790 --> 01:22:22,860
Marisa Eisenberg: You know, so you can this high dimensionality is is has some benefits that lets you explore a lot of different things, but it also means that you have a very high dimensionality of your data to deal with in your analysis and so you know.

496
01:22:24,510 --> 01:22:34,200
Marisa Eisenberg: The the This is just sort of a little bit of a summary of what kinds of things can lead to high dimensionality and agent based models or network models to so for your agents.

497
01:22:34,410 --> 01:22:45,390
Marisa Eisenberg: You know there's things like the initial distributions of your agent types their attributes the preference structure for your agents if you're doing something like what you know, Michael has worked on where you've got kind of.

498
01:22:46,770 --> 01:22:48,780
Marisa Eisenberg: like a game theoretic structure to it.

499
01:22:49,890 --> 01:23:02,100
Marisa Eisenberg: direction or location all of those kinds of things number density all of those kinds of things are inputs that you'd have to kind of think about that add dimensionality to your agents.

500
01:23:02,970 --> 01:23:15,630
Marisa Eisenberg: outputs for your agents that add to contribute to the high dimensionality would be things like looking at trying to look at the distribution of resources, the density the portion that are in a different given state the position, etc.

501
01:23:17,550 --> 01:23:29,970
Marisa Eisenberg: you're going to have for interactions you know you have to think about what kind of connections, you want to be setting up what kind of network, what kind of interactions are you going to be building between your agents and your and your environment, and you know all that kind of stuff.

502
01:23:31,320 --> 01:23:39,210
Marisa Eisenberg: And then maybe you want to track as a function of time, what does the network structure look like or you know what prevalence of different strategies of interaction, are you seeing.

503
01:23:39,570 --> 01:23:47,370
Marisa Eisenberg: And then, of course, for your environment, the the resources that you want to choose the type of environment, you choose the layout of how you set up the environment.

504
01:23:47,640 --> 01:23:56,340
Marisa Eisenberg: are all going to add to your dimensionality and if you need to track and your outputs those same kinds of things you know that's a that's going to be a piece of it, too, so.

505
01:23:56,760 --> 01:24:04,080
Marisa Eisenberg: there's a lot going on, and so you know sensitivity analysis like we sort of talked about yesterday is going to be really important.

506
01:24:04,950 --> 01:24:12,060
Marisa Eisenberg: And, and after the break we'll talk also about how to explore the space of you know parameters.

507
01:24:12,930 --> 01:24:24,150
Marisa Eisenberg: In class when we talked about sensitivity analysis I mentioned global methods and I, and when we talked about that I sort of said you take a large sample of your parameter space and then you look at how.

508
01:24:24,510 --> 01:24:33,960
Marisa Eisenberg: Do you know various parameters correlate with your outcome of interest, which is fine, but it turns out that for really high dimensional agent based models taking a.

509
01:24:34,590 --> 01:24:42,180
Marisa Eisenberg: Like a uniform random sample is actually not going to work very well because you just have such high dimensionality that it's difficult to capture.

510
01:24:43,500 --> 01:24:57,780
Marisa Eisenberg: You know the full range of possible behaviors in any kind of efficient way, so we'll talk about how to do sampling and things like that, after the break, but for now let's pause here and we'll come back at 1030 so yeah awesome.

511
01:25:05,610 --> 01:25:16,170
Marisa Eisenberg: um so okay so welcome back um I think the next thing I want to talk about for the next kind of chunk of class is let's talk about.

512
01:25:16,410 --> 01:25:22,020
Marisa Eisenberg: let's revisit sensitivity analysis, a bit, although we're not we sort of talked about sensitivity analysis already.

513
01:25:22,320 --> 01:25:32,220
Marisa Eisenberg: But here I really want to talk about how you how you sample parameter space and so that's what I want to talk about here, and then we'll do a little a couple of code examples too so.

514
01:25:33,180 --> 01:25:44,010
Marisa Eisenberg: Okay, so, so I want to talk first about some of the goals that you might have when you're sampling parameters face there's like two flavors of this that are pretty common so.

515
01:25:45,270 --> 01:25:57,690
Marisa Eisenberg: One is, you may want to understand the variation in the outputs of your like the outcomes that you're modeling simulating so what kinds of behaviors are seeing so you're trying to understand sort of the variation in model outputs.

516
01:25:58,230 --> 01:26:09,900
Marisa Eisenberg: that's usually termed uncertainty quantification if you're trying to understand which inputs or parameters are driving that variation then that's really where we get into sensitivity analysis.

517
01:26:11,310 --> 01:26:15,900
Marisa Eisenberg: So when you're exploring the space of model behaviors for either of these two purposes.

518
01:26:16,410 --> 01:26:26,040
Marisa Eisenberg: You want to sort of think about how, how do you explore how you explore that space so so far we've talked we've talked about sort of adjusting specific variables and parameters and kind of.

519
01:26:26,370 --> 01:26:33,780
Marisa Eisenberg: we've done a couple of examples where you know, like with the emoji model yesterday, where you tweak the number of remember when we looked at the.

520
01:26:34,110 --> 01:26:42,510
Marisa Eisenberg: The shelling model and you change the number of neighbors that they required to be the same type and explored how that affected the dynamics of the model.

521
01:26:43,560 --> 01:26:51,780
Marisa Eisenberg: But we really need a sort of more comprehensive systematic approach and so that's where we get into sampling parameters face and and so.

522
01:26:53,490 --> 01:26:59,400
Marisa Eisenberg: So when you're sampling parameter space there's a couple of different ways that you might think about doing this, so.

523
01:26:59,820 --> 01:27:10,350
Marisa Eisenberg: grid sampling is is like an obvious and sensible one, so maybe you choose you just say it set a uniform distribution of points across your entire space.

524
01:27:11,310 --> 01:27:20,580
Marisa Eisenberg: You know and and so, then that you just kind of sort of sample uniformly across your whole space that gives you good coverage of the space, which is good.

525
01:27:21,360 --> 01:27:34,710
Marisa Eisenberg: But it's computationally expensive right So if you have, in this case, you know, whatever I have a two dimensional space, but imagine if I had you know 15 parameters, or something, then now you have an enormous.

526
01:27:36,000 --> 01:27:49,920
Marisa Eisenberg: number of points that you need to sample to be able to get a good fine mesh grid of that whole space so it's computationally expensive and really kind of starts to become infeasible as the dimension increases, and so, then.

527
01:27:50,490 --> 01:28:04,980
Marisa Eisenberg: You could sample entirely at random with like a uniform distribution, but the problem with this is that it can leave a lot of big blank spots right, so you might you wouldn't necessarily cover your space completely.

528
01:28:05,400 --> 01:28:18,750
Marisa Eisenberg: So here's a random sample of this 2d thing, and you can see that there are kind of big chunks that because random samples are are totally random you get clustering samples where there's a lot in one spot, but other places where there's very little.

529
01:28:19,830 --> 01:28:31,560
Marisa Eisenberg: So what can we do instead if we want if we don't if we're not in a parameter estimation setting where we have something like on cmc and that can kind of help us kind of decide which parts of parameter space to explore.

530
01:28:31,860 --> 01:28:43,500
Marisa Eisenberg: But we instead just want to explore the whole space with reasonably good coverage, what can we do so are there, more efficient ways to explore the space and just sampling randomly like this.

531
01:28:44,370 --> 01:28:51,270
Marisa Eisenberg: And it turns out that there are two kinds of families of methods that often get used for doing this, so Latin hyper keep sampling is one.

532
01:28:51,570 --> 01:29:03,480
Marisa Eisenberg: And so, both sampling or there's a lot of other what are called low discrepancy sequences, which are our ways of sampling the space deterministic Lee but in a way that has efficient coverage of the space so.

533
01:29:03,750 --> 01:29:07,290
Marisa Eisenberg: let's talk about each of these a little bit so Latin hyper cube sampling.

534
01:29:07,950 --> 01:29:18,990
Marisa Eisenberg: is really kind of like sudoku if you've ever played a sudoku so basically you divide divide your space into a grid of rows and columns here it's just doing it visually with a 2d space, but.

535
01:29:19,260 --> 01:29:23,580
Marisa Eisenberg: You could do this with a higher dimensional space, too, so you divide your space into a grid of rows and columns.

536
01:29:23,880 --> 01:29:37,320
Marisa Eisenberg: You choose one square out of every row and every column, or if you have you know more dimensions than every row column, and like whatever the third dimension is etc, so you know you choose one from each.

537
01:29:37,830 --> 01:29:47,400
Marisa Eisenberg: Each row and column, so in this case, for instance, if you are choosing a random maybe you get something sort of like this, where there's some big kind of blank spots.

538
01:29:48,300 --> 01:29:58,290
Marisa Eisenberg: With Latin, however, keep sampling well this one is actually Kevin perfectly fine random sample but with lab hyper keep sampling what you get is you choose one from each row and column.

539
01:29:59,130 --> 01:30:09,420
Marisa Eisenberg: And then you choose a random point within that Square and that at least guarantees you it can still have big empty spots so like these two quadrants in this example, this is a Latin hyper few sample.

540
01:30:10,230 --> 01:30:27,000
Marisa Eisenberg: These two quadrants are totally empty, but it does at least guarantee you that every value of the parameter one here let's say and parameter to every kind of range of values from low to medium to high does at least get at least one sample.

541
01:30:27,840 --> 01:30:39,000
Marisa Eisenberg: Now you usually would do this with a lot more fine fine mesh grids, so you would end up you usually end up kind of exploring this space pretty decently but.

542
01:30:39,630 --> 01:30:50,250
Marisa Eisenberg: There are fancier versions of Latin hyperloop sampling that to avoid this issue that you can sometimes choose a row in a column and end up missing quadrants.

543
01:30:51,210 --> 01:30:58,830
Marisa Eisenberg: There are fancier versions like orthogonal Latin have to keep sampling and things like this that force you to take every.

544
01:30:59,160 --> 01:31:07,890
Marisa Eisenberg: chunk there has to be every quadrant also has to have something in it basically and so so so there's fancier message, but so here's an example.

545
01:31:08,130 --> 01:31:16,530
Marisa Eisenberg: Of a lab hyper cube sample you compare that to the random sample truly random sample you can see that you get better coverage of the space.

546
01:31:17,400 --> 01:31:22,950
Marisa Eisenberg: there's still an element of randomness So if you run a Latin hyper cube sample multiple times you'll still get.

547
01:31:23,880 --> 01:31:31,140
Marisa Eisenberg: This element of randomness but it ensures better coverage of the space and sort of faster convergence to the sample distribution, so if you.

548
01:31:31,380 --> 01:31:47,280
Marisa Eisenberg: want to take a uniform sample of this 2d space you're actually going to get something that looks more like a uniform sample faster from a Latin hyperloop samples and from sort of just randomly sampling, even though that actually is drawing from a uniform distribution.

549
01:31:47,580 --> 01:31:54,720
Marisa Eisenberg: This will converge more quickly to the uniform distribution because of how you're doing the sampling okay.

550
01:31:56,340 --> 01:32:08,100
Marisa Eisenberg: So last time we keep sampling is sort of a way of doing random sampling but doing it in a more efficient way, so all sampling is a little bit of a different thing a lot of people think of snowball sampling as.

551
01:32:08,580 --> 01:32:19,980
Marisa Eisenberg: The same as Latin hyperloop sampling but it's actually kind of more like grid sampling, in a way, like snowball sampling is deterministic so there's no randomness to it it's like a.

552
01:32:20,850 --> 01:32:29,220
Marisa Eisenberg: sort of specialized grid sample that that converges that covers the space efficiently with very few points so.

553
01:32:29,970 --> 01:32:36,750
Marisa Eisenberg: there's other low discrepancy sequences so well as the most popular, I think, mostly sort of finished historical reasons, but there's the.

554
01:32:37,140 --> 01:32:40,380
Marisa Eisenberg: houghton and the far a there's a bunch of different sequences like this, but.

555
01:32:40,740 --> 01:32:46,410
Marisa Eisenberg: What you can see, so this is an example of a simple simple, you can see it's not random right so there's a.

556
01:32:46,650 --> 01:32:58,410
Marisa Eisenberg: Like a symmetry to it pretty clear, you know there's these this kind of triangle of points is matched by this one this little guy and this one or the same there's this kind of triple in the middle so there's this it has.

557
01:32:59,250 --> 01:33:06,900
Marisa Eisenberg: Like a we'll we'll do an example in a minute, what will will generate a larger sobel sequence, and it has a very.

558
01:33:08,220 --> 01:33:18,060
Marisa Eisenberg: kind of consistent pattern that's not random at all, but um but it, it does very efficiently sample the space, so you can actually get.

559
01:33:18,300 --> 01:33:28,380
Marisa Eisenberg: you're trying to uniformly sampled a space, you can more quickly get coverage of the space with so ball in certain circumstances than you do with like hyper cute.

560
01:33:28,650 --> 01:33:36,900
Marisa Eisenberg: Now I still like lab whatever cute for a lot of things, even if it's a little less efficient, because sometimes I want there to be that element of randomness I don't want it to be that.

561
01:33:37,140 --> 01:33:39,780
Marisa Eisenberg: Every single time you run it you get the exact same answer and so.

562
01:33:40,200 --> 01:33:51,030
Marisa Eisenberg: So ball has but, but it does it depends on when each level hyper Cuban so ball can each have advantages and different circumstances, I think, for most people, you can kind of use either one and it's fine.

563
01:33:51,750 --> 01:34:07,230
Marisa Eisenberg: But both of them will do better than either grid sampling or totally sort of randomly sampling the space, and so this is, these are sort of two methods that one can use to sample sample space at random i'm going to just really quick.

564
01:34:09,750 --> 01:34:12,660
Marisa Eisenberg: So if you want to.

565
01:34:14,130 --> 01:34:18,180
Marisa Eisenberg: to let me just really quick do this yeah okay.

566
01:34:20,160 --> 01:34:21,540
Marisa Eisenberg: share my whole screen.

567
01:34:22,920 --> 01:34:24,930
Marisa Eisenberg: So just as a sort of illustration.

568
01:34:26,160 --> 01:34:38,130
Marisa Eisenberg: Here there's there's some packages in our so the NHS package lets you do lab or give sampling and the snowball sequence packets lets you do this is all just a bunch of extra stuff lets you do so well sampling and.

569
01:34:38,670 --> 01:34:48,000
Marisa Eisenberg: here's just a little example So if you let's say you wanted to do thousand samples, and you had two parameters so it's a two dimensional parameter space.

570
01:34:48,750 --> 01:34:55,680
Marisa Eisenberg: And you want to take 1000 samples let's take a random sample 11 hyper keep sample and a small sample so.

571
01:34:56,670 --> 01:35:03,300
Marisa Eisenberg: This random sample and just using our unit so i'm just using a totally random uniform sample and.

572
01:35:03,630 --> 01:35:18,090
Marisa Eisenberg: This one i'm using the random la chess function that comes from this religious package to take a lot of every sample and this i'm using the snowball sequence function that comes from this symbol sequence package to take a small sample and then let's just plop them really quick so.

573
01:35:20,460 --> 01:35:30,840
Marisa Eisenberg: here's the random sample and it actually does pretty decently once you know it's were helped by the fact that we're only taking a two dimensional space, if you have a higher dimensional space.

574
01:35:31,710 --> 01:35:37,650
Marisa Eisenberg: 1000 points is usually not enough to really get good coverage, but on a on a two dimensional space, it looks not bad.

575
01:35:38,670 --> 01:35:39,450
Marisa Eisenberg: For.

576
01:35:40,710 --> 01:35:44,070
Marisa Eisenberg: The lab hyper give sample you can see, you get I mean honestly.

577
01:35:44,280 --> 01:35:53,490
Marisa Eisenberg: If you're only looking at two dimensions, it probably doesn't really matter that much whether you do Latin hyper do sampling or truly random sampling, you know you'll get probably decent coverage either way.

578
01:35:53,760 --> 01:36:05,280
Marisa Eisenberg: This other thing I wanted to illustrate is that you can see here the sobel sample is not a random sample like you can very clearly see that it's it's really a grid sample that is more efficient and so.

579
01:36:06,660 --> 01:36:13,650
Marisa Eisenberg: I just wanted to kind of highlight that that so that you can see here that the sobel sample is really kind of a different object.

580
01:36:14,280 --> 01:36:31,290
Marisa Eisenberg: So so anyway so that's that's just a little thing we'll do some more with this example just a second, but first so Questions about Latin hyper cubes sobel random sampling all of those kinds of things so that makes sense, so far.

581
01:36:32,430 --> 01:36:45,630
Rishi Chanderraj: yeah is so and so these are cases where MC MC is just way too computationally intensive is that right.

582
01:36:45,660 --> 01:36:53,820
Marisa Eisenberg: Or is it like it depends so so we'll talk So yes, you would use this in situations where MC MC MC MC is too computationally intensive.

583
01:36:54,030 --> 01:37:08,010
Marisa Eisenberg: And we'll talk about in a second we'll talk about approximate bayesian compensation, which is one of the ways that you might use something like this, but um, but it also is for situations where maybe you just don't actually have any data so there's nothing to fit with your MC MC.

584
01:37:09,180 --> 01:37:14,160
Marisa Eisenberg: So you don't have anything to say which part of parameter space is a better fit than another, so.

585
01:37:14,520 --> 01:37:17,400
Marisa Eisenberg: there's no like you just want to sample.

586
01:37:17,520 --> 01:37:26,820
Marisa Eisenberg: Of like our region, you know, like a sort of uniform region, so in that circumstance there's no cost function for the MC MC to kind of.

587
01:37:27,570 --> 01:37:37,230
Marisa Eisenberg: be able to say, I want to explore this part better than that part or you know what have you if you just have a uniform region, then you may.

588
01:37:37,650 --> 01:37:50,580
Marisa Eisenberg: MC MC will, will you could run them cmc with a uniform distribution but it's it won't get you as efficient coverage of that space as something like so goal, or lack of sampling.

589
01:37:51,150 --> 01:37:59,460
Rishi Chanderraj: So, like the other day when we had when we were doing the metropolis outer sampling it's like we had that distribution.

590
01:38:00,120 --> 01:38:07,620
Rishi Chanderraj: Space we knew the form of that and we were sampling from something that we knew, here we have like zero information.

591
01:38:08,430 --> 01:38:24,510
Rishi Chanderraj: And so we're it's just it's basically it's much more efficient if if we don't know the distribution that all versus like metropolis where we can optimize based on like what our alpha is and every step like because we know that got it.

592
01:38:24,570 --> 01:38:28,140
Marisa Eisenberg: Exactly yep awesome cool yeah.

593
01:38:28,170 --> 01:38:29,340
Marisa Eisenberg: So that so that that's.

594
01:38:29,400 --> 01:38:30,750
Marisa Eisenberg: Perfect that's exactly right.

595
01:38:31,890 --> 01:38:42,870
Marisa Eisenberg: Okay, so yeah so So then, so we have these methods, you might sort of wonder how many samples, you need to take for these methods to get good coverage it's actually sort of surprisingly difficult to say.

596
01:38:43,620 --> 01:38:55,890
Marisa Eisenberg: In part, because in reality, a lot of times you're actually sort of like the examples we're going to run today are all going to be over the years that run really fast and it sort of doesn't matter, and you can just take a bajillion samples but.

597
01:38:56,880 --> 01:39:06,630
Marisa Eisenberg: But in reality when you're faced with a lot of these situations you're really kind of balancing computational intensive this with good coverage so it's sort of a question of like well how much computational resources do you have.

598
01:39:07,500 --> 01:39:21,060
Marisa Eisenberg: And how much can you like, how long can you spend on doing this, and it also depends a lot on the kind of variation that your system has so, for instance.

599
01:39:21,810 --> 01:39:30,810
Marisa Eisenberg: You know, imagine that you have a sort of drawn here in like a little corner imagine that you have parameter one and parameter to.

600
01:39:31,770 --> 01:39:44,790
Marisa Eisenberg: And you're looking at some outcome if it's the same if it's more like you know it goes from low i'm not i'm just trying to write low and it didn't work, maybe the outcome goes from sort of like low over here.

601
01:39:46,440 --> 01:39:59,280
Marisa Eisenberg: To like high values i'm using stars to represent high high values over here, and you know, then maybe you don't need that many sample points to capture that there's a gradient sort of going this way.

602
01:40:00,480 --> 01:40:11,160
Marisa Eisenberg: But if you're erase all this junk if your if your space has a lot more variation where maybe okay it's really you know.

603
01:40:12,480 --> 01:40:15,180
Marisa Eisenberg: I don't know high in this region.

604
01:40:15,450 --> 01:40:24,780
Marisa Eisenberg: And then it's you know it's like low here and then there's a little region over here where it's sort of high, and then the like a little bit of media or something.

605
01:40:24,960 --> 01:40:30,510
Marisa Eisenberg: You know and there's a whole bunch of like different spots that have different kinds of patterns, then you need.

606
01:40:30,810 --> 01:40:42,900
Marisa Eisenberg: A much more detailed sample to capture all of that stuff so how many samples, you need kind of varies on your model and what question you're trying to you know what your outcome is and all those kinds of things.

607
01:40:43,740 --> 01:40:47,610
Marisa Eisenberg: In general, a good rule of thumb you certainly are going to want more than 100 samples.

608
01:40:48,270 --> 01:40:51,780
Marisa Eisenberg: Usually it's in the like thousands kind of range is pretty common.

609
01:40:52,080 --> 01:41:08,310
Marisa Eisenberg: And you know it's you also often need to run a single sample point more than what's because if you have a stochastic model, then you might get very different behaviors from the same point in parameters face when you run it multiple times so it's hard to kind of decide.

610
01:41:08,880 --> 01:41:15,060
Marisa Eisenberg: There are methods that have proposed rules of thumb so for Latin hyper keep sampling people say you should have at least.

611
01:41:15,810 --> 01:41:30,360
Marisa Eisenberg: The if you're if you have this if NP is the number of parameters, you should have at least four thirds, the number of parameters is how many samples, you should take, but in reality, I find you often need a lot more than that so that's a lower limit but not.

612
01:41:31,770 --> 01:41:42,570
Marisa Eisenberg: Not but you often want quite a bit more for myself what I actually find tends to be the most useful way to decide if I have good enough coverage is take some samples.

613
01:41:43,230 --> 01:41:52,260
Marisa Eisenberg: plot whatever outcomes i'm looking at then take some more samples and see if the plot changes, and if the plot continues to change as you add more samples.

614
01:41:52,500 --> 01:42:01,770
Marisa Eisenberg: Then you don't have enough coverage because you're still changing the outcome that you're that you're analysis is getting right so keep doing that, until you get enough samples that.

615
01:42:01,980 --> 01:42:09,570
Marisa Eisenberg: Everything kind of looks the same as you keep adding more samples and then that's probably decent coverage, but there's not really a great rule of thumb unfortunately so.

616
01:42:10,200 --> 01:42:13,770
Marisa Eisenberg: that's that's something that is a little bit tricky to do and.

617
01:42:14,550 --> 01:42:18,420
Marisa Eisenberg: The I think the first specific instances, there are better.

618
01:42:18,750 --> 01:42:28,470
Marisa Eisenberg: Rules of thumb out there, so there's a whole field of what are called circuit models and things like this and they've they've worked out some rules of thumb based on how much variation there is in your service.

619
01:42:29,310 --> 01:42:37,380
Marisa Eisenberg: So there are there it's not like there's nothing there is definitely some literature out there, but it often for a specific problem you kind of have to wing it a little bit.

620
01:42:38,070 --> 01:42:50,910
Marisa Eisenberg: But so anyhow The other thing that you want to be kind of thinking about when you're thinking about sampling and looking at different outcomes of your model is sort of how you're going to choose your model outputs so.

621
01:42:52,470 --> 01:43:04,080
Marisa Eisenberg: You know, evaluating the model behavior if you're going to run 10,000 samples you can't look at all 10,000 plots by hand and see what the model is doing so if you're looking for something like.

622
01:43:05,340 --> 01:43:21,780
Marisa Eisenberg: Does the model oscillate or you know, does the simulation show higher levels of this and lower levels of that, and you know you're going to want to be able to figure out a way to evaluate your question in an automated way because.

623
01:43:22,800 --> 01:43:26,460
Marisa Eisenberg: You you're not going to at some point you're gonna have too many samples.

624
01:43:26,760 --> 01:43:34,860
Marisa Eisenberg: That you're not going to be able to look at a time course plot for each simulation that you ran and see whether it has the feature that you're looking for so.

625
01:43:35,070 --> 01:43:48,090
Marisa Eisenberg: If you wanted to say, you know in what parts of parameter space do I get coexistence of these two species are and what parts of parameter space does do I see oscillations in the disease prevalence you know those.

626
01:43:48,510 --> 01:43:57,960
Marisa Eisenberg: Depending on what your question is you're going to want to kind of try and pick a metric for your question that kind of captures the behavior you're interested in seeing and then.

627
01:43:58,800 --> 01:44:05,160
Marisa Eisenberg: Make it something you can code up so that That way, you can you're not stuck sitting there or hiring a pile of undergrads.

628
01:44:05,880 --> 01:44:14,910
Marisa Eisenberg: Well, like a group of undergrads to like go through your thousands of results and sort of by I you know evaluate them so.

629
01:44:15,420 --> 01:44:20,010
Marisa Eisenberg: Just something to kind of bear in mind when you're starting to think through how to run one of these things and.

630
01:44:20,550 --> 01:44:30,930
Marisa Eisenberg: In terms of visualization there's tons of different kinds of approaches, I find often that like just histograms and scatter plot are super useful you that's like the bread and butter of most of this kind of work.

631
01:44:31,170 --> 01:44:34,860
Marisa Eisenberg: Is that you just want to see what distribution, do you get out of this.

632
01:44:35,490 --> 01:44:42,000
Marisa Eisenberg: Out of your simple and you want to look at how it varies across four different parameters and so histograms and scatter plus do great.

633
01:44:42,270 --> 01:44:52,980
Marisa Eisenberg: But you often find that box plots violin plots things like that ridgeline plots if you've seen those before heat maps all kinds of things like that can also be really helpful.

634
01:44:53,820 --> 01:45:08,040
Marisa Eisenberg: And it's often really useful to be able to use just some basic descriptive statistics, so what was the mean disease prevalence as a function of this parameter, you know those kinds of things quintiles all that kind of stuff is often really useful and okay.

635
01:45:09,060 --> 01:45:20,070
Marisa Eisenberg: I wanted to take a moment to do a little bitty note of sort of how this kind of sampling question relates to different kinds of uncertainty so.

636
01:45:21,630 --> 01:45:22,110
Marisa Eisenberg: You know.

637
01:45:23,160 --> 01:45:39,720
Marisa Eisenberg: Essentially I think it's it's an interesting question so there's two kind of flavors of uncertainty that People often talk about alia Tory uncertainty and epistemic uncertainty so alia Tory uncertainty is uncertainty that is due to sort of the.

638
01:45:40,920 --> 01:45:51,810
Marisa Eisenberg: The inherent randomness in a process so there's stochastic it and and randomness and error that is inherent in in your in your sort of.

639
01:45:52,770 --> 01:46:01,020
Marisa Eisenberg: system, so it could be like process related noise so, for instance stochastic mixing of individuals in a population.

640
01:46:01,890 --> 01:46:11,580
Marisa Eisenberg: pretty sure I spoke individuals wrong here, did you are you at or measurement error or variation in an ass day you know all these kinds of things so.

641
01:46:12,090 --> 01:46:23,460
Marisa Eisenberg: This comes from the word la in Latin, which means dice So this is the kinds of uncertainty that comes from just you can't get rid of it it's just there's some randomness inherent in your process.

642
01:46:24,270 --> 01:46:33,330
Marisa Eisenberg: Whereas epistemic uncertainty is systematic or model uncertainty, so this is often characterized as like sort of things that we could, in principle, know but we don't.

643
01:46:33,780 --> 01:46:40,770
Marisa Eisenberg: So we this can be things like model uncertainty, where we don't know which exact model is the correct one.

644
01:46:41,700 --> 01:46:53,220
Marisa Eisenberg: or it could be things like parameter uncertainty, so I wanted to kind of point this out here that you know, uncertainty and which parameter values are the ones that are actually driving the process we're seeing in the real world.

645
01:46:53,550 --> 01:47:02,760
Marisa Eisenberg: Time tends to kind of live in this epidemic uncertainty world, but when you're doing the sampling so you're exploring the epidemic uncertainty you're exploring.

646
01:47:04,350 --> 01:47:15,120
Marisa Eisenberg: The the the effect of the parameters on your system but you're also kind of exploring the allegory uncertainty, too, because every time you run your model if it has randomness in it.

647
01:47:15,330 --> 01:47:27,930
Marisa Eisenberg: Then you get a different sort of roll of the dice so just wanted to kind of bring that up as a little bit of a thing and i'm going to actually skip this because we're going to do a different one so.

648
01:47:29,400 --> 01:47:39,000
Marisa Eisenberg: This is the we're going to we're going to do an example, but i'm going to do it slightly differently, but i'll show you the plots for this just they're not great plots they're kind of Stupid looking but it's fine.

649
01:47:39,180 --> 01:47:48,930
Marisa Eisenberg: But just to kind of give you a sense, so this is just a simple example of like how one might do some simple uncertainty quantification and oh shoot.

650
01:47:50,520 --> 01:47:55,890
Marisa Eisenberg: Okay i'm gonna have to in a second i'm gonna have to pause for a minute just because I forgot to put a couple of slides in here um.

651
01:47:56,160 --> 01:48:06,630
Marisa Eisenberg: But so an example of how you could do uncertainty quantification with that s is model on a network it doesn't have to be the karate club network, it could be on a random network would look the same.

652
01:48:08,670 --> 01:48:15,150
Marisa Eisenberg: So that si s model that we looked at earlier this morning, where we had tie breaking and regrowth.

653
01:48:15,540 --> 01:48:27,000
Marisa Eisenberg: And let's see just sort of do a little bit of sampling of that model so where we sample the infection probability the recovery probability the tiebreaker probabilities in the tyree gross probability.

654
01:48:27,390 --> 01:48:34,950
Marisa Eisenberg: And, and so we're going to sample those uniformly since they're all probabilities we can sample them from the space of zero to one.

655
01:48:36,240 --> 01:48:46,800
Marisa Eisenberg: And and sort of see what we get across the whole thing and what we're going to take us our outputs is we'll look at the maximum prevalence of the maximum fraction of people who are infected.

656
01:48:47,100 --> 01:49:04,350
Marisa Eisenberg: And maybe the duration of the epidemic within the 25 times steps that we're going to simulate and so, if you do this and you sort of run it I can actually show you all, I do have that code it's all in Python but that's probably fine um.

657
01:49:07,200 --> 01:49:11,130
Let me just share make this shared.

658
01:49:12,750 --> 01:49:15,150
Marisa Eisenberg: thingy you all can see it.

659
01:49:17,730 --> 01:49:23,700
Marisa Eisenberg: Okay alright so here's the notebook and i'll share my screen.

660
01:49:26,100 --> 01:49:35,550
Marisa Eisenberg: Here we go okay so um, this is a that same susceptible infectious susceptible model with the tyree growth thing and.

661
01:49:36,900 --> 01:49:43,320
Marisa Eisenberg: Apparently, I left a note to myself and, and so the I got to install the packages for.

662
01:49:44,370 --> 01:49:44,970
Marisa Eisenberg: Taking a minute.

663
01:49:47,520 --> 01:49:49,020
Just let it kind of do its thing.

664
01:49:52,200 --> 01:49:57,030
Marisa Eisenberg: So while it's installing the packages, let me just step through the code same code that we saw before.

665
01:49:58,200 --> 01:50:08,160
Marisa Eisenberg: The only thing that's going to be different is we're going to do it, you know so we're same code base on, for I guess I picked a different color scheme, but something that's going to be different is we're going to do.

666
01:50:09,780 --> 01:50:24,990
Marisa Eisenberg: we're going to run the model multiple times for a bunch of different sample parameters and then visualize the results of what we get, and so I put the code here we'll see if it didn't finish yes okay great.

667
01:50:26,010 --> 01:50:29,970
Marisa Eisenberg: It takes a little while to run actually wonder if it's not worth doing.

668
01:50:38,940 --> 01:50:42,090
Marisa Eisenberg: Okay, so here's our little model.

669
01:50:43,710 --> 01:50:48,870
Marisa Eisenberg: You know you get the tie breaking and, eventually, it ought to.

670
01:50:50,400 --> 01:50:53,040
Marisa Eisenberg: There we go it clears the infection after the.

671
01:50:54,120 --> 01:50:56,670
Marisa Eisenberg: breaks the ties and then they eventually reform.

672
01:50:58,440 --> 01:51:11,910
Marisa Eisenberg: And then you can plot your prevalence over time Okay, so now we wanted to do some i'm certainly quantification So what we can do is we're going to do 100 runs so 100 simulations of 25 times steps each.

673
01:51:12,990 --> 01:51:18,120
Marisa Eisenberg: will keep track of the the peak prevalence of the of the.

674
01:51:19,560 --> 01:51:28,470
Marisa Eisenberg: Of the epidemic and the duration of the epidemic within the 25 times steps some epidemics are going to run for more than 25 times steps so.

675
01:51:28,770 --> 01:51:44,970
Marisa Eisenberg: We won't have a duration for those but that's fine and then we'll i'm actually going to record the trajectory of every run since we're only doing 100 of them, so if you do this, this will probably take a little while to run let's see if it does its thing.

676
01:51:46,020 --> 01:51:50,790
Marisa Eisenberg: I think, luckily i've run it already previous oh actually I was fast and I thought it would take longer than that.

677
01:51:51,930 --> 01:52:00,150
Marisa Eisenberg: Okay, so so we run the thing and then we can plot various plots of what we get So these are some plots of.

678
01:52:01,230 --> 01:52:03,180
Marisa Eisenberg: The output that we got from running it.

679
01:52:04,230 --> 01:52:11,610
Marisa Eisenberg: 100 times so i'm actually going to start here, so this, these are all the models trajectories this looks really stupid, but just.

680
01:52:12,450 --> 01:52:23,730
Marisa Eisenberg: Just to kind of illustrate why, at some point when you take too many samples it's hard to visualize all of your you can't just look at all the plots of the the behavior over time and be able to make sense of it so.

681
01:52:24,150 --> 01:52:35,460
Marisa Eisenberg: All of these are all of our different model trajectories now, this is a little more interpreted this is the the median across all of these different simulations and then I think the.

682
01:52:37,410 --> 01:52:45,570
Marisa Eisenberg: quintiles here, so this lighter section is the 50% of all of our runs and then the I think this is maybe the.

683
01:52:45,960 --> 01:52:57,660
Marisa Eisenberg: 95% I forget what it is maybe 90% of all of our runs are inside here, so you can you can use plots like this to get a sense of sort of what are the tendencies of the trajectories that you see.

684
01:52:58,440 --> 01:53:07,920
Marisa Eisenberg: And sort of get a sense of where the uncertainty is and then these these two are distribution, so this is a distribution of the peak prevalence So you can see that.

685
01:53:08,550 --> 01:53:15,330
Marisa Eisenberg: peak prevalence tends to be somewhere in the like 20 to 40% kind of range and then the epidemic duration.

686
01:53:15,960 --> 01:53:22,470
Marisa Eisenberg: And you can see here that most of the epidemics tend to end within 10 to 15 ish kind of timestamps.

687
01:53:23,430 --> 01:53:32,700
Marisa Eisenberg: But there's another sort of peek over here, which is all the epidemics, that we simulated the didn't finish by the time the the the.

688
01:53:33,270 --> 01:53:41,760
Marisa Eisenberg: The simulation was done so, really, we should probably I mean, some of them may run forever if the epidemic is not cleared, but we probably should be running this out for longer.

689
01:53:42,000 --> 01:53:57,840
Marisa Eisenberg: Because this is really capturing the fact that we truncated the tale of this distribution at 25 times steps, but so um so that's sort of just a little quick example of how you can do uncertainty quantification.

690
01:54:00,330 --> 01:54:10,410
Marisa Eisenberg: And so you know you can kind of do a lot of this sort of sibling it depending on what region you sample from you can get different.

691
01:54:11,220 --> 01:54:19,350
Marisa Eisenberg: Different different things, so this, I think I was actually just running the same we didn't even do a sample degree.

692
01:54:20,010 --> 01:54:27,210
Marisa Eisenberg: Is this, this is just stochastic yeah, this is just the thing that we just saw was just stochastic variability with the same set of parameters.

693
01:54:27,480 --> 01:54:32,760
Marisa Eisenberg: But if you explore across parameter space, then you get a wider range of different things so.

694
01:54:33,270 --> 01:54:39,060
Marisa Eisenberg: Let me just actually reshare the code hang on sorry you didn't I shouldn't have to switch back yet so.

695
01:54:39,450 --> 01:54:49,560
Marisa Eisenberg: So here, these all of these simulations that we just ran were with one set of parameters if we now want to run I here we go Okay, so if we now want to run a sample of.

696
01:54:49,860 --> 01:55:09,270
Marisa Eisenberg: A range of parameters, then we're going to draw a you know in 100 samples with we're going to run each each location twice let's say 25 times steps each and then we'll just make a bunch of containers to hold the outputs like we did before we're going to take an la a lab hyper few sample.

697
01:55:10,470 --> 01:55:22,470
Marisa Eisenberg: And so, this time, you can see here yeah sorry I wasn't paying attention to the code, you can you can see here that we set for each loop run of the loop we set the parameter values to to the current.

698
01:55:23,070 --> 01:55:30,630
Marisa Eisenberg: parameter set in our sample so we're stepping through each of the different sampled parameter values, and so, if you run this thing.

699
01:55:31,860 --> 01:55:33,660
Marisa Eisenberg: i'll take a little minute to run.

700
01:55:35,280 --> 01:55:43,620
Marisa Eisenberg: So you can see, this this one takes a little bit longer, but still not that bad and then now we can visualize the.

701
01:55:44,280 --> 01:55:47,370
Marisa Eisenberg: uncertainty and it gets a little bit more complicated so.

702
01:55:47,670 --> 01:55:59,190
Marisa Eisenberg: The maximum prevalence has a much wider kind of range the epidemic duration there's a lot of the space that we're sampling that ends up not finishing, by the time we run 25 times, so we should really run this out.

703
01:55:59,460 --> 01:56:03,360
Marisa Eisenberg: for longer, but you can see some interesting patterns, so if you start to look at.

704
01:56:04,290 --> 01:56:14,820
Marisa Eisenberg: How maximum prevalence and epidemic duration correlate with one another, and this is a little plot, you can see that longer epidemics tend to have higher peak prevalence.

705
01:56:15,720 --> 01:56:32,070
Marisa Eisenberg: But you can also see that we really didn't run the simulations long enough right like we should actually do this code, but change the epidemic the length of time, we run the simulations for to longer than 25 because everything out here, got truncated.

706
01:56:33,510 --> 01:56:39,750
Marisa Eisenberg: You know onto this sort of edge here so it's you know, this is just like a little toy example if you wanted to do this.

707
01:56:39,990 --> 01:56:45,870
Marisa Eisenberg: It would take a little bit longer to run a longer simulation so I kind of kept it short but you want to do something a little bit better.

708
01:56:46,170 --> 01:56:58,230
Marisa Eisenberg: This is a heat map that looks silly because we're taking so few samples but it's the heat map version of the same scatter plot, and so you can kind of see how some of these things very.

709
01:56:59,250 --> 01:57:08,250
Marisa Eisenberg: The same kind of spaghetti looking plot of all the different trajectories you can see now that you get a much wider range of behaviors as you're sampling across parameter space and.

710
01:57:08,610 --> 01:57:19,290
Marisa Eisenberg: there's a sort of tendency for the thing to invade and then you very different lengths of time that it takes for the epidemic to either clear out or sort of sit at a steady state.

711
01:57:20,310 --> 01:57:28,890
Marisa Eisenberg: And, and then there's some trajectories where the epidemic kind of dies out immediately, so if you make that same kind of quantel plot you get something that looks like this, so.

712
01:57:29,910 --> 01:57:39,180
Marisa Eisenberg: So that's sort of an example of how you could do kind of uncertainty quantification with that same epidemic model that we were looking at.

713
01:57:39,840 --> 01:57:48,480
Marisa Eisenberg: If you wanted to do sensitivity analysis, so we can use that same sample and the same results that we pulled but now let's look at how.

714
01:57:49,380 --> 01:57:59,100
Marisa Eisenberg: Our different parameters affect peak prevalence and epidemic duration, so a sensitivity analysis would be much the same kind of thing.

715
01:57:59,970 --> 01:58:01,230
Marisa Eisenberg: But now we're going to look at.

716
01:58:01,680 --> 01:58:15,240
Marisa Eisenberg: say, for instance, the maximum prevalence as a function of the infection probability, and you can see a pretty clear relationship that as your infection probability increases your maximum prevalence gets higher and the.

717
01:58:15,600 --> 01:58:28,710
Marisa Eisenberg: A similar kind of relationship with epidemic duration, but we have that same problem that we ran the simulations for only 25 times steps, and so it gets cut off here, and so we really should you know, we should actually run this out for a lot longer.

718
01:58:29,730 --> 01:58:42,900
Marisa Eisenberg: If you look at the recovery probability, you can see that there's more kind of spread, but that the peak prevalence tends to decrease, as you as you make people recover faster, so the faster that people recover.

719
01:58:43,170 --> 01:58:53,970
Marisa Eisenberg: The, the lower the peak prevalence of the epidemic an epidemic duration is kind of a mess, I think we really need to run the simulation out for longer to be able to say much there and.

720
01:58:54,510 --> 01:59:01,650
Marisa Eisenberg: it's interesting the probability of breaking ties doesn't seem to have very much effect on the peak prevalence at all right so.

721
01:59:02,490 --> 01:59:09,510
Marisa Eisenberg: How likely, you are to break ties at this, at least for for this set of this range of parameter space.

722
01:59:10,020 --> 01:59:22,230
Marisa Eisenberg: You know where we're just going across the full range of zero to one it doesn't seem to have make much of a difference it's like possible that, if we zoomed into specific ranges of parameter space, there might be regions where type breaking.

723
01:59:23,490 --> 01:59:36,780
Marisa Eisenberg: makes a difference in the prevalence but not here the tie breaking probability maybe has some kind of impact on epidemic duration, we really need to change the way we're doing the simulations to be able to say.

724
01:59:38,910 --> 01:59:46,200
Marisa Eisenberg: It the tie regrowth also doesn't really seem to have much effect on peak prevalence and it doesn't really seem to have that much effect on.

725
01:59:46,980 --> 01:59:52,950
Marisa Eisenberg: On epidemic duration either the heat map is going to look silly because we just don't have enough.

726
01:59:53,910 --> 02:00:00,810
Marisa Eisenberg: Enough samples, but this is a little heat map of infection probability recovery probability and then.

727
02:00:01,080 --> 02:00:08,910
Marisa Eisenberg: The color is the peak prevalence so you tend to get your highest prevalence is when you have low probability of recovery.

728
02:00:09,120 --> 02:00:18,030
Marisa Eisenberg: and high probability of infection which makes sense if you're very transmissible and you don't recover, very often, then a lot of people are going to get sick right so.

729
02:00:18,600 --> 02:00:35,010
Marisa Eisenberg: So that that's kind of what we're seeing there and and then all the simulations again, so this is just kind of for interest here it is again with a different like zooming in on a different parameter range so here and see what we picked.

730
02:00:36,120 --> 02:00:49,770
Marisa Eisenberg: yeah okay So here we go so we're going to set the parameter ranges here to kind of focus in on some like specific area of the parameter space between.

731
02:00:50,220 --> 02:01:00,240
Marisa Eisenberg: Point two 2.3 for the probability of infection, the full range for the probability of recovery and the upper half so Point five to one.

732
02:01:00,720 --> 02:01:18,120
Marisa Eisenberg: or sorry between Point two 2.5 here from Point five to one for the probability of tie breaking and from 02 Point two five for the probability of Tiree gross and so we're kind of zooming in on a more specific range in the parameter space, and if we do that.

733
02:01:22,440 --> 02:01:26,040
Marisa Eisenberg: You should see that the patterns are change a little bit so.

734
02:01:26,850 --> 02:01:35,100
Marisa Eisenberg: In this region, what you can see is that part of what we've done is just you still see that relationship between infection probability and and peak prevalence.

735
02:01:35,370 --> 02:01:44,370
Marisa Eisenberg: But part of what we've done is zoom in on a region where you're less likely to get epidemics that last longer than 25 times steps so you can see a little bit of.

736
02:01:44,910 --> 02:01:54,300
Marisa Eisenberg: Some of the relationships, a little bit easier so infection probability weekly but seems to increase epidemic duration in this region recovery probability.

737
02:01:55,590 --> 02:02:04,350
Marisa Eisenberg: As the recovery probability increases the peak prevalence drops down as the recovery probability increases the epidemic duration also tends to drop down.

738
02:02:05,220 --> 02:02:12,690
Marisa Eisenberg: And you can kind of see well honestly I don't know why I picked this region it doesn't seem that much better in terms of its.

739
02:02:12,990 --> 02:02:30,030
Marisa Eisenberg: Clarity I guess it does, you can see that you have more simulations where the epidemic ends before 25 times stuff so it's mostly just to kind of zoom in there, but okay so that's just kind of a quick example of some of the kind of simulations you can do if you.

740
02:02:31,080 --> 02:02:41,550
Marisa Eisenberg: The plots here are not pretty they're, just like the default junkie plots that you can make in Python, so I would not, I wouldn't necessarily say that I would.

741
02:02:41,910 --> 02:02:52,770
Marisa Eisenberg: You know the ideas are here, you want to look at scatter plot and histograms and things like that probably if you were doing this for a real research project, you might make the plots a little prettier and kind of fancy them up, but.

742
02:02:53,370 --> 02:02:58,770
Marisa Eisenberg: But basically that's sort of the rough idea for a lot of this stuff um.

743
02:03:00,000 --> 02:03:00,780
Marisa Eisenberg: let's see here.

744
02:03:01,830 --> 02:03:05,910
Marisa Eisenberg: I want to revisit the sensitivity analysis that we talked about.

745
02:03:06,450 --> 02:03:21,330
Marisa Eisenberg: Yesterday, just to talk a little bit more about the global methods and sort of how you would use some of these samples that you could take in some of these global sensitivity analysis methods, but are there any questions about that the stuff that we've done so far.

746
02:03:24,600 --> 02:03:30,450
Rishi Chanderraj: yeah sorry I am can I so some of the some of the methods or.

747
02:03:31,020 --> 02:03:42,270
Rishi Chanderraj: Am I right in saying that the method of choice of the method of sampling will determine be determined by whether you have a prior or not, for the parameters is that is that.

748
02:03:42,600 --> 02:03:49,800
Rishi Chanderraj: is like, if you have no information and you're just like sampling from a uniform distribution of this that this again.

749
02:03:50,460 --> 02:04:07,200
Rishi Chanderraj: Some of these some of the other, you know the the hyper cube sampling and the sobel sampling make a lot more sense, but if you know that, like hey this comes from like a gamma distribution or whatever, then, then it would make more sense to do MC MC.

750
02:04:07,710 --> 02:04:09,060
Marisa Eisenberg: Yes, yeah.

751
02:04:09,450 --> 02:04:09,660
Rishi Chanderraj: Okay.

752
02:04:09,690 --> 02:04:19,680
Marisa Eisenberg: yeah yeah so I guess the only exception, I will say so in general, yes, if you have a distribution MC MC is a great way to sample from it's a view of something better than a uniform.

753
02:04:19,920 --> 02:04:22,260
Marisa Eisenberg: Then you, you probably would want to use MC MC.

754
02:04:22,590 --> 02:04:30,600
Marisa Eisenberg: The only thing I will say is that you actually can also use so so little sampling is kind of fixed to be a uniform because it's a grid and.

755
02:04:30,600 --> 02:04:30,750
Rishi Chanderraj: If.

756
02:04:30,840 --> 02:04:31,260
Rishi Chanderraj: You know.

757
02:04:31,590 --> 02:04:38,220
Marisa Eisenberg: You can't it's I mean you could probably make a low discrepancy sequence that that replicates some other kind of distribution but.

758
02:04:38,640 --> 02:04:57,450
Marisa Eisenberg: that's a much harder mathematical problem and probably not worth your time right but but but Latin hyperloop sampling it, it is pretty easy to modify your lab and hyper cubes sample to pull from a different kind of distribution like a gamma or something so if you had like a.

759
02:04:58,530 --> 02:05:06,690
Marisa Eisenberg: It might still not be worth it, and you might still just want to use MC MC, but if you had like a multivariate normal or something that you knew your parameters were coming from.

760
02:05:07,320 --> 02:05:13,200
Marisa Eisenberg: There are a lot of pre built methods for Latin hyperloop sampling for some of the common distributions that are out there.

761
02:05:13,350 --> 02:05:20,640
Marisa Eisenberg: And that might still be faster than MC MC I don't know if it would actually really be worth the hassle but, but if you have that you can.

762
02:05:20,760 --> 02:05:23,070
Marisa Eisenberg: You can do it so that's another another option.

763
02:05:24,540 --> 02:05:25,710
Marisa Eisenberg: What if you have something.

764
02:05:26,070 --> 02:05:28,440
Marisa Eisenberg: that's more like you have some data.

765
02:05:28,590 --> 02:05:30,660
Marisa Eisenberg: And you're estimating your parameters from your data.

766
02:05:30,810 --> 02:05:33,720
Marisa Eisenberg: Then, your distribution is going to be something much more.

767
02:05:34,320 --> 02:05:34,920
Rishi Chanderraj: kind of.

768
02:05:35,130 --> 02:05:40,440
Marisa Eisenberg: pushy and so, then you can't like Latin happy give sampling would be way too much hassle you should definitely just switch to.

769
02:05:40,440 --> 02:05:41,370
Marisa Eisenberg: MC MC at that point.

770
02:05:43,050 --> 02:05:44,520
Marisa Eisenberg: yeah so yeah.

771
02:05:45,570 --> 02:05:46,350
Rishi Chanderraj: yeah awesome.

772
02:05:46,950 --> 02:05:55,320
Marisa Eisenberg: Okay, so if you're in the situation where you don't have any real like sort of your where you're not trying to do parameter estimation, and you don't have as much of a sense.

773
02:05:55,770 --> 02:06:05,730
Marisa Eisenberg: Of the distribution, maybe you're working with a prior like he was just sort of talking about where you have you might have some kind of more specific distribution as a prior but.

774
02:06:06,420 --> 02:06:18,180
Marisa Eisenberg: Usually, this is this kind of the stuff i'm about to talk about is where you're kind of working with like a uniform pretty uninformed situation and you want to kind of explore space and and understand how.

775
02:06:18,720 --> 02:06:22,380
Marisa Eisenberg: different parameters affect your outcome of interest.

776
02:06:23,190 --> 02:06:29,280
Marisa Eisenberg: So I mentioned global methods yesterday and that there were these kind of regression based methods and variants based methods.

777
02:06:29,520 --> 02:06:43,680
Marisa Eisenberg: And so you often could use these kinds of sampling approaches, as the sample that you pull for doing these regression based or variance based methods so you know it's pretty common to say where you maybe you take.

778
02:06:45,420 --> 02:06:49,710
Marisa Eisenberg: You know your sample you have parameter one and maybe your outcome.

779
02:06:51,270 --> 02:07:01,200
Marisa Eisenberg: So of interest and then you have a bunch of data from your sample of how like we just saw were like maybe this is pete prevalence and this is infection probability or something.

780
02:07:01,560 --> 02:07:09,390
Marisa Eisenberg: So you have all this data and so it's pretty common to do something like take a correlation coefficient or fit a line or something you know same kind of thing but.

781
02:07:09,930 --> 02:07:18,900
Marisa Eisenberg: You know sort of do something along those lines where you sort of look at how correlated is my outcome of interest with each parameter that I have.

782
02:07:20,220 --> 02:07:30,690
Marisa Eisenberg: And so, a lot of regression methods regression based methods for sensitivity analysis, are out there to do this kind of thing and one thing to notice that it's pretty common to get.

783
02:07:31,080 --> 02:07:42,180
Marisa Eisenberg: A monotonic but non linear relationship so you might get something like this, like you have a parameter one and maybe you haven't some outcome, whatever it is that didn't work.

784
02:07:44,880 --> 02:07:53,340
Marisa Eisenberg: Some outcome of interest and maybe the relationship that they have is something like this, like it's it's not linear, but it is monotonic right.

785
02:07:53,580 --> 02:08:03,810
Marisa Eisenberg: And so you could fit a line to this and try and do something like that, but it's kind of a mess and so when that happens it's pretty common to use rank based.

786
02:08:04,170 --> 02:08:21,780
Marisa Eisenberg: correlation coefficients instead, and so what it does, is that, instead of using the actual outcome value you rank order them so from like lowest to next lowest you know 12345678 let's say.

787
02:08:22,620 --> 02:08:33,300
Marisa Eisenberg: And if you do that, then when you put these in rank order of 12345678 then let's i'm just going to put up a couple little things here i'm not gonna and.

788
02:08:33,840 --> 02:08:43,830
Marisa Eisenberg: Two three whatever however many you get all the way up to eight and then it's it shifts it from being oh come on trying to write a piece.

789
02:08:44,790 --> 02:08:57,870
Marisa Eisenberg: pretend that says P okay it shifts it from being a non linear relationship to a linear one, and now you can use a correlation coefficient so maybe you use a spearman like ranked based correlation or something like that, instead, but so.

790
02:08:58,980 --> 02:09:06,540
Marisa Eisenberg: So these are common things to do, and so it's pretty common that you take a lab hybrid few sample or a sobel sample or something like that.

791
02:09:06,780 --> 02:09:16,290
Marisa Eisenberg: And then you use a correlation coefficient kind of approach to look at how different parameters affect your outcome of interest, so this is one example.

792
02:09:17,220 --> 02:09:27,540
Marisa Eisenberg: People a lot of people like partial rank correlation coefficients where you you essentially you you sort of fit a linear model and like sort of.

793
02:09:28,500 --> 02:09:40,320
Marisa Eisenberg: Like adjust out the effects of the other parameters and then you look at how correlated your parameter of interest is with your outcome of interest once you've kind of.

794
02:09:40,620 --> 02:09:46,530
Marisa Eisenberg: accounted for the effects of all the other parameters as long as you have a monotonic relationship between your.

795
02:09:47,160 --> 02:10:02,340
Marisa Eisenberg: parameter of interest in your outcome of interest you'll get a it's a nice way of kind of doing things and by monotonic I just mean that it's it's it's all the increasing or decreasing, but not both so it's like it goes up or it goes down.

796
02:10:03,420 --> 02:10:10,410
Marisa Eisenberg: or it's like flat and then goes, you know that's also sort of fine, but you can't have things that look like this yeah no not that.

797
02:10:11,970 --> 02:10:16,260
Marisa Eisenberg: You don't want something that's kind of U shaped or like you know mountain shaped because.

798
02:10:16,950 --> 02:10:26,250
Marisa Eisenberg: Then you get like a flat thing but it actually has a strong effects but it's just you know kind of hard to see so so anyway so so people use a lot of these kinds of.

799
02:10:27,000 --> 02:10:36,900
Marisa Eisenberg: sort of correlation coefficient based methods and then they also will use something like a Latin have you sample or something like that, as a as the way to sample parameters.

800
02:10:37,650 --> 02:10:45,750
Marisa Eisenberg: For variants based methods, where you do something kind of like a Nova where you you you decompose the variants to figure out how much is due to each parameter.

801
02:10:46,140 --> 02:10:56,490
Marisa Eisenberg: One of the popular methods for this is called he fast, which is, which is one way of doing it's a fourier transform based kind of method for doing variants decomposition.

802
02:10:57,750 --> 02:11:06,570
Marisa Eisenberg: One thing about this when you see variants based methods in the literature, they sometimes call these sobel methods or the snowball method.

803
02:11:07,110 --> 02:11:20,100
Marisa Eisenberg: it's not so well, like the snowball sampling, they just have the same name I don't you know it must have been the same person who was involved in making both but if there's not a relationship between them it's just a it's just a coincidence so yeah.

804
02:11:21,030 --> 02:11:28,770
Marisa Eisenberg: Okay, so so that's some different examples of kind of how you could use samples and do some different sampling things I want to show.

805
02:11:30,510 --> 02:11:52,050
Marisa Eisenberg: A couple of quick examples of how you could do this in our so let me switch to sharing my whole desktop and let's take a look at some of these so this code is actually available from one of my other classes copy link and i'll put that in.

806
02:11:53,970 --> 02:11:54,390
copy.

807
02:11:56,340 --> 02:12:07,770
Marisa Eisenberg: put that in here, so if you want this code it's here, but so so we're we're going to I just want to show a few different examples of sort of how you could do this.

808
02:12:08,910 --> 02:12:21,060
Marisa Eisenberg: In our so in here what we're going to do we're going to take like I said before, two parameters 1000 samples will make a random sample a Latin hybrid sample in a small sample.

809
02:12:23,250 --> 02:12:24,030
Marisa Eisenberg: And then.

810
02:12:27,180 --> 02:12:32,700
Marisa Eisenberg: We plotted this earlier, the what the random sample looks like what the Latin hybrid sample looks like.

811
02:12:33,900 --> 02:12:42,780
Marisa Eisenberg: And what the sobel sample looks like but let's now use these three samples, and instead of having them be sort of like just arbitrary things.

812
02:12:43,020 --> 02:12:48,930
Marisa Eisenberg: let's actually apply them to an si our model so we're going to do in a differential equation si our model.

813
02:12:49,230 --> 02:12:56,580
Marisa Eisenberg: Where this is going to be the beta the transmission parameter, and this is going to be the gamma the recovery parameter so kind of similar to what we did.

814
02:12:57,570 --> 02:13:07,140
Marisa Eisenberg: With our with our our Python code that we looked at just a minute ago but let's do it with an O D just kind of see how it looks if we do this in our so.

815
02:13:08,490 --> 02:13:18,930
Marisa Eisenberg: we're going to set lower bounds so for beta and gamma so beta is going to I just picked these because they give decent looking results, so you would have this.

816
02:13:19,410 --> 02:13:26,130
Marisa Eisenberg: In reality, you would have this from your literature search you'd have some sense of at least a rough range of where you want to sample.

817
02:13:26,940 --> 02:13:35,700
Marisa Eisenberg: And so I picked some things here but we're going to we're going to set up this so I made this little sort of parameter data frame where I have my.

818
02:13:36,360 --> 02:13:44,220
Marisa Eisenberg: My beta and my gamma parameters, the lower bound the upper bound in a default, just so that we have some number that if you want to run it, you know sort of what do you get.

819
02:13:45,390 --> 02:13:54,300
Marisa Eisenberg: here's a differential equation for my si our model let's say we're going to use an initial condition, where we have 1000 people and one of them is infected.

820
02:13:55,650 --> 02:14:04,260
Marisa Eisenberg: And so we could simulate that with our default parameters, so you can see here I ran the oldies I use the default parameters.

821
02:14:04,650 --> 02:14:10,770
Marisa Eisenberg: And you get a nice little epidemic, the number of recovered goes up the number of susceptible comes down.

822
02:14:11,640 --> 02:14:19,170
Marisa Eisenberg: But now let's do it with Latin hyperloop sampling so let's track the peak prevalence as our outcome of interest.

823
02:14:20,100 --> 02:14:35,520
Marisa Eisenberg: And what we're gonna do is we're going to basically rescaling our parameters to be within the lower and upper bounds above because the Latin hyperloop samples that is default from the package has a zero to one.

824
02:14:36,270 --> 02:14:49,080
Marisa Eisenberg: Lower bound and Upper bounds so when we scale that to match the lower and upper bounds that we want will run the model with our sampled parameter value and will record the peak prevalence So if you do this run it for all thousand samples there we go.

825
02:14:50,160 --> 02:14:58,500
Marisa Eisenberg: You can plot the you know what we see what we saw before, so the this is beta or transmission parameter should actually put the.

826
02:15:03,750 --> 02:15:16,410
Marisa Eisenberg: So that's our beta you can see that the peak prevalence sort of tends to increase as beta increases, you can see that there's a lot of mass down here to actually where there's you don't get much of an epidemic.

827
02:15:17,580 --> 02:15:20,460
Marisa Eisenberg: And then you can, if we look at gamma.

828
02:15:22,710 --> 02:15:34,080
Marisa Eisenberg: You can see that the peak prevalence tends to decrease as gamma increases and one thing we can do here that I didn't have the code together for on the the Python version.

829
02:15:34,530 --> 02:15:47,310
Marisa Eisenberg: Is you can make a nice interactive plot, so this is a 3D plot I find 3D scatter plots are often really helpful for trying to understand the structure of these things, and so what you can see here is that.

830
02:15:48,240 --> 02:15:57,840
Marisa Eisenberg: The It shows you how as beta increases and gamma decreases you get higher peak prevalence of your epidemic.

831
02:15:58,170 --> 02:16:12,480
Marisa Eisenberg: So you can kind of start to understand what the structure is and how the two different parameters kind of interact with one another, you can see that it's not a perfect you know it doesn't it doesn't the two parameters have slightly different effects right so.

832
02:16:13,860 --> 02:16:32,940
Marisa Eisenberg: When you if you have a low beta get having a pie, a fast recovery rate can still make you make you have a low peak prevalence but, if your recovery rate is slow, then even sort of across the board for your pardon me.

833
02:16:34,290 --> 02:16:50,010
Marisa Eisenberg: What am I trying to say I said this backwards, you have a high beta so you would have a you know you could have potentially a very, very high P prevalence you can use gamma essentially was what I was trying to say to decrease the recovery rate, but if you have a.

834
02:16:51,210 --> 02:17:03,570
Marisa Eisenberg: Low if you're if you're essentially the slight what i'm trying to point out is that the slices behave differently in each of the two different directions, if you have a low gamma here then even as you adjust beta you always get a.

835
02:17:04,050 --> 02:17:13,110
Marisa Eisenberg: High peak prevalence so there's you can kind of use this 2d scatter plot to see how are 3D scatter plot pardon me to see how the different parameters.

836
02:17:14,100 --> 02:17:24,990
Marisa Eisenberg: behave differently and how they interact with each other in a way that you can't acting it that you can't stop it, would you please rotate Thank you and would you can't get from just.

837
02:17:26,220 --> 02:17:32,640
Marisa Eisenberg: The kind of simple scatter plot that we were looking at here, because you can't see how the two the two parameters interact with each other.

838
02:17:32,910 --> 02:17:39,270
Marisa Eisenberg: Unfortunately, since you know we're not great at visualizing 4d things 3D is kind of as much as you can do.

839
02:17:40,140 --> 02:17:50,100
Marisa Eisenberg: But anyhow, so you can kind of play with these different things, you can see here if you calculate you can calculate correlation coefficients I put a million different ways of calculating them.

840
02:17:51,450 --> 02:17:57,420
Marisa Eisenberg: I don't think you really need to work I don't we're not going to worry about it too much, but you can calculate correlation coefficients.

841
02:17:57,750 --> 02:18:05,790
Marisa Eisenberg: And you know it doesn't look super linear there is a there is a non linearity to it, even though it's decently monotonic for each parameter so.

842
02:18:06,450 --> 02:18:15,480
Marisa Eisenberg: I would, maybe use a specimen and so, if you look at the correlations you can see that you know the if you look at the correlations with peak prevalence.

843
02:18:16,050 --> 02:18:23,460
Marisa Eisenberg: You can see that beta has a positive correlation with the prevalence and gamma has a negative correlation with the prevalence which makes sense.

844
02:18:23,700 --> 02:18:34,740
Marisa Eisenberg: As you have higher probability of transmission you tend to get higher prevalence, as you have faster recovery speed you tend to get lower peak prevalence and so you can do a lot of this kind of thing.

845
02:18:36,510 --> 02:18:46,890
Marisa Eisenberg: Really quick, I want to try one other example just to kind of illustrate some of the other visualization pieces, so this is an si our model, but it has.

846
02:18:47,730 --> 02:18:54,420
Marisa Eisenberg: An additional has more parameters, so in this case we are going to add into our si our model.

847
02:18:55,410 --> 02:19:07,410
Marisa Eisenberg: So not just transmission and recovery, but also background birth and death in the population, so this new parameter is capturing the rate at which people die.

848
02:19:07,860 --> 02:19:13,410
Marisa Eisenberg: From si nr and also the rate at which new individuals are born i'm.

849
02:19:13,980 --> 02:19:22,500
Marisa Eisenberg: Assuming that we sort of keep a constant flow rate of people, the number of people dying is is sort of matched by the number of new people who are born.

850
02:19:22,890 --> 02:19:32,790
Marisa Eisenberg: And so it's not it's the same death rate, regardless of disease state, so this is just sort of background birth and death in the population, so, but this just means that we'll have.

851
02:19:33,600 --> 02:19:44,160
Marisa Eisenberg: we'll have we'll have an additional parameter here and we're actually going to add one more parameter K that we're going to say as the the percent of cases that get reported.

852
02:19:44,880 --> 02:19:57,720
Marisa Eisenberg: That just for just to just to get us one additional parameters so we're gonna have for parameters, here we do the same thing now we make our samples with four parameters blah blah blah run our simulations.

853
02:19:59,400 --> 02:20:05,190
Marisa Eisenberg: So you can run the simulation you get you get some different dynamics, if you run it with the default parameters, you can see, you get kind of.

854
02:20:06,000 --> 02:20:14,910
Marisa Eisenberg: When you have population turnover you get these kind of ringing oscillations where you get multiple waves of epidemics that happened but.

855
02:20:15,690 --> 02:20:25,020
Marisa Eisenberg: But, at any rate, so we do our little thing run the for loop again, you can say it takes a little bit longer because this is a slightly more complicated model but.

856
02:20:25,800 --> 02:20:34,140
Marisa Eisenberg: I just wanted to sort of illustrate what you can see similar kind of relationship between a beta and the the.

857
02:20:34,980 --> 02:20:45,420
Marisa Eisenberg: peak prevalence I should I should label my after my axes but it's okay for gamma and pete prevalence you see again that the peak prevalence drops as your recovery rate speeds up.

858
02:20:45,750 --> 02:21:01,170
Marisa Eisenberg: But now we have two other parameters, so the parameter three is going to be our our population birth and death rate, and so you can see that, overall, as as the population.

859
02:21:02,970 --> 02:21:09,570
Marisa Eisenberg: birth and death rate increases you tend to get higher peak prevalence and then you can also see that.

860
02:21:10,560 --> 02:21:20,220
Marisa Eisenberg: As you increase the fraction of the cases that are reported, which is this last parameter here, you also tend to get higher prevalence so.

861
02:21:20,700 --> 02:21:27,690
Marisa Eisenberg: um you can you can then I just want to show sort of the 3D plot that you get for some of these things just to kind of illustrate kind of how it looks so.

862
02:21:28,350 --> 02:21:37,860
Marisa Eisenberg: Before this is that same beta and gamma plot, so the transmission parameter and the recovery parameter before we had that really nice surface that was very clean.

863
02:21:38,130 --> 02:21:50,970
Marisa Eisenberg: From this plot, and I wanted to illustrate that when you have more parameters, you get kind of the same relationship, but it's less clean, because the other parameters are are varying in the background right so.

864
02:21:51,750 --> 02:22:04,740
Marisa Eisenberg: You know now it's not just beta and gamma as being the only parameters be sampled new and K are also being sample then that causes some variation so it becomes kind of more noisy you see sort of the same relationship, but.

865
02:22:05,940 --> 02:22:08,220
Marisa Eisenberg: it's a little bit more noisy and so.

866
02:22:09,330 --> 02:22:21,360
Marisa Eisenberg: If you do this with let's see CSC So if you do, let me, let me do a couple of the other plots so let's look at gamma and mew.

867
02:22:25,590 --> 02:22:28,140
Marisa Eisenberg: So, if we look at gamma and view.

868
02:22:29,940 --> 02:22:39,690
Marisa Eisenberg: Then you get a similar kind of thing, so the as the you know you can kind of see some of the other different ones here I mean you know you can kind of play around with this if you get the code.

869
02:22:40,050 --> 02:22:52,230
Marisa Eisenberg: From that link, but you can see that the different parameters to now we're looking at the reporting fraction and the transmission rate and you can see that you get time you can kind of look at the relationship between.

870
02:22:52,770 --> 02:22:58,350
Marisa Eisenberg: The peak prevalence in each of these different pairs of parameters so that's just to kind of illustrate.

871
02:22:59,340 --> 02:23:05,550
Marisa Eisenberg: The other thing I thought might be interesting to just to illustrate with this is, if you if you if you look at.

872
02:23:06,360 --> 02:23:17,760
Marisa Eisenberg: The sampling, so one way, if you wanted to look at three parameters, but still be able to track your outcome of interest you can do something like this.

873
02:23:18,120 --> 02:23:37,080
Marisa Eisenberg: Which is hard to interpret, but you can do so here what we've got is, this is a four dimensional plot you've got beta gamma and mew or three of our parameters and then the color is the peak prevalence and so you can see, here it like lets you look at how.

874
02:23:38,310 --> 02:23:44,850
Marisa Eisenberg: You know the the peak prevalence changes as a function of all three of your parameters it's not it's not.

875
02:23:45,660 --> 02:23:52,920
Marisa Eisenberg: super easy right, you have to kind of move it around to be able to understand what's going on but it's one way that you can kind of visualize.

876
02:23:53,460 --> 02:24:07,770
Marisa Eisenberg: So anyhow, this is just a little example like I said the plots are not necessarily what you would use this like final publication quality plots or anything but it gives you a sense of how you can kind of sample from the space and sort of see.

877
02:24:09,030 --> 02:24:23,940
Marisa Eisenberg: different things that you could you could kind of explore within the parameters base and how your outcome of interest changes, when you have basically a uniform sample of your parameter space right so okay so that's there.

878
02:24:26,490 --> 02:24:26,910
Marisa Eisenberg: So.

879
02:24:28,290 --> 02:24:31,770
Marisa Eisenberg: Questions about that any questions about that.

880
02:24:32,700 --> 02:24:39,000
Rishi Chanderraj: yeah so if you're like so when you're modeling all this stuff in your your life Okay, I want to intervene on X, Y or Z.

881
02:24:40,470 --> 02:24:53,700
Rishi Chanderraj: What would these Am I am I understanding this right like maybe some of those variants based methods might be helpful at like if you're decomposing it's like oh man you look look at this like if you change.

882
02:24:54,960 --> 02:25:00,540
Rishi Chanderraj: Whatever This makes a huge effect on the pick your metric of interest.

883
02:25:01,770 --> 02:25:10,020
Rishi Chanderraj: And then, and then so that can help you like determine like gives gives you some sense of like what's going on, based on your.

884
02:25:10,680 --> 02:25:15,270
Rishi Chanderraj: A bit on your model where it's best to intervene, is that, am I understanding that right.

885
02:25:15,540 --> 02:25:21,210
Marisa Eisenberg: that's right yes exactly and and not just the variants based methods, but the like the correlation coefficient types of.

886
02:25:22,440 --> 02:25:29,970
Marisa Eisenberg: A lot of these, the point is sort of to say it's it's often used for intervention design, just like you're describing so you would say like okay.

887
02:25:30,390 --> 02:25:40,500
Marisa Eisenberg: I want to change this outcome of interest which parameters in my system are going to kind of give me the best bang for my buck when it comes to changing that outcome of interest.

888
02:25:41,580 --> 02:25:50,040
Marisa Eisenberg: The difference, I would say, and sort of when you might want to use a variance based method versus when you would want to use like a regression or correlation coefficient type of method.

889
02:25:50,550 --> 02:26:04,200
Marisa Eisenberg: If you want to just look at how much of the how much of the variation is being explained by a parameter then variants based methods, obviously, are the way to go, if you need the directionality then.

890
02:26:05,070 --> 02:26:16,170
Marisa Eisenberg: Then regression methods are probably more helpful so like, if you want to know if I increase this parameter will my outcome of interest go up or down, not just will it change strongly.

891
02:26:17,760 --> 02:26:31,050
Marisa Eisenberg: Then a regression based methods, probably useful the downside is is that most of these regression based methods require a monotonic relationship between the parameter and the outputs and because they're going to get a directionality, and so there has to.

892
02:26:31,050 --> 02:26:31,230
Rishi Chanderraj: be a.

893
02:26:31,620 --> 02:26:38,640
Marisa Eisenberg: direction so if you don't have that, then you kind of have to use a variance basement that because you know that's the only option so yeah.

894
02:26:39,960 --> 02:26:42,060
Marisa Eisenberg: But yeah like where they.

895
02:26:42,330 --> 02:26:42,720
Like.

896
02:26:43,770 --> 02:26:48,060
Rishi Chanderraj: there's like a like variable importance or whatever, and some of these.

897
02:26:49,080 --> 02:27:03,870
Rishi Chanderraj: simulate lighting something like some simulation papers that I was did not understand before class and then so that's that's kind of what this is getting like what were some of those plots like.

898
02:27:05,460 --> 02:27:08,100
Rishi Chanderraj: yeah like they're just ranking.

899
02:27:09,870 --> 02:27:13,170
Rishi Chanderraj: ranking offense based on one of these methods.

900
02:27:13,290 --> 02:27:18,450
Marisa Eisenberg: Exactly exactly so they're looking at sort of the sensitivity of the outcome of interest.

901
02:27:18,720 --> 02:27:24,090
Marisa Eisenberg: To each of the different parameters and then you often end up with like a ranking of sort of like which parameters.

902
02:27:24,360 --> 02:27:36,120
Marisa Eisenberg: kind of have the most effect on the outcome of interest to the least and then it's often the case that what you might do is like simplify and sort of decide okay I don't really care about parameters 10 through 50.

903
02:27:36,330 --> 02:27:38,310
Marisa Eisenberg: And they're just going to all get fixed at some.

904
02:27:38,310 --> 02:27:41,040
Marisa Eisenberg: value and i'm going to really focus in on the first 10.

905
02:27:41,070 --> 02:27:42,240
Marisa Eisenberg: or something like that you know.

906
02:27:42,750 --> 02:27:43,680
Marisa Eisenberg: Right yeah.

907
02:27:43,710 --> 02:27:46,470
Rishi Chanderraj: Okay, so like early in the pandemic that's what people.

908
02:27:47,730 --> 02:28:03,420
Rishi Chanderraj: were late, a lot of people at seemed like we're trying to figure out what you know X like you know if you do this, then your transmission is going to do what you know peak prep with will do this and got it okay.

909
02:28:03,690 --> 02:28:12,600
Marisa Eisenberg: yeah exactly so like the you know, there was a lot of discussion like early on a lot of the confusion was essentially while we were still kind of figuring out the ranking of.

910
02:28:12,600 --> 02:28:19,770
Marisa Eisenberg: Some of these things right, because you know we didn't have the transmission pathways fully figured out there was all the drama about whether it's.

911
02:28:20,010 --> 02:28:30,420
Marisa Eisenberg: You know airborne or not, or how much just surfaces make a difference and so you know, we had you know, in a lot of our models, we had parameters for things that would affect different features of.

912
02:28:30,840 --> 02:28:42,480
Marisa Eisenberg: You know the epidemic or the pandemic and so, then you know, like you, would you kind of want to explore sort of which ones are going to make the biggest difference is it worth it to do a lockdown or what.

913
02:28:42,480 --> 02:28:43,560
Marisa Eisenberg: Have you, you know.

914
02:28:43,800 --> 02:28:45,150
Marisa Eisenberg: and for how long.

915
02:28:45,210 --> 02:28:47,190
Marisa Eisenberg: You know, to have this sort of biggest impact.

916
02:28:48,450 --> 02:28:48,750
Marisa Eisenberg: yeah.

917
02:28:49,530 --> 02:28:51,420
Marisa Eisenberg: cool awesome awesome.

918
02:28:51,600 --> 02:28:53,190
Rishi Chanderraj: I wish I had taken this class.

919
02:28:54,690 --> 02:28:58,260
Rishi Chanderraj: or near this material my 2019 so.

920
02:28:58,740 --> 02:28:59,130
yeah.

921
02:29:01,380 --> 02:29:01,770
Marisa Eisenberg: yeah.

922
02:29:04,020 --> 02:29:05,490
Marisa Eisenberg: yeah I know it's yeah.

923
02:29:06,630 --> 02:29:16,860
Marisa Eisenberg: it's a it's it's funny actually we started, I mean whatever because it's impossible to get anything done in any kind of speedy timeframe, we started in in when the pandemic first started.

924
02:29:17,160 --> 02:29:19,200
Marisa Eisenberg: There was a little group of us that was like oh man.

925
02:29:19,620 --> 02:29:25,470
Marisa Eisenberg: It probably would be helpful for the public to be able to understand more about the kinds of models that we're using, we should make like a little.

926
02:29:25,830 --> 02:29:35,430
Marisa Eisenberg: Like you know, like friendly tutorial that people can use to understand pandemic models and then a first like that turns into a whole beast and now we're not done or three years.

927
02:29:36,780 --> 02:29:37,050
Marisa Eisenberg: But.

928
02:29:37,710 --> 02:29:38,460
Marisa Eisenberg: You know yeah.

929
02:29:38,580 --> 02:29:39,330
Rishi Chanderraj: it's a funny thing.

930
02:29:40,920 --> 02:29:48,690
Marisa Eisenberg: But anyway, yeah so okay so so that's sort of variants based methods there's one other thing I wanted to touch on really quick.

931
02:29:49,800 --> 02:29:54,510
Marisa Eisenberg: That I forgot to do when we were talking about parameter estimation yesterday.

932
02:29:57,000 --> 02:30:00,330
Marisa Eisenberg: slides that open or a speech so ran out of time, but um.

933
02:30:01,980 --> 02:30:02,730
Marisa Eisenberg: And that is.

934
02:30:04,530 --> 02:30:13,230
Adriana Perez: um can you put it like what did you have interactions that you have to consider to the garden space methods.

935
02:30:14,280 --> 02:30:19,620
Marisa Eisenberg: So yes, you can account for interactions but what kind of thing, are you thinking of I guess.

936
02:30:21,060 --> 02:30:34,530
Adriana Perez: Well, right now is that it's a lot of my coworker say they are thinking that is not only one parameter buddy think that action of the two or even three three variables that they are.

937
02:30:35,340 --> 02:30:54,000
Adriana Perez: trying to figure out which one can see the the continuation of the violence that is nothing more so, is not the individual effect right his introduction of the tree and then based on what I see everything is like individual body or correct.

938
02:30:54,690 --> 02:31:04,080
Marisa Eisenberg: It depends, so you can do things like that there are so there are methods for what are called what's called parameter subset selection.

939
02:31:05,100 --> 02:31:10,710
Marisa Eisenberg: Where you use sensitivity analysis based methods, but instead of sort of looking for.

940
02:31:12,030 --> 02:31:17,670
Marisa Eisenberg: Individual parameters and sort of ranking them individually, even when you do it individually, you often sort of.

941
02:31:18,390 --> 02:31:32,400
Marisa Eisenberg: Do like for both the regression based methods and the variants based methods, you often do something where you sort of adjust out the effects of the other parameters, so that that way you try and get justice one, but if you actually don't want to adjust that the effects of the other.

942
02:31:32,400 --> 02:31:33,420
Marisa Eisenberg: parameters, but you want to.

943
02:31:33,420 --> 02:31:44,370
Marisa Eisenberg: Find groupings of parameters that seem to be kind of playing together or acting together a lot of methods in this kind of parameter subset selection.

944
02:31:44,850 --> 02:32:00,120
Marisa Eisenberg: kind of set of things are kind of where you want to go the other piece actually is that a lot of identify ability analysis is actually focused on finding parameter combinations that trade off with one another to produce the same outcome and so.

945
02:32:01,050 --> 02:32:07,290
Marisa Eisenberg: Even though it's not really a sensitivity analysis method identify ability analysis methods are often really focused on finding.

946
02:32:08,310 --> 02:32:19,890
Marisa Eisenberg: parameter combinations that can interact with one another to cause a particular effect, and so you might want like you might use something like that actually would probably be what I would do if it was me but.

947
02:32:20,520 --> 02:32:31,770
Marisa Eisenberg: yeah so the variance based methods to sort of basic variants based methods might not be what you're looking for, but I would look into parameter subset selection and identify ability is probably where you'd find more of that.

948
02:32:32,490 --> 02:32:42,840
Adriana Perez: again say some of you will be different, because what i'm thinking is the interaction is really truthful is is what is needed right.

949
02:32:43,350 --> 02:32:53,970
Adriana Perez: For example, the three way interaction, it is correct and everything so it's no like trying to find what are the variables that are explaining the outcome parties like Okay, the introduction is.

950
02:32:54,360 --> 02:33:09,330
Adriana Perez: The three way interaction is ED is um but what they want is it's like okay you do like a combination of the levels of the three variables so let's suppose that ladies even simpler.

951
02:33:10,170 --> 02:33:20,070
Adriana Perez: Three by three by three in frame and day one is okay, out of all of those potential categories which one will contribute more to the right audience.

952
02:33:20,400 --> 02:33:29,250
Adriana Perez: So that's what I was thinking in the variance based methods for the categories like you have all the three levels three by three by three by three.

953
02:33:29,940 --> 02:33:42,870
Adriana Perez: But trying to do compose the right audience but based on what i'd see these metal is more like a nod to the categorical but more a combination of individual variables right you.

954
02:33:42,900 --> 02:33:48,030
Marisa Eisenberg: could do something like that, if you wanted to, I mean you could you don't have to do.

955
02:33:48,420 --> 02:33:52,380
Marisa Eisenberg: Individual by individual variants decomposition I mean you could.

956
02:33:52,440 --> 02:34:04,920
Marisa Eisenberg: You can most of these are like they require some amount of coding, you know it's not just like a package and you feed it in so you could choose to to shift it where you're looking at groups of three.

957
02:34:05,310 --> 02:34:16,500
Marisa Eisenberg: Like you don't you could look at how like you could make a sort of super parameter that says that has a value that's different when all three are active or when you don't I mean like and kind of make.

958
02:34:17,280 --> 02:34:29,640
Marisa Eisenberg: Like a super parameters that captures the effects of the three changing you know and then look at that, as a thing, so you can you can kind of tweak these to look at at interaction effects to if you want to.

959
02:34:30,780 --> 02:34:43,410
Marisa Eisenberg: And so, something like that might be might capture what you're looking for a little bit better if you're trying to say when when does this when is the strength of interaction strongest across parameter space.

960
02:34:44,640 --> 02:34:48,840
Marisa Eisenberg: You might use something like that kind of an approach would be an idea.

961
02:34:50,370 --> 02:34:52,140
Adriana Perez: yeah Okay, thank you.

962
02:34:52,440 --> 02:34:52,860
yeah.

963
02:34:54,390 --> 02:34:58,020
Marisa Eisenberg: Okay, so, then the last thing I want to just talk about really briefly.

964
02:34:59,100 --> 02:35:00,270
Marisa Eisenberg: Is.

965
02:35:01,380 --> 02:35:05,310
Marisa Eisenberg: A process of bayesian computation, so this is just one more.

966
02:35:06,450 --> 02:35:15,570
Marisa Eisenberg: place where you could use a lot of this kind of sampling approach the sort of Latin hyper Q sampling snowball sampling etc and and so.

967
02:35:16,500 --> 02:35:29,910
Marisa Eisenberg: What I want to talk about here is just so so proud of that vision computation and sample important three sampling are two very related kinds of techniques that are for situations where.

968
02:35:31,110 --> 02:35:48,930
Marisa Eisenberg: MC MC might be too slow MC MC can be very slow to run or you can you may not have a true like in our circumstance, when we ran MC MC we could get the numerator piece of the of the the posterior of that bayes.

969
02:35:49,800 --> 02:36:00,060
Marisa Eisenberg: theorem equation just fine, but there are circumstances where so like we brought up yesterday, what happens if you don't have independence in your likelihood and.

970
02:36:00,540 --> 02:36:08,250
Marisa Eisenberg: When you're calculating the likelihood if you don't have independence between your points the conditional is can be very difficult to work with, and so, sometimes people.

971
02:36:09,570 --> 02:36:14,220
Marisa Eisenberg: can't actually really mathematically write down.

972
02:36:15,300 --> 02:36:26,100
Marisa Eisenberg: The likelihood or or the or the numerator for the posterior but they might be able to kind of compute something that is related to it or proportional or kind of.

973
02:36:26,460 --> 02:36:32,340
Marisa Eisenberg: is probably pretty close there's different sort of statistical approaches to doing this, where you can sort of, say, like okay.

974
02:36:32,550 --> 02:36:39,090
Marisa Eisenberg: As then goes to infinity this is going to approximate my likelihood or you know different kinds of things like this, and so.

975
02:36:39,330 --> 02:36:53,760
Marisa Eisenberg: They may people often use these kinds of approaches when either MC MC is just running too slowly, or you can't exactly calculate the numerator of your life of your of your posterior and so.

976
02:36:54,810 --> 02:37:00,930
Marisa Eisenberg: If you can maybe you instead use some sort of like threshold in function or thing like that, where you say Okay, if your.

977
02:37:01,230 --> 02:37:07,470
Marisa Eisenberg: If your if your likelihood is higher than is better than this, then we accept it and if it's lower than we don't.

978
02:37:07,710 --> 02:37:22,200
Marisa Eisenberg: So there's a bunch of reasons, like this, where you may not be able to run sort of proper MC MC, and so what people often do is something that's more based on a kind of Latin hyper cubes so well type of sampling approach instead so.

979
02:37:23,430 --> 02:37:30,870
Marisa Eisenberg: What they'll do for either this kind of sample importance re sampling or approximate Asian computation a lot of these different kind of this sort of.

980
02:37:31,170 --> 02:37:44,790
Marisa Eisenberg: category of methods what they'll do is draw sample of parameters from your prior so either drawing at random from your prior or if your prior it so so well unless your prayers uniform is probably came out but.

981
02:37:45,300 --> 02:37:48,450
Marisa Eisenberg: lab hyperloop sampling, you can draw if you have a reasonable seating.

982
02:37:48,840 --> 02:37:51,030
Marisa Eisenberg: Prior like a normal or a gamma are sort of.

983
02:37:51,300 --> 02:37:57,180
Marisa Eisenberg: A standard kind of distribution, then you can draw a lot heavier sample from your prior to draw sample from your prior.

984
02:37:57,360 --> 02:38:04,860
Marisa Eisenberg: You run the model at each of your sample values, just like you would for the you know uniform kind of sensitivity analysis type stuff we were just doing.

985
02:38:05,460 --> 02:38:08,970
Marisa Eisenberg: Now you calculate the likelihood for each.

986
02:38:09,390 --> 02:38:17,610
Marisa Eisenberg: Each run that you did for each sample value or if you can't actually calculate the likelihood because it's too difficult because of conditional.

987
02:38:17,850 --> 02:38:23,940
Marisa Eisenberg: Then, maybe you calculate some approximation of the likelihood or some threshold that says there's a likelihood is good enough or not.

988
02:38:24,840 --> 02:38:32,970
Marisa Eisenberg: So you calculate your likelihood value or whatever approximation, you have of it, you wait your samples based on that likely likelihood.

989
02:38:33,210 --> 02:38:42,690
Marisa Eisenberg: And then you re sample to get a final set of samples, and this does the same bayesian thing of prior times likelihood that you would get from MC.

990
02:38:43,020 --> 02:38:55,530
Marisa Eisenberg: it's not as great at exploring the distribution as MC MC would be if you can actually run MC MC but in circumstances where MC MC is difficult to run, this is a pretty good way to do things and so.

991
02:38:56,820 --> 02:39:04,350
Marisa Eisenberg: oftentimes So if you have a product innovation computation type of situation where you have a threshold, then it.

992
02:39:04,830 --> 02:39:12,090
Marisa Eisenberg: The the procedure that I just described, would look something like this, so you have a prior distribution in this case, maybe a uniform.

993
02:39:12,420 --> 02:39:23,970
Marisa Eisenberg: You sample a bunch of samples from this prior you get a bunch of different simulations you either relate them or if it's a threshold you evaluate whether they are good good enough or not.

994
02:39:24,870 --> 02:39:38,700
Marisa Eisenberg: And then you re sample based on the waiting if the waiting is binary, then you just take the ones that were good enough if the waiting is you know more continuous than you re sample proportional to the weights and you get a posterior distribution this way and so.

995
02:39:39,390 --> 02:39:47,010
Marisa Eisenberg: A lot of the Latin hyperloop sampling and so both sampling and things like that get used for simulation methods of this kind of style.

996
02:39:47,730 --> 02:40:02,700
Marisa Eisenberg: As a little example from something that we worked on at one point, this is a you don't need to worry about the details it's kind of complicated model of norovirus and it's it involves like modeling how you shed norovirus over time and isolation and all kinds of different things.

997
02:40:04,170 --> 02:40:19,650
Marisa Eisenberg: And so the data that we had with this was data from a CDC database of attack rates and outbreak durations for norovirus outbreaks daycares in the US, and so the data.

998
02:40:20,160 --> 02:40:32,640
Marisa Eisenberg: So the outbreak duration is on the X axis the attack rate is on the y axis, and so you can see, the data here, so these are all the various different outbreaks that they had over the course of I don't know I forget what two years or something.

999
02:40:33,480 --> 02:40:46,110
Marisa Eisenberg: from different daycares and and then, if you simulate from the prior so just from in this case, I think it was just like a big uniform prior you get this distribution of.

1000
02:40:47,730 --> 02:40:54,120
Marisa Eisenberg: The the sort of all the points, ignoring the color so including all these white points you get this distribution of.

1001
02:40:55,110 --> 02:40:59,070
Marisa Eisenberg: of samples with the baseline model we tried a bunch of different models.

1002
02:40:59,850 --> 02:41:06,120
Marisa Eisenberg: And then, if you run the approximate Asian computation where you re sample based on the likelihood you get this.

1003
02:41:06,540 --> 02:41:22,200
Marisa Eisenberg: colored in simulates set of samples that tries to match the data as best they can, so you can see that different models kind of do a better job or a worse job of matching the data, so they fit the data better or worse, so the baseline model does an okay job.

1004
02:41:23,430 --> 02:41:28,530
Marisa Eisenberg: models that account for immunity to various strains and things like that do a better job.

1005
02:41:28,800 --> 02:41:36,570
Marisa Eisenberg: You know if you if you include if you don't include immunity effects, but you do include isolation of kids from daycare when they're sick.

1006
02:41:36,900 --> 02:41:45,750
Marisa Eisenberg: You get this which is slightly better, and if you include all of them, then you get this model, so you can kind of see how different models kind of mash the data or don't.

1007
02:41:46,620 --> 02:42:00,990
Marisa Eisenberg: And, and how they trim off from the original sample and white, they trim off to just get the piece, that seems to kind of capture where the data is living so it's not as nice of a.

1008
02:42:01,710 --> 02:42:19,650
Marisa Eisenberg: parameter estimation method, as you know, MC MC would be, but when you can't run MC MC due to you know issues of computation time then or or use difficult to calculate the likelihood or things like this, then, then it can be a nice alternative.

1009
02:42:20,700 --> 02:42:21,090
Marisa Eisenberg: Okay.

1010
02:42:22,620 --> 02:42:30,900
Marisa Eisenberg: This is a nice nice paper on some of these methods that you all may want to read Okay, so that is that um.

1011
02:42:32,130 --> 02:42:37,230
Marisa Eisenberg: That wraps up sort of most of the slides are there questions on this section of things.

1012
02:42:38,250 --> 02:42:39,150
Marisa Eisenberg: Other questions.

1013
02:42:39,570 --> 02:42:59,670
Rishi Chanderraj: yeah so i've heard that like about like impure days, where it's like you kind of is is that, like let's say you're using the data to like you like you've got the data and then you're in there simulating and then based on how well like you kind of pick those.

1014
02:43:00,780 --> 02:43:04,170
Rishi Chanderraj: I guess like Am I thinking of this right it's like you're picking.

1015
02:43:05,190 --> 02:43:11,460
Rishi Chanderraj: A distribution that fits what you're observing better and you re sampling bills more.

1016
02:43:12,330 --> 02:43:13,080
Rishi Chanderraj: Like yeah.

1017
02:43:13,380 --> 02:43:15,540
Rishi Chanderraj: we're space more is is that.

1018
02:43:15,630 --> 02:43:24,150
Marisa Eisenberg: yeah, so I think I think i'm trying to remember, I was just looking up I think empirical base it's not the one where you.

1019
02:43:26,070 --> 02:43:34,800
Rishi Chanderraj: it's like it's like you've got your data and then so then it's like okay my best estimate of a property, you know, like my best estimate of what's going on is like looking at this data.

1020
02:43:35,820 --> 02:43:39,300
Rishi Chanderraj: These parameters and i'm going to use those as my starting parameter.

1021
02:43:39,360 --> 02:43:41,790
Marisa Eisenberg: Yes, this one, where you iterate so you're like.

1022
02:43:42,150 --> 02:43:54,120
Marisa Eisenberg: Okay yeah yeah so this, so this is an interesting thing so i'm that flavor of doing stuff so empirical base if it's the one I like there's too much jargon and I never remember if it's the thing i'm thinking of then.

1023
02:43:54,660 --> 02:44:07,200
Marisa Eisenberg: Then what you often do is you take your data you maybe you start with whatever prior you have you estimate a posterior and then you you rerun the estimation, using that as the prior is that this one.

1024
02:44:07,440 --> 02:44:08,340
Rishi Chanderraj: yeah yeah that's.

1025
02:44:08,400 --> 02:44:13,650
Marisa Eisenberg: OK OK cool so so that is a common thing to do it ends up actually.

1026
02:44:15,150 --> 02:44:19,200
Marisa Eisenberg: Every time you do that, you wait your original prior less.

1027
02:44:20,250 --> 02:44:27,690
Marisa Eisenberg: And so, if you do that loop again and again, so you can imagine you take your posture you use it as your new prior and then, if you.

1028
02:44:28,170 --> 02:44:39,690
Marisa Eisenberg: It depends on how you do it so empirical basis if i'm remembering right you use it as your new prior and then you fit the same data again so you're not like updating the data you're just fitting the data, but you use the you you.

1029
02:44:39,720 --> 02:44:45,420
Marisa Eisenberg: can be running bayesian estimation on the thing eventually every time you do that, so when you.

1030
02:44:45,750 --> 02:44:51,600
Marisa Eisenberg: If you imagine your first prior the original prior you have maybe whatever a uniform or something you estimate.

1031
02:44:51,960 --> 02:45:02,280
Marisa Eisenberg: The with your data, you get a post you're out of it now, you make that your new prior this new prior has some of the information from the data included in it already right because you've done it.

1032
02:45:02,280 --> 02:45:18,630
Marisa Eisenberg: was now you estimate from the same data, you get a new post area use that as your prior every time you do that you're eliminating the effect of your original prior a little bit more and waiting your new prior more heavily off of the data pardon me the data that you have.

1033
02:45:18,810 --> 02:45:21,630
Marisa Eisenberg: So, every time you run that loop you.

1034
02:45:21,660 --> 02:45:30,660
Marisa Eisenberg: kind of wash out the old prior more and more so, eventually, that that loop of running based in estimation, again and again.

1035
02:45:31,290 --> 02:45:35,130
Marisa Eisenberg: leads you to the maximum likelihood estimate for your for your system.

1036
02:45:35,760 --> 02:45:48,480
Marisa Eisenberg: But it is a nice method of doing it, and it has a bunch of I don't know a ton of sort of exactly what it is, it has a bunch of Nice statistical properties, so there are a lot of times, where people like to do this um.

1037
02:45:49,110 --> 02:46:00,150
Marisa Eisenberg: there's a guy super hush lil lily I think and who does a lot of work on this and he's done a lot of really cool things sort of illustrating why.

1038
02:46:00,450 --> 02:46:09,990
Marisa Eisenberg: That that empirical bayes kind of repeated bayesian estimation thing has a lot of advantages now, if you want your prior to actually have an impact.

1039
02:46:10,200 --> 02:46:18,690
Marisa Eisenberg: You probably don't want to do that because you're going to wash out the fryer eventually, but a lot of times I mean, like most of the time when i'm running things prior is kind of like.

1040
02:46:18,780 --> 02:46:19,410
well.

1041
02:46:21,060 --> 02:46:24,960
Marisa Eisenberg: You know so then it's actually a really nice way to do it um so.

1042
02:46:25,380 --> 02:46:33,750
Marisa Eisenberg: yeah so I like that approach as a thing in general now if you're using a deterministic model, you probably don't really need to do it because you could just use a like a.

1043
02:46:33,960 --> 02:46:42,630
Marisa Eisenberg: gradient descent style maximum likelihood kind of thing and then that's fine, but if you have a stochastic model and you want to do maximum likelihood it's a nice way to like make sure you converge, to the.

1044
02:46:42,630 --> 02:46:43,710
Maximum likelihood estimate.

1045
02:46:45,810 --> 02:46:49,170
Rishi Chanderraj: Like so and then so this what you just described.

1046
02:46:50,850 --> 02:46:57,930
Rishi Chanderraj: Like I guess i'm like i'm I think i've lost like So what we just did where we were.

1047
02:46:59,250 --> 02:47:05,340
Rishi Chanderraj: Like where we we simulate and then we get likelihood and then.

1048
02:47:07,110 --> 02:47:09,270
Rishi Chanderraj: And then similarly annoying from.

1049
02:47:09,960 --> 02:47:11,190
Marisa Eisenberg: Every sample or whatever.

1050
02:47:11,760 --> 02:47:12,540
Rishi Chanderraj: How, how is.

1051
02:47:14,790 --> 02:47:21,300
Rishi Chanderraj: How is that wasn't like what what's the difference what's the difference between those two approaches.

1052
02:47:21,480 --> 02:47:34,500
Marisa Eisenberg: They should, in theory, they should, if you should have enough samples, they should be the same, so the the the approach I just described, should be the same as straight MC MC if you take enough samples.

1053
02:47:34,860 --> 02:47:35,310
But.

1054
02:47:36,480 --> 02:47:41,700
Marisa Eisenberg: In reality, the approach I just described, you would have a kind of a lot of.

1055
02:47:41,700 --> 02:47:44,580
Marisa Eisenberg: samples to guarantee that you get the good coverage.

1056
02:47:44,760 --> 02:47:52,440
Marisa Eisenberg: That you would get from MC MC because MC MC uses the distribution shape to decide where to sample from it usually does.

1057
02:47:52,890 --> 02:48:01,230
Marisa Eisenberg: kind of a better job at characterizing the distribution, so the reason you would use the kind of approach this other kind of approach is when.

1058
02:48:01,620 --> 02:48:15,120
Marisa Eisenberg: MC MC is either too expensive to run it often is very slow or you just can't or it's just too it's not even that MC MC is too expensive to run it's too expensive to take a lot of samples So if you have a very slow model.

1059
02:48:15,450 --> 02:48:17,400
Marisa Eisenberg: You can only take 1000 samples.

1060
02:48:17,580 --> 02:48:24,930
Marisa Eisenberg: You might waste that an MC MC on one little tiny piece of the distribution and never characterize the sort of overall distribution.

1061
02:48:25,200 --> 02:48:34,620
Marisa Eisenberg: And so, rather than doing that, if you only have the computational power to be able to run 1000 samples don't just run something like this you're going to get a more kind of.

1062
02:48:35,340 --> 02:48:45,570
Marisa Eisenberg: rough cut picture of what the distribution looks like it will be like not as fine grained as you would get from MC MC but at least you'll get something that kind of character dresses.

1063
02:48:45,570 --> 02:48:45,960
Marisa Eisenberg: The shape.

1064
02:48:48,210 --> 02:48:50,850
Rishi Chanderraj: Okay that's that's the kind of thing, where you would want to use this but.

1065
02:48:50,850 --> 02:48:52,470
Marisa Eisenberg: yeah yeah.

1066
02:48:52,710 --> 02:48:56,880
Marisa Eisenberg: um oh good okay let's see and then everyone, I will see some.

1067
02:48:56,880 --> 02:48:59,160
Marisa Eisenberg: Questions of course overall instead of the session

1068
02:49:00,090 --> 02:49:12,330
Marisa Eisenberg: Yes, I think, so you should be able to access them going forward I don't think we take away your canvas access or anything so you should be able to access them later I think eventually the recordings will expire.

1069
02:49:12,990 --> 02:49:22,380
Marisa Eisenberg: You don't know exactly what happens there okay yeah okay good great perfect excellent okay so everything should then stay yeah so it'll all be there, so great.

1070
02:49:23,880 --> 02:49:28,020
Marisa Eisenberg: Okay, so other questions about any other stuff.

1071
02:49:33,090 --> 02:49:46,740
Marisa Eisenberg: If not um let's see I want to you i'll use like a couple minutes when do you remember how much time we should give for the EVAL know if you notice.

1072
02:49:46,770 --> 02:49:49,650
Morgan Caitlin Byrd: I think probably 10 or 15 minutes is plenty.

1073
02:49:50,190 --> 02:49:51,090
Marisa Eisenberg: Okay, so.

1074
02:49:51,150 --> 02:49:52,140
Marisa Eisenberg: So i'm gonna.

1075
02:49:52,230 --> 02:49:58,920
Marisa Eisenberg: What i'll do is let's talk about the this project proposal thing that we're going to spend part of the afternoon working on.

1076
02:49:59,550 --> 02:50:14,550
Marisa Eisenberg: Possibly all of the afternoon working on and then and then we'll do the evils, and we can kind of break for lunch early and you are can do the course evaluations because we're supposed to sort of save time for that so Okay, so let me share my screen.

1077
02:50:16,740 --> 02:50:18,930
Marisa Eisenberg: Okay, so um.

1078
02:50:22,620 --> 02:50:26,010
Marisa Eisenberg: If you go to the homepage.

1079
02:50:27,210 --> 02:50:38,610
Marisa Eisenberg: purdue there's this project proposal template, and so what we're going to do over lunch i'll post up, we are not going to need this, I guess, but i'll post up our peer review.

1080
02:50:39,450 --> 02:50:49,680
Marisa Eisenberg: signup sheet and and kind of set this up, so you all can i'll make a Google thing, so that we can we can all edit and see each other's project proposal templates but.

1081
02:50:50,580 --> 02:50:59,250
Marisa Eisenberg: What we're going to do, basically over the afternoon is take a little bit of time to talk through projects that you all are interested in doing so.

1082
02:51:00,270 --> 02:51:07,980
Marisa Eisenberg: we're going to we wrote this kind of little template as a way of sort of thinking through like what you would need.

1083
02:51:09,480 --> 02:51:15,510
Marisa Eisenberg: For to start working on a new model that you might want to use for a particular topic and so.

1084
02:51:16,710 --> 02:51:19,170
Marisa Eisenberg: it's got a little sort of template here.

1085
02:51:20,010 --> 02:51:32,100
Marisa Eisenberg: This is usually if you don't need to make this long it's it's usually sort of like a sentence or two on each section so it's not it looks long because it's a lot of pieces, but each one is very short so.

1086
02:51:32,610 --> 02:51:43,590
Marisa Eisenberg: Basically, what you want to do is sort of fill in okay what's the public health problem you're going to you're interested in studying what's your goal for your model and what question you hope it can answer.

1087
02:51:44,430 --> 02:51:47,880
Marisa Eisenberg: The like why you're going to take the modeling approach that you want to take.

1088
02:51:48,720 --> 02:51:55,350
Marisa Eisenberg: And then sort of list out, what are the processes you're going to model, what kind of how are you going to structure your model.

1089
02:51:55,620 --> 02:52:01,620
Marisa Eisenberg: draw a little quick teeny diagram of how you might build your what kind of structure you think your model might have.

1090
02:52:01,920 --> 02:52:09,510
Marisa Eisenberg: And then you may not have answers for all of these so you can it's it's more sort of to just get you thinking, but I want everybody to start to think about.

1091
02:52:09,720 --> 02:52:19,020
Marisa Eisenberg: How might you use some of the methods from this class for something that you're interested in and so um you know so basically, what are the main variables are compartments.

1092
02:52:19,230 --> 02:52:30,420
Marisa Eisenberg: You know, are you going to do this as a stochastic model, a deterministic model, do you want it to be an agent based model, you know how are you going to how are you going to implement your model, how long are you going to run this simulation for.

1093
02:52:31,860 --> 02:52:38,730
Marisa Eisenberg: You know, different kinds of things I made two versions one if you're going to I guess one if you're using a compartmentalised model.

1094
02:52:39,000 --> 02:52:46,140
Marisa Eisenberg: And then one of you're using an agent based model, so you can kind of pick which one you want to do, and then you can basically sort of.

1095
02:52:46,560 --> 02:52:52,140
Marisa Eisenberg: Things to kind of prompt you to think about okay what kinds of parameters, am I going to need what is my outcome of interest.

1096
02:52:52,350 --> 02:53:03,090
Marisa Eisenberg: What assumptions does this model make you know what questions do I have you know basically something to kind of prompt you to start thinking through how you would use the methods for something that you want to do.

1097
02:53:03,360 --> 02:53:14,790
Marisa Eisenberg: And then, what we'll do is we'll split up into you know small groups of 234 something like that, and you can feel you'll read through each other's project proposals and and then.

1098
02:53:15,180 --> 02:53:24,060
Marisa Eisenberg: we'll kind of share and discuss all together talk about different challenges and questions that you have once you start to kind of think through how you would actually do this in practice so.

1099
02:53:24,510 --> 02:53:36,090
Marisa Eisenberg: that's we're going to spend the second the afternoon sort of mostly do Mike doing Michael will join us as well and and and and we'll do that, and then, once we've kind of done that.

1100
02:53:36,660 --> 02:53:45,600
Marisa Eisenberg: If folks are interested, we have a little bit more of a sort of free for all we can talk about other methods that you all might want to learn about.

1101
02:53:46,470 --> 02:54:00,690
Marisa Eisenberg: I have a couple of ideas we didn't get a chance to cover the basic reproduction number and are not so we could talk about that we could talk about by locations and sort of how you think about how systems change behavior across different spaces and how you measure that.

1102
02:54:01,980 --> 02:54:10,500
Marisa Eisenberg: But we can do whatever we can talk about all kinds of different things we could do something like a little bit different there's a lot of interest in blending.

1103
02:54:11,460 --> 02:54:21,750
Marisa Eisenberg: modeling with machine learning so we could talk about clustering algorithms or classifier or you know something like that, as well, if you want, and so anyway, and so.

1104
02:54:22,500 --> 02:54:26,490
Marisa Eisenberg: Will the afternoon will be a little bit more of a choose our own adventure.

1105
02:54:26,970 --> 02:54:44,520
Marisa Eisenberg: But we're going to spend a chunk of time on this project proposal thing and then we can we can kind of have a broader discussion of other things that you all are interested in, and so, for now, I think, in the meantime, what I love for everybody to do is.

1106
02:54:47,040 --> 02:54:54,900
Marisa Eisenberg: We we'd love for you all to fill out the course evaluation page, so there should be forget where it is.

1107
02:54:56,130 --> 02:55:02,010
Morgan Caitlin Byrd: If you go to the home tab it should be one of the links at the top by the syllabus the course and.

1108
02:55:02,430 --> 02:55:05,220
Marisa Eisenberg: Yes, there we go okay so evaluations is here so.

1109
02:55:05,490 --> 02:55:06,450
Marisa Eisenberg: If you click this.

1110
02:55:06,690 --> 02:55:11,880
Marisa Eisenberg: you'll get the course evaluation form is here.

1111
02:55:12,570 --> 02:55:27,330
Marisa Eisenberg: So you can you can pick and then fill it all out and the program evaluation form don't fill that out, unless this is your last summer session course, but if it is your last summer session course we'd love to hear how you felt the overall program went to.

1112
02:55:27,900 --> 02:55:33,390
Marisa Eisenberg: So so yeah so that's that with that I think we'll pause i'll.

1113
02:55:34,620 --> 02:55:43,050
Marisa Eisenberg: You know I can I can hang out if there's questions, but I think we'll just sort of save the last 12 minutes or so, for you all to to fill out your.

1114
02:55:43,590 --> 02:55:51,750
Marisa Eisenberg: Evaluation forms you don't have to stay on the zoom and then we'll break for lunch and come back at 130 so you can you can you can turn off your zoom to if you want, but.

1115
02:55:53,310 --> 02:55:55,830
Marisa Eisenberg: That is that for the time being i'll see you all after lunch.

