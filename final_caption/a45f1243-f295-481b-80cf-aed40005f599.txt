1
00:43:18,660 --> 00:43:19,410
Marisa Eisenberg: let's see.

2
00:43:21,180 --> 00:43:29,970
Marisa Eisenberg: awesome I think people are still sort of trickling in so i'll let people trickling I saw i'm going to just post really quick the food.

3
00:43:31,500 --> 00:43:33,690
Marisa Eisenberg: To from the morning to the.

4
00:43:35,670 --> 00:43:43,050
Marisa Eisenberg: web page, so people habits and i'll update it in a bit too, and we finished with all the code stuff.

5
00:44:03,510 --> 00:44:05,160
Marisa Eisenberg: Everybody kind of trickle in.

6
00:44:06,420 --> 00:44:07,050
here.

7
00:44:21,930 --> 00:44:28,440
Marisa Eisenberg: Okay, so the examples we've been doing so far should now there's a up on our our web page.

8
00:44:31,680 --> 00:44:43,650
Marisa Eisenberg: There here and then last year's example code was posted to the thing already so I just left there, so you can do it was just similarly random bits of code, but this is the one we've been working on.

9
00:44:44,400 --> 00:45:04,860
Marisa Eisenberg: will keep you know, adding to it and then i'll just update this at the end of today um but yeah so that's that and hope everybody had a good lunch I guess let's go ahead and dive right back we'll be doing number of people wise I think we're pretty much there and Okay, so you share screen.

10
00:45:07,650 --> 00:45:08,520
Okay.

11
00:45:09,540 --> 00:45:25,230
Marisa Eisenberg: I didn't do my organizing beforehand here, so we wrapped up, we were doing the for loops part of thing and, and so did were folks able to get a for loop sort of going for this.

12
00:45:26,040 --> 00:45:37,410
Marisa Eisenberg: That started with the for loop piece, do you need an did that work out okay for lunch or do you need a sort of I mean I figured we could go over it together, do you need another minute or two now or we're good to go ahead and go over it.

13
00:45:38,730 --> 00:45:52,170
Marisa Eisenberg: was like good okay great so let's let's go ahead and go over it together great okay good and and so yeah so just as a like refresher of what we were doing so, we were going to make a for loop that.

14
00:45:53,190 --> 00:45:57,180
Marisa Eisenberg: So we're going to first make a vector of zeros of length five so five zeros in a.

15
00:45:57,570 --> 00:46:04,470
Marisa Eisenberg: In a vector and then write a for loop that fills that vector with the squares of the integers from one to five.

16
00:46:04,800 --> 00:46:18,090
Marisa Eisenberg: And then it should basically iterate over 12345 square each value 12345 each squared and then enter that into the vector and then we were supposed to show our results so let's just see so I did it.

17
00:46:18,540 --> 00:46:26,460
Marisa Eisenberg: Like a so we had been talking about the logical loops and then here's what we're actually going to do i'll talk about that a minute so um.

18
00:46:27,150 --> 00:46:38,730
Marisa Eisenberg: So what we're going to do so, we start by saying here to so we start by making a vector of links five, so this is just five zeros all there and.

19
00:46:39,510 --> 00:46:50,310
Marisa Eisenberg: They are and then what we're going to do is we're going to go do a for loop to iterate through the numbers one through five and then fill in the vector with the square of each number so.

20
00:46:51,270 --> 00:46:58,950
Marisa Eisenberg: we're going to set I is going to be one through five so we're going to execute we're going to run this little chunk of code that's between the brackets.

21
00:46:59,340 --> 00:47:12,450
Marisa Eisenberg: For each value of it so Friday well the 12345 and so when I equals one so just like doing that same thing so let's just like mentally step through the loop so first loop.

22
00:47:13,980 --> 00:47:16,470
Marisa Eisenberg: You know run first you know, whatever.

23
00:47:17,520 --> 00:47:25,800
Marisa Eisenberg: helpfully auto completed there and we're gonna we're so we're on the first round of the loop and we're going to have I equals one.

24
00:47:26,310 --> 00:47:44,460
Marisa Eisenberg: And so, then, if we do X of I they'll put something in the first position of that X factor this junk so in the first spot so if we spend X or y equals I squared that will mean that the X of one.

25
00:47:45,480 --> 00:47:58,170
Marisa Eisenberg: Value equals one squared which is just you know what so this little loop, for the first one, you know, the first round should fill it in with one and then for the second.

26
00:47:59,160 --> 00:48:10,110
Marisa Eisenberg: Round of the loop it'll go I is now too, and so, then it'll say okay I run this with it well too so X have to whoops wow don't do that.

27
00:48:11,190 --> 00:48:29,910
Marisa Eisenberg: X two is going to equal to squared which is going to be for, so it should fill in each position, so the first one should get filled with the one the second one should get filled in for the third one should get filled with the nine to 16 you know, etc okay so let's try.

28
00:48:30,930 --> 00:48:31,650
Marisa Eisenberg: Another there.

29
00:48:35,130 --> 00:48:43,290
Marisa Eisenberg: We run this yea it worked we get you know 149 1625 so that's how you would make this into a loop now.

30
00:48:44,310 --> 00:48:50,790
Marisa Eisenberg: This one is like again there's a shorter way to do it, you don't actually even have to use the loop syntax you could just say.

31
00:48:51,900 --> 00:49:04,260
Marisa Eisenberg: This little thing this sequence maker that says go for I in 1234 or five you can actually just run that as a thing it's just a you know it generates sequences just plan so you can, if you.

32
00:49:04,620 --> 00:49:19,440
Marisa Eisenberg: Do one colon five or one colon 10 or you know, whatever you can even count backwards, I think, if you do 15 colon 10 it'll it counts just from whatever the first number is to the last number in whichever direction it takes to get to the thing so.

33
00:49:20,310 --> 00:49:25,800
Marisa Eisenberg: You know, you can make use this to make lists of numbers just plain, so I could say.

34
00:49:26,130 --> 00:49:35,850
Marisa Eisenberg: y is equal to this, and now it makes a list of integers in this case, but you know, whatever it that are that have the values 1514 1312 1110.

35
00:49:36,240 --> 00:49:47,370
Marisa Eisenberg: So you can do that, and so, if I do that here, and then square it are smart and says Oh, you probably want a square every entry, and so you could actually have done this just by going like that.

36
00:49:48,450 --> 00:50:06,000
Marisa Eisenberg: And they and you didn't need the loop necessarily but um for a lot of things you'll be doing more than squaring and it'll be more complicated, and so, then you would want a loop here so it's still useful to to do that um okay so that's for loops and.

37
00:50:07,980 --> 00:50:11,280
Marisa Eisenberg: was a good idea, so we yeah questions on for loops.

38
00:50:12,780 --> 00:50:13,710
lucille couple.

39
00:50:16,320 --> 00:50:28,950
Marisa Eisenberg: The indexing thing is usually like takes a little getting used to I really recommend like by hand doing the first couple rounds of a loop when you're like new to it, it really usually helps a lot so that's one thing okay.

40
00:50:29,670 --> 00:50:39,270
Marisa Eisenberg: um alright so we're going to get to differential equations soon, but I want to just wrap up the last like little chunk of sort of intro are here, and then we have.

41
00:50:39,660 --> 00:50:53,070
Marisa Eisenberg: We have kind of like a intro to how do you build models and we start doing differential patient so let's see if we can kind of zip through this and and we'll finish up kind of this part and now and then we'll move on to odd okay so.

42
00:50:55,020 --> 00:51:04,470
Marisa Eisenberg: So it for loops we did if statements, the other big kind of piece of coding logic that I want to make sure we talk about is what's called functions and and so.

43
00:51:05,100 --> 00:51:09,780
Marisa Eisenberg: If you've ever done excel or a lot of these kinds of things, these are sometimes called.

44
00:51:10,230 --> 00:51:17,220
Marisa Eisenberg: Like in in a lot of places when you write your own function it's called a macro so sometimes you may have heard these being called macros.

45
00:51:17,520 --> 00:51:27,870
Marisa Eisenberg: And, but basically a function is a piece of code that you can use like a little machine I used to teach a nice to teach a like a little kid math.

46
00:51:28,290 --> 00:51:37,200
Marisa Eisenberg: thing this like math workshop called master call it was like a little kids master call and with for elementary schoolers and we would have them create functions.

47
00:51:37,890 --> 00:51:50,610
Marisa Eisenberg: Mathematical functions and then, and then they pretend to be the function machine and people other kids would give them inputs and they would return the output of the function machine anyway, the little kids love drawing the the kids love drawing.

48
00:51:51,180 --> 00:51:58,050
Marisa Eisenberg: A little what the function machine look like, and so I put one of them in here because I thought that would be you know, but basically it is it's like a little machine.

49
00:51:58,380 --> 00:52:06,540
Marisa Eisenberg: That you feed it some input, it does some computation on it and it returns and output and the convenient thing about functions.

50
00:52:07,170 --> 00:52:17,460
Marisa Eisenberg: Like macros or any of these kinds of things, is that it makes when you have to do something, many times like let's say I needed to I don't know run.

51
00:52:18,330 --> 00:52:25,920
Marisa Eisenberg: This little chunk of code, I was going to need to run it, not just for five but for lots of different lengths so maybe I was going to need to have this.

52
00:52:26,430 --> 00:52:36,570
Marisa Eisenberg: I was, for whatever reason, thousands of times I was going to need to make lists of squares up to length X like length end right let's say and.

53
00:52:37,140 --> 00:52:43,650
Marisa Eisenberg: Maybe rather than writing this code every single time I needed to do that, it would make more sense to define a function like a little.

54
00:52:44,100 --> 00:52:58,290
Marisa Eisenberg: blurb will have code that you can just operate on like a machine that takes in a number here and then runs this whole chunk of code for that number and spits out, whatever the list of squares is for that thing and so.

55
00:52:58,800 --> 00:53:08,430
Marisa Eisenberg: It often turns out that when you're going to be using a piece of code a lot it's more convenient rather than copying the code many times with slight tweaks for whatever the new version of it is that you're.

56
00:53:09,000 --> 00:53:19,650
Marisa Eisenberg: just making a function, and then you can call it whenever you want, and so we've been using functions, without even really sort of knowing about it all of the times that we've done something like this, where we've got.

57
00:53:20,040 --> 00:53:29,730
Marisa Eisenberg: Like some kind of name of something around parentheses, and then some input that's a function it's just a built in function in our and you can define your own so.

58
00:53:30,360 --> 00:53:41,040
Marisa Eisenberg: So we can make our own functions that do oh right, I was giving myself a reminder we're going to do that later okay and we're so you can we can make our own functions that will.

59
00:53:41,640 --> 00:53:48,540
Marisa Eisenberg: Let us right, you know sort of shorthand essentially to run code that we're going to need to run frequently and so.

60
00:53:49,950 --> 00:54:04,110
Marisa Eisenberg: The yeah we'll get to scope and all that in just a second, and so the way that you build functions, is this is basically the syntax so we let's say we were going to make a new function so like whatever.

61
00:54:05,550 --> 00:54:10,260
Marisa Eisenberg: Whatever let's say you would go function and.

62
00:54:12,660 --> 00:54:22,140
Marisa Eisenberg: So it's it's it's this so you you put the word function all the inputs that you want that function to take will go in these parentheses here.

63
00:54:22,500 --> 00:54:39,570
Marisa Eisenberg: And then, this bracket is what you want the function to do so let's say my function i'm going to have it taken one input let's say that and then it's going to I don't know it's going to return the input plus.

64
00:54:42,690 --> 00:54:54,330
Marisa Eisenberg: Eight, I guess, why not i'm just for kicks so this little function, will you can ask, yes, that there's a little cheat so you can type return.

65
00:54:55,530 --> 00:54:57,600
Marisa Eisenberg: And it'll return this thing.

66
00:54:58,830 --> 00:55:09,120
Marisa Eisenberg: Are will also, if you just do let's say, for whatever reason I don't know why one would do this, but only in my mouse is out of battery you kidding me right now i'm.

67
00:55:10,950 --> 00:55:22,590
Marisa Eisenberg: going to charge my mouse for a second you're going to get to watch me do this, all with the keyboard and so let's let's say, for some reason I did two plus two and then like five times that and then.

68
00:55:23,340 --> 00:55:37,290
Marisa Eisenberg: This but if I didn't but I didn't write return, whatever the last thing you do is is what the function will spit back so um, let me just illustrate this with a with a little example so here let's run.

69
00:55:39,780 --> 00:55:40,200
hear you.

70
00:55:42,660 --> 00:55:43,110
Marisa Eisenberg: Okay.

71
00:55:44,160 --> 00:55:52,650
Marisa Eisenberg: So we've got it we noticed that when I ran this little chunk of lines i'm gesturing with my hands like you can see where i'm pointing and I really do need a mouse.

72
00:55:53,250 --> 00:56:04,050
Marisa Eisenberg: Okay, are you alive little mouse okay good okay it'll live for a little while, and so, when I when I ran this little chunk of code it made over here.

73
00:56:06,360 --> 00:56:18,870
Marisa Eisenberg: A little function thing in a list of functions right, so it shows you here's all the functions I created this is some function that takes one input calls into it, and so, if I now go like this.

74
00:56:23,190 --> 00:56:28,800
Marisa Eisenberg: bracket of eight yeah I guess eight is my favorite number right this moment.

75
00:56:29,940 --> 00:56:41,880
Marisa Eisenberg: It spits it returns see it's it spits back 16 so it added eight to the input that I gave it I gave it ate it plug it in for input, here it.

76
00:56:42,180 --> 00:56:52,620
Marisa Eisenberg: for whatever reason, added two plus two and five times this giant number, and then it went input plus eight and that's what it returns, whatever the last thing you do is is what it returns or to make things a little more clear.

77
00:56:52,950 --> 00:57:04,860
Marisa Eisenberg: Like if, for some reason you were going to run more code below and maybe you had an if statement and you were going to return different things at different times, depending on what was happening, you can rate return I like to do this, just to kind of really emphasize.

78
00:57:05,940 --> 00:57:12,990
Marisa Eisenberg: You know what what's actually getting returned, but you don't have to um okay so let's take out all this junk.

79
00:57:14,130 --> 00:57:26,070
Marisa Eisenberg: And just do this, so this is my function is going to be a little function that takes in something and adds eight to it, so if we do do this, we can run it for eight and you get 16 if we run it for seven.

80
00:57:26,490 --> 00:57:39,690
Marisa Eisenberg: You get 15 you run it for that you get that plus H m, and you know, etc, so you can feed it, you can feed it something not a not a number and it'll be annoyed at me.

81
00:57:40,590 --> 00:57:49,590
Marisa Eisenberg: that's even really actually you know it doesn't even matter if I just put quotes around this it'll treat it as text and then they'll say hey that's not that's not a number that's text so.

82
00:57:49,920 --> 00:57:57,270
Marisa Eisenberg: error in this so notice what happens, it says like this is also maybe like good learning on how to read that the.

83
00:57:57,750 --> 00:58:10,080
Marisa Eisenberg: The arrow functions are the error messages it, it says error in input plus eight non numeric argument to a binary operator So what does that mean so that means it tells you what.

84
00:58:10,320 --> 00:58:19,080
Marisa Eisenberg: piece of code, it was running inside the function when it through an error, so it says, I had a problem when I got to this part of the function.

85
00:58:19,620 --> 00:58:26,580
Marisa Eisenberg: input plus eight and my problem was that this is a non numeric argument it's a text argument to.

86
00:58:26,940 --> 00:58:36,810
Marisa Eisenberg: binary operator means it's an operator that takes like well two inputs, they should both be numbers, but the non numeric argument is that the arrow functions on are often kind of.

87
00:58:37,650 --> 00:58:43,860
Marisa Eisenberg: cryptic and so you have to kind of learn to read them, but so that's that's just an example, but so anyway, you can make these little functions.

88
00:58:45,240 --> 00:58:55,500
Marisa Eisenberg: You know they do a lot of different things, you can save them, so I could say why is going to equal my function of four and now it saves in for the value of why it puts 12 so that's good.

89
00:58:55,890 --> 00:59:01,380
Marisa Eisenberg: And you can make functions that do a lot of different things, most of the functions that we make are not going to be so simple as this.

90
00:59:01,620 --> 00:59:08,130
Marisa Eisenberg: will make functions that have you know you could imagine making a function that runs the whole pool is earned simulator.

91
00:59:08,310 --> 00:59:18,000
Marisa Eisenberg: For and you feed it, the number of timestamps and the number of simulations you want it to run and it spits back the full complete history of what happened to all of those.

92
00:59:18,270 --> 00:59:26,880
Marisa Eisenberg: beings, you know, over time, right so Those are the kinds of things that often you build a function that, for instance, runs your model or does whatever and then.

93
00:59:27,120 --> 00:59:38,160
Marisa Eisenberg: anytime you need to run your model in many different circumstances with many different parameter sets etc, etc, you can just use a function to do it so um oh yeah good please sorry.

94
00:59:39,120 --> 00:59:55,410
Caroline Godfrey: um when you're initially defining the function and you use the word input for the input does like what you put there only matter for your definition of the function like if you put function of a and then you know return a plus eight.

95
00:59:55,740 --> 01:00:01,230
Marisa Eisenberg: This is totally fine on that that matters is just that then you're using whatever your input is again to define.

96
01:00:01,650 --> 01:00:09,030
Marisa Eisenberg: Exactly exactly it's just a name, so you can name it whatever you want, so I yeah my tendency is often actually like.

97
01:00:09,270 --> 01:00:18,960
Marisa Eisenberg: A little confusing because i'll often name it i'm like it's an input to the function but then it's not clear, if you have to call it input, or what but you don't you can call it anything you want, and so yeah yeah.

98
01:00:19,140 --> 01:00:19,800
that's good.

99
01:00:20,970 --> 01:00:27,480
Marisa Eisenberg: yeah and you can have more than one so maybe we say A and B and then we're going to say a times B plus eight.

100
01:00:28,530 --> 01:00:33,270
Marisa Eisenberg: So now, this takes two inputs and so if we run this it should throw an error, because it'll say hey.

101
01:00:33,750 --> 01:00:43,350
Marisa Eisenberg: You don't have so it says my function for argument be is missing, I don't know what to do with that, and so, if I go for two now it'll it'll.

102
01:00:43,800 --> 01:00:50,940
Marisa Eisenberg: Well, it saves it over here 16 because it did you know, two times four plus eight that's 16 and so you know you can have more than one.

103
01:00:51,690 --> 01:01:00,870
Marisa Eisenberg: input, you can also so notice what it says there was no default, you can set defaults actually in here, so if you say a equals one and b equals.

104
01:01:01,350 --> 01:01:07,050
Marisa Eisenberg: Five then now if I just run this blank actually it ought to behave so let's see.

105
01:01:07,680 --> 01:01:14,100
Marisa Eisenberg: There you go so it'll default to whatever you put here as the values of the input, so if you want it to.

106
01:01:14,460 --> 01:01:19,950
Marisa Eisenberg: be able to run with nothing, or maybe I put just the value for a let's say I put for here.

107
01:01:20,280 --> 01:01:34,230
Marisa Eisenberg: it'll say okay I plug this in to the first input and the second input i'll just use the default So if I run this it'll be fine now and it'll give me 28 because it will say Okay, you told me if I didn't get anything I was should use five so that's what it's going to do.

108
01:01:35,490 --> 01:01:37,710
Marisa Eisenberg: So that's that's how how they operate.

109
01:01:38,940 --> 01:01:49,380
Marisa Eisenberg: yeah does that make sense to everybody feels okay okay so let's then let's do this let's there's a exercise here.

110
01:01:51,480 --> 01:01:59,340
Marisa Eisenberg: yeah packages okay so there's an exercise here we'll do this one, and then we'll debrief and then there's a bigger function problem that we can play with to.

111
01:01:59,700 --> 01:02:07,200
Marisa Eisenberg: It so let's do this one, so the first problem here is to write a function that takes a number as an input and squares it.

112
01:02:07,920 --> 01:02:16,170
Marisa Eisenberg: And then, this is a little bit silly rewrite your code in Part B, to use your new function and run the updated code so basically all I want you to do.

113
01:02:16,530 --> 01:02:26,490
Marisa Eisenberg: Is take this code from Part B and actually if you didn't get to doing that, let me throw this in the chat that way everybody has the code from party, the same.

114
01:02:27,330 --> 01:02:41,430
Marisa Eisenberg: And so, take this code from Barbie and just instead of writing I squared make a function so like make my function should square one should take one input and square it.

115
01:02:41,910 --> 01:02:54,210
Marisa Eisenberg: And then, instead, you would put like my functions of I here and see you know what it means you're writing a little function that just squares things right does that make sense, so like called a square.

116
01:02:55,800 --> 01:02:58,380
Marisa Eisenberg: yeah so that's that's the idea.

117
01:02:59,760 --> 01:03:06,390
Marisa Eisenberg: Okay, so that's what we want to do for the first problem is we're going to write a function that takes one input and It squares the input.

118
01:03:06,780 --> 01:03:23,430
Marisa Eisenberg: And then just rewrite your code from Part B to instead of using the little like I squared with the little carrot thing instead use your function your new square function so let's take like three minutes or something and and do that.

119
01:07:16,080 --> 01:07:16,650
Marisa Eisenberg: Right.

120
01:07:18,360 --> 01:07:22,860
Marisa Eisenberg: it's we get square square functions kind of made ish.

121
01:07:30,510 --> 01:07:32,850
Marisa Eisenberg: kind of working and I really.

122
01:07:36,120 --> 01:07:44,100
Marisa Eisenberg: wonder why don't we why don't we we can look together, and then I just don't want us to be short on time for the.

123
01:07:45,090 --> 01:07:53,070
Marisa Eisenberg: You know, for the odd part so well how about let's let's combine so for writing this function you just would make take.

124
01:07:53,910 --> 01:08:02,220
Marisa Eisenberg: Do something like this right so we're going to say, a new function called square it's going to take one input we're going to square that input and that's what we're going to return.

125
01:08:02,760 --> 01:08:07,890
Marisa Eisenberg: And then we rewrite our old code and all we're going to do is instead of taking.

126
01:08:08,280 --> 01:08:18,510
Marisa Eisenberg: I mean it's really kind of silly right like you're you could just you don't really need a function for this right, but um it was the carrot is all we're using but which is itself kind of a function but.

127
01:08:19,050 --> 01:08:31,380
Marisa Eisenberg: But anyway, you just do square by instead of a square okay so and maybe what we'll do this is a combination of if statements and functions and loops.

128
01:08:32,460 --> 01:08:44,220
Marisa Eisenberg: So what I how about i'll leave this to you all as like a practice problem, so this is posted up on the website and then Now you can kind of get try it out get see if you can get this.

129
01:08:45,300 --> 01:08:50,220
Marisa Eisenberg: little bit of code working and then that way you can you can kind of see.

130
01:08:51,240 --> 01:09:03,660
Marisa Eisenberg: You know use it as a way to kind of work on stuff and see if you're if you've got it or what and the solution code will also also post on the website, too, so you know you'll be able to see how to do it, but okay so.

131
01:09:04,770 --> 01:09:05,820
Marisa Eisenberg: With that.

132
01:09:06,870 --> 01:09:16,710
Marisa Eisenberg: let's keep trucking along so alright, so we talked about building functions and not everything you need is in the sort of base are.

133
01:09:17,640 --> 01:09:23,400
Marisa Eisenberg: You often need to install and run other packages that have special.

134
01:09:23,910 --> 01:09:31,380
Marisa Eisenberg: methods and things like that, and you can do that in a couple of ways, you can do install packages and then the name of the package.

135
01:09:31,650 --> 01:09:42,750
Marisa Eisenberg: Or you can also go here, and if you go to packages it'll show you everything that you have currently and and then you can install all by clicking this little install button.

136
01:09:43,140 --> 01:09:53,580
Marisa Eisenberg: And then just take whatever it is so we're going to use dissolve in this class a bunch and so you could do this type dissolve click install it's already in there and.

137
01:09:54,330 --> 01:09:59,010
Marisa Eisenberg: i'm actually going to not do this because I already I already have it installed and it's already loaded.

138
01:09:59,250 --> 01:10:06,870
Marisa Eisenberg: But if you do that and click yes it'll go through the process of installing new packages whatever packages, you need so we'll get to which packages we.

139
01:10:07,170 --> 01:10:16,650
Marisa Eisenberg: need later, but just so you know kind of how to do it if you want to call a package will see this again, but you do library at that that package name so we'll get to that later.

140
01:10:16,980 --> 01:10:33,300
Marisa Eisenberg: um one thing that we haven't talked about yet at all and that you probably should know at least a bit about how to do is how to plot stuff so let's just really quick do a quick plotting tutorials you need tiny itsy bitsy version and.

141
01:10:36,270 --> 01:10:36,720
Marisa Eisenberg: So.

142
01:10:38,040 --> 01:10:44,250
Marisa Eisenberg: There we go and so to make plots the the simplest there's a million different plot.

143
01:10:45,660 --> 01:10:53,850
Marisa Eisenberg: plotting commands that you can, if you Google like plotting are plotting tutorial there's so many different things, you can do we'll just do a quick scatter plot.

144
01:10:54,180 --> 01:10:58,050
Marisa Eisenberg: I also recommend if you're going to really do nice plus in our.

145
01:10:58,710 --> 01:11:10,740
Marisa Eisenberg: I mean, I have one or two friends who are staunch advocates of the base are plotting thing but GG plot is a fantastic package and makes really lovely plots and that's what I use for almost all the stuff that I do so.

146
01:11:11,100 --> 01:11:19,560
Marisa Eisenberg: I would, I would recommend checking this out for sort of nicer plots but we don't need it and so i'll just do this for the time being so um.

147
01:11:19,860 --> 01:11:31,320
Marisa Eisenberg: let's see so let's make a couple of pieces of data so let's say our X data is going to be I don't know zero through 100 just as a sequence, and our why data.

148
01:11:31,830 --> 01:11:45,000
Marisa Eisenberg: i'm just going to do some uniform draws i'm going to do 100 of those so we now have some two different lists here, you can also make a matrix and put this all in one and do it that way, but.

149
01:11:45,660 --> 01:11:46,800
Marisa Eisenberg: If we just do plot.

150
01:11:46,950 --> 01:11:47,820
Marisa Eisenberg: X data.

151
01:11:49,170 --> 01:11:49,950
Marisa Eisenberg: Why data.

152
01:11:51,390 --> 01:12:00,450
Marisa Eisenberg: We get no because it's inclusive hahaha hang on that's actually so notice the data is actually 101 things long.

153
01:12:02,040 --> 01:12:11,490
Marisa Eisenberg: There we go okay oh right sorry everybody i'm on a super old version of our studio so the plot show up as a new window but anyway, there you go very beautiful.

154
01:12:12,930 --> 01:12:29,220
Marisa Eisenberg: And you can add more things to this, you can label it there's a bunch of stuff if you Google our plots you know you can change the colors of these you can change the you know the the styling, as you can so like I think if you do, what is this, you can make it a.

155
01:12:30,270 --> 01:12:41,610
Marisa Eisenberg: Like no that's not it I don't remember maybe X there's various different things now is it does anybody remember and maybe it's pch is that what you're to do I haven't used base are flooding in a really long time.

156
01:12:43,620 --> 01:12:51,870
Marisa Eisenberg: There we go okay so there's different like shapes So if you try changing this pch argument you can get different.

157
01:12:52,320 --> 01:13:03,570
Marisa Eisenberg: kinds of shapes for your plot, and you can change the size and there's lots of different choices, you can make about how to make it look Nice, you can change the color you can you know all of those different things I think that's maybe.

158
01:13:05,220 --> 01:13:05,550
Marisa Eisenberg: Over.

159
01:13:06,660 --> 01:13:17,760
Marisa Eisenberg: Here we go yeah so they've got a lot of different options, and you can specify like a hex code for your colors to and things like that, so that you get some nice different color options and things like this, but so you can change.

160
01:13:18,090 --> 01:13:28,020
Marisa Eisenberg: All the various different features of the plot, I just want you to be able to see how to plot something so that if you want to be able to you know visualize something you have a way of doing it and.

161
01:13:29,040 --> 01:13:37,440
Marisa Eisenberg: In a minute so I guess maybe actually that's a good segue into thinking about how to load and save data, because we could load some data and plots.

162
01:13:38,160 --> 01:13:45,900
Marisa Eisenberg: So I wanted to in the earlier had come up, how do you how would you save results, how and so related to that How would you load results.

163
01:13:46,230 --> 01:13:54,390
Marisa Eisenberg: And I also had, I know I mentioned before setting you're working directory, and so I thought, maybe it would be good to kind of show everybody how to do those things, and so.

164
01:13:55,350 --> 01:14:02,250
Marisa Eisenberg: If you want to set your working directory there's a command set wd set working directory, you can also like I said before, you can do it here.

165
01:14:02,550 --> 01:14:07,290
Marisa Eisenberg: But so we're going to set our working directory to this folder called examples on my desktop.

166
01:14:07,710 --> 01:14:14,310
Marisa Eisenberg: And then, if you want to load also, by the way, if you just want it just for useful So if you.

167
01:14:14,580 --> 01:14:23,340
Marisa Eisenberg: If you type set working directory and then tilda is your home user directory so that's in my case, my home directory is marissa eisenberg so on your.

168
01:14:23,550 --> 01:14:32,850
Marisa Eisenberg: On your machine, you should have a like a home user directory that's sort of at the top level of where all your documents folder your desktop all that kind of stuff goes.

169
01:14:33,090 --> 01:14:40,290
Marisa Eisenberg: If you type that and then a slash and then you hit tab it will show you all the different folders that you have and.

170
01:14:40,860 --> 01:14:52,890
Marisa Eisenberg: And then you can choose where you want to be so I want to be in desktop examples and so then now it'll if you hit tab as you kind of select it'll you can fill it in so it's kind of a nice way to.

171
01:14:53,190 --> 01:15:04,230
Marisa Eisenberg: fill this in if you want anyway in the examples folder and there is actually over here go into the examples folder which should be someplace Hello.

172
01:15:06,660 --> 01:15:13,410
Marisa Eisenberg: Probably old, let me just go to working directory okay in here in this folder there's a file and the.

173
01:15:13,740 --> 01:15:22,800
Marisa Eisenberg: file is called weekly cases per hundred thousand I just pulled this right now, this is the coven cases in Michigan 400,000 over time so i'm going to load this data into memory.

174
01:15:23,370 --> 01:15:33,570
Marisa Eisenberg: And there it is so now, you can see here's the it's got dates a bunch of days at the beginning and then weekly cases per hundred thousand is here.

175
01:15:34,170 --> 01:15:49,920
Marisa Eisenberg: And I don't remember why, but it has multiple copies of the same variable and but anyway, you can see that's in there, so that's there's some data and and then you could do something with that data change it, etc.

176
01:15:51,150 --> 01:16:00,900
Marisa Eisenberg: So if you want, you can read a csv this way, so this was a csv file if you wanted to read it's an excel sheet or something like that there's packages for that there's a lot of useful packages there's also.

177
01:16:01,200 --> 01:16:18,570
Marisa Eisenberg: nicer csv reading and things like this, too, so there's a lot of packages out there, that you can find for loading and different kinds of data, but so the the base our read csv function is read dot csv and then you can write a csv if you want to as well, so if I do this.

178
01:16:20,460 --> 01:16:30,090
Marisa Eisenberg: It should there it is it saves my data back down as a csv file and I could save a specific variable as an our data file so.

179
01:16:30,840 --> 01:16:44,460
Marisa Eisenberg: X here is this little list of squares by pipe save X like this it will do it saves it as an our data file and now if I delete all of this stuff.

180
01:16:45,450 --> 01:16:54,480
Marisa Eisenberg: And then open this it will open it back up again, so you can save variables, as our data files, you can also save your whole workspace so let's say I had.

181
01:16:55,620 --> 01:16:58,050
See I don't know where it's a good place to start.

182
01:16:59,130 --> 01:17:08,970
Marisa Eisenberg: Just screw it i'll run it off, so I have a bunch of stuff in memory now and maybe I then run this so I save my whole workspace.

183
01:17:09,570 --> 01:17:19,470
Marisa Eisenberg: Or, I guess, I ran it when I save when I ran the whole thing I saved my workspace here now, if I clear this and I want to be back exactly where I was if I click this.

184
01:17:20,310 --> 01:17:29,310
Marisa Eisenberg: It will reload all of those values, for better or worse, whatever they are back into the workspace, this is a very lazy way of saving your work.

185
01:17:29,910 --> 01:17:44,130
Marisa Eisenberg: Not lazy that makes it sound, but it's it's frowned upon as a way of saving your work, because it doesn't it's not thoughtful you just save all the junk you have with no documentation or anything it's just like.

186
01:17:44,430 --> 01:17:54,510
Marisa Eisenberg: here's all my stuff, this is what was open when I last started working on this, which I do sometimes it's super useful to be able to just pick up where you left off you weren't in a finished clean state.

187
01:17:54,750 --> 01:18:02,940
Marisa Eisenberg: But when people when you're finished with an analysis and you really want to kind of wrap it up usually people recommend rather than just saving your whole workspace.

188
01:18:03,120 --> 01:18:14,520
Marisa Eisenberg: decide which variables you actually need are now going to go, you know kind of keep for the future and save those in a more like organized way, rather than just keeping all the crap that you happen to have open at the time.

189
01:18:15,090 --> 01:18:22,830
Marisa Eisenberg: So anyway that's just a little bit of that, but so now that we have this data open, we could do another little plotting example so maybe.

190
01:18:24,150 --> 01:18:25,290
Marisa Eisenberg: Maybe we plot.

191
01:18:26,430 --> 01:18:38,520
Marisa Eisenberg: You know, oh data, this is actually a nice time to point to point to the dollar sign so when you have a data frame so all these little data guys here and.

192
01:18:39,270 --> 01:18:55,500
Marisa Eisenberg: You can reference the columns so because it's often the case for data when you're working with our for a data purpose that you often will need to to say okay take all the dates in my data and convert them to.

193
01:18:56,640 --> 01:19:01,980
Marisa Eisenberg: integer numbers from zero to whatever or whatever it is, I mean you probably don't ever really want to do that, but you.

194
01:19:02,310 --> 01:19:20,580
Marisa Eisenberg: can do a lot of things like this, where you need to reference a column, and so this dollar sign thing lets you reference a column within the data set so i'm going to plot, the data, the column daytime and then i'm going to plot going a plot this weekly cases, if we do that oh.

195
01:19:21,630 --> 01:19:22,350
Where are you sitting.

196
01:19:24,480 --> 01:19:26,880
Marisa Eisenberg: need finite excellent values.

197
01:19:29,130 --> 01:19:30,120
Marisa Eisenberg: You know what pan.

198
01:19:38,220 --> 01:19:38,640
Okay.

199
01:19:42,030 --> 01:19:48,060
Marisa Eisenberg: Is it, this is it the date yeah okay I haven't converted, the date into a date object that's what it's a few bad.

200
01:19:50,280 --> 01:19:52,260
Marisa Eisenberg: The plot there it is okay so.

201
01:19:54,120 --> 01:20:00,180
Marisa Eisenberg: It when I tried to plot, the data it was annoyed because it loaded this as some funny.

202
01:20:01,080 --> 01:20:14,190
Marisa Eisenberg: i'm not sure what format, this is, I think it is a date time but it didn't know how to process the date part of this, so I did what I just mentioned, I just replaced the X axis with the numbers one through 859 because that's the length of this data.

203
01:20:14,580 --> 01:20:21,330
Marisa Eisenberg: And you wouldn't really do that you'd probably want to like make a nicer flavor of plot that can handle dates as an x axis thing.

204
01:20:22,020 --> 01:20:37,980
Marisa Eisenberg: GG plot is fine for that, so you could do that but anyway here's a plot of cases in Michigan over time since the first day of the pandemic and there you go so just as like a little example of kind of how you can load data plotted and play with it and do that kind of thing.

205
01:20:39,120 --> 01:20:39,510
Marisa Eisenberg: Okay.

206
01:20:40,860 --> 01:20:42,570
Marisa Eisenberg: Oh, we talked about comments.

207
01:20:43,980 --> 01:20:56,700
Marisa Eisenberg: yep this I think you'll discover all of this right, you know, think about the logic of your code tested, you know, try and find ways to test little bits etc are mark down, I think we won't worry about.

208
01:20:57,840 --> 01:21:01,290
Marisa Eisenberg: Okay, so hope up.

209
01:21:02,370 --> 01:21:12,660
Marisa Eisenberg: Questions about any of that that's kind of our like hilarious tornado of code intro and do you feel like.

210
01:21:13,590 --> 01:21:23,070
Marisa Eisenberg: You kind of all of that made some sense feel like you could kind of work with it a bit ish yeah gay ish ish ish maybe.

211
01:21:23,820 --> 01:21:37,140
Marisa Eisenberg: Okay um well it'll it'll probably help when you start working more on sort of real problems that'll that usually is a good way to kind of dive in a bit more and okay so.

212
01:21:39,330 --> 01:21:45,450
Marisa Eisenberg: Other questions about any of it like you know now's the time if we want to do a question you kinds of things.

213
01:21:47,550 --> 01:21:48,330
Just this year.

214
01:21:51,000 --> 01:21:51,720
Please comfy.

215
01:21:54,000 --> 01:22:02,130
Marisa Eisenberg: If there is, and if there's stuff that would be helpful in getting you like helping you to get more comfortable with it, you know you need more examples or.

216
01:22:02,430 --> 01:22:06,060
Marisa Eisenberg: You need more exercises to work on or things like that you know, like.

217
01:22:06,540 --> 01:22:18,540
Marisa Eisenberg: Let me know you may not know yet as you go kind of goes through, then it might it might become more clear like I need more examples of this, or whatever we can we can do that and okay so.

218
01:22:19,320 --> 01:22:31,410
Marisa Eisenberg: um The next thing I wanted to do is sort of talk through how we build models and how we do differential equations, and so I had a whole little exercise with this that I was going to have you all.

219
01:22:31,710 --> 01:22:41,310
Marisa Eisenberg: sort of think through i'm going to just step us through it really quick some some I think that intersperse thing of lab and lecture makes it go a little slower, but I actually think that's kind of good.

220
01:22:42,030 --> 01:22:49,110
Marisa Eisenberg: because it gives us a little more time to digest but, but I am going to just step through this kind of more quickly so that we can get into the.

221
01:22:49,590 --> 01:22:59,220
Marisa Eisenberg: The meat of it a little bit more so um I was going to have us do a little example where we talked through how one might structure and infectious disease transmission model so.

222
01:22:59,520 --> 01:23:05,640
Marisa Eisenberg: Imagining that you had something like a bacterial infection that was spread person to person via close contact.

223
01:23:06,000 --> 01:23:18,660
Marisa Eisenberg: And then, most people recover after a few days, and then we know that there's some immunity, but the question that we're going to try and ask ask with this model is how long my dad immunity last so we let's say we have.

224
01:23:19,590 --> 01:23:32,100
Marisa Eisenberg: Total cases each it's clear, I did not really think through whether this was each day or each week but anyway total number of cases, over time, you know essentially something like a maybe a prevalence or incidents of cases each day.

225
01:23:33,450 --> 01:23:43,290
Marisa Eisenberg: And what the question we're going to try and answer with this model is is there sort of long term immunity to the disease, where it last where the immunity last let's say more than a year.

226
01:23:43,890 --> 01:23:54,930
Marisa Eisenberg: To this disease, and so, and the model that one might set up for this, you might do something like an si our model so susceptible infectious recovered kind of model.

227
01:23:55,290 --> 01:24:03,990
Marisa Eisenberg: And then you'd have to think about you know how do people interact who's contacting whom How long does it take to recover from this illness.

228
01:24:04,260 --> 01:24:09,480
Marisa Eisenberg: How, how do we model loss of immunity or immunity and lots and lots of other things too.

229
01:24:09,780 --> 01:24:21,240
Marisa Eisenberg: But a really simple model that you might build would be maybe something like so you might draw up a diagram This is like a classic susceptible infectious recovered kind of diagram where you say okay people start off in.

230
01:24:21,630 --> 01:24:27,630
Marisa Eisenberg: You can kind of think of these compartments these little circles here are called compartments and you can think of them as like.

231
01:24:27,900 --> 01:24:36,450
Marisa Eisenberg: Little bins that you know it's like the Bead model it's like you have little boxes, that the beads are in and you move beads from one box to the next to the next, you know and so.

232
01:24:37,140 --> 01:24:45,630
Marisa Eisenberg: People start in the susceptible compartment and then, if they interact with an infected person, they can move into the infected or infectious compartment.

233
01:24:45,870 --> 01:24:51,660
Marisa Eisenberg: And then, after a few days they recover and they become immune and so they're in the recovered or you know.

234
01:24:52,050 --> 01:25:00,510
Marisa Eisenberg: immune compartment and then we could suppose that eventually if there is loss of immunities and that would be represented as an arrow going from the recovered.

235
01:25:00,810 --> 01:25:06,270
Marisa Eisenberg: Assuming that recovered people are fully immune to susceptible again, where they are now.

236
01:25:07,080 --> 01:25:16,380
Marisa Eisenberg: susceptible to infection and sometimes people would draw that maybe more like this, where you make it explicit that the people moving from susceptible to infectious.

237
01:25:16,770 --> 01:25:29,370
Marisa Eisenberg: do so because the existing infected people are kind of increasing this arrow so the more infected people that you have the faster that susceptible people should move through this process so.

238
01:25:29,940 --> 01:25:31,080
Marisa Eisenberg: Okay, so you would sort of.

239
01:25:31,950 --> 01:25:43,650
Marisa Eisenberg: have this kind of model setup or you know something about sort of how this works, you have a question you're trying to answer you think through what structure, you might do you maybe draw up some different diagrams like this and then usually.

240
01:25:44,430 --> 01:25:49,200
Marisa Eisenberg: So we're going to talk about this in another in the next slide deck in just a minute, but usually, then you would.

241
01:25:49,470 --> 01:25:55,140
Marisa Eisenberg: You would think through what kind of framework of model you'd want to we're going to start with differential equations but so.

242
01:25:55,500 --> 01:26:04,320
Marisa Eisenberg: differential equations mean we're going to write down a set of equations that describe how people move from this compartment to this compartment to this compartment.

243
01:26:04,620 --> 01:26:16,860
Marisa Eisenberg: And the idea behind differential equation models is basically that we usually want to write down some equation describing maybe s as a function of time, so maybe you see imagining that you'd write like a.

244
01:26:20,280 --> 01:26:29,310
Marisa Eisenberg: like an s of T you know equals some stuff kind of equation, or something like that it turns out, though, that.

245
01:26:31,290 --> 01:26:44,250
Marisa Eisenberg: equations like that, where you write s T is equal to like how many susceptible are there as a function of time or actually often really difficult to do so, you hard to write, but we can often right.

246
01:26:44,970 --> 01:26:53,730
Marisa Eisenberg: equation for the change in the number of susceptible so it's hard to say how many susceptible people there are at this exact moment, but I can say okay.

247
01:26:54,060 --> 01:26:59,520
Marisa Eisenberg: Yesterday 12 people got infected so that many people left the susceptible compartment and.

248
01:27:00,150 --> 01:27:14,340
Marisa Eisenberg: You know and and also yesterday 10 people who were recovered their titers fell below X level, so now they're there they're not immune anymore they're now susceptible again right and so it's often easier to kind of get.

249
01:27:14,670 --> 01:27:24,270
Marisa Eisenberg: Information on the change of X, and so it ends up being that what we usually do is we actually write down the equations for the change of acts as a function of time, so that's.

250
01:27:24,600 --> 01:27:35,490
Marisa Eisenberg: From a mathematical standpoint that's a derivative dx dt is the rate of change and but and then we'll sum up those little rate of changes to get what X is doing now, we.

251
01:27:35,790 --> 01:27:41,940
Marisa Eisenberg: Usually don't do that unless you're feeling particularly excited about doing it rose but um.

252
01:27:42,600 --> 01:27:50,130
Marisa Eisenberg: The are has a built in function that will do this for us, we just have to write down the equations and then it will do all the hard work of actually.

253
01:27:50,550 --> 01:28:02,040
Marisa Eisenberg: Taking the integral of dx et, and all this stuff but the basic idea is that we're going to talk about this more in just a second usually I do this in the morning in the afternoon so you'll kind of get it twice, but um.

254
01:28:03,240 --> 01:28:15,000
Marisa Eisenberg: Basically what we're going to do is we're going to write down equations that capture, what are the flows coming into and out of each compartment so the it department has a flow coming in from the S compartment.

255
01:28:15,270 --> 01:28:19,560
Marisa Eisenberg: And, and it has a flow going out to the our compartment so we're going to write down equations.

256
01:28:19,860 --> 01:28:32,400
Marisa Eisenberg: That sort of capture how people are moving from one compartment to the next, so in this case, for instance it's something like this, so susceptible so change of susceptible as a function of you know change with respect to time so what's the.

257
01:28:32,880 --> 01:28:46,500
Marisa Eisenberg: what's changing in the number of susceptible well they you lose susceptible due to infection, so they get sick and so that should be a minus term because they're flowing out of the susceptible compartment and you've gained susceptible when.

258
01:28:46,950 --> 01:28:50,940
Marisa Eisenberg: recovered people lose immunity right, so you would have a plus term coming in.

259
01:28:51,240 --> 01:29:02,370
Marisa Eisenberg: And those minuses who leave the susceptible compartment they should show up as a plus term and the infected compartment because that's where they're going right, so they leave here and they show up here and.

260
01:29:02,910 --> 01:29:09,720
Marisa Eisenberg: The infected compartment it's changed with respect to time well, they have an increase as new people become infected.

261
01:29:09,960 --> 01:29:18,180
Marisa Eisenberg: And they have a decrease as people recover and and stopping infectious so the recovered people go over here and that becomes a plus over here.

262
01:29:18,420 --> 01:29:26,310
Marisa Eisenberg: And so you can kind of see sort of roughly you know we don't have any math in these yet, but you can see what the flow is going to be people are going to.

263
01:29:26,520 --> 01:29:34,470
Marisa Eisenberg: Have a minus term here that becomes a plus over here a minus term here that becomes a plus over here a minus room here that comes with plus over here right, so people.

264
01:29:34,710 --> 01:29:44,640
Marisa Eisenberg: Leave one place, and they show up in a different place right and that's how they change as a function of times in this simple model where all you can be acceptable infectious and recovered and so.

265
01:29:45,240 --> 01:29:51,420
Marisa Eisenberg: We could write down the actual equations for this in the classic si our model, and it would be something like that so.

266
01:29:52,770 --> 01:29:58,080
Marisa Eisenberg: The you can it looks more fancy because it's got Greek letters, but it's really the same thing right so.

267
01:29:58,800 --> 01:30:07,860
Marisa Eisenberg: there's a minus term for infection and that's here notice that it's got the the structure of these is often kind of comment so it's got a.

268
01:30:08,460 --> 01:30:15,300
Marisa Eisenberg: Greek letter here is a parameter, so this is a constant that's basically Hello puppy I know you still can't have my lunch.

269
01:30:15,630 --> 01:30:22,830
Marisa Eisenberg: And we've got basically a number here that says what's the rate at which people are you know how what's the it's sort of it's like a.

270
01:30:23,790 --> 01:30:29,820
Marisa Eisenberg: knob or a dial that lets you decide how fast should people be getting infected, so this is our parameter beta.

271
01:30:30,180 --> 01:30:42,990
Marisa Eisenberg: And, and then two variables susceptible and in fact it's infectious and so what this is saying, basically, is that the rate at which people leaves the susceptible compartment and show up in the infected compartment.

272
01:30:43,320 --> 01:30:49,350
Marisa Eisenberg: is proportional to the number of susceptible and the number of infected that you have right which makes sense.

273
01:30:49,650 --> 01:30:58,680
Marisa Eisenberg: For two people to for a susceptible person to get sick, they have to interact with an infected person, so the more infected people, you have the faster people get sick.

274
01:30:59,010 --> 01:31:09,060
Marisa Eisenberg: Or you know, the more people get sick and, similarly, the more susceptible people you have well then, the more opportunities that infected person has to get all those susceptible people sick so there's more.

275
01:31:09,300 --> 01:31:15,030
Marisa Eisenberg: there's either one of these could increase the rate at which you're getting more infection, so we have this term.

276
01:31:15,390 --> 01:31:22,830
Marisa Eisenberg: And it shows up here as a plus and then, once you've been infected for a while there's some rate at which you leave so.

277
01:31:23,550 --> 01:31:30,270
Marisa Eisenberg: This gamma determines the speed at which people leave the infected compartment and so.

278
01:31:31,200 --> 01:31:40,590
Marisa Eisenberg: This is just a number of constant and so you could think of this as saying you know sort of what fraction of people are at what speed per time or people.

279
01:31:41,430 --> 01:31:46,230
Marisa Eisenberg: You know, going to leave the infected compartment and show up in the recovery.

280
01:31:46,620 --> 01:31:54,120
Marisa Eisenberg: So there's a flow out of here in into here, it only depends on the number of infected people, because if i'm sick with something I don't need to get.

281
01:31:54,510 --> 01:32:02,970
Marisa Eisenberg: You don't have to transmit the cure to me right, I just I just recover, so the number of people who recover it you don't need to have.

282
01:32:03,180 --> 01:32:16,920
Marisa Eisenberg: It be dependent on the number of susceptible or anything like that it's just dependent on the number of infected people and then Similarly, the recovered people eventually they may lose their immunity if we have short term immunity and then they would show back up over here.

283
01:32:17,970 --> 01:32:25,230
Marisa Eisenberg: So the model is something like this and then you'd usually give it some initial conditions, so this is saying at the first.

284
01:32:25,500 --> 01:32:37,200
Marisa Eisenberg: instance that you start the model we're going to start with one infected person and 999 susceptible people and no recovered people, so this is as though you had 1000 people and one infected person walked into the room.

285
01:32:38,190 --> 01:32:48,630
Marisa Eisenberg: And if you wanted to model, a situation where there was no loss of immunity, ie where you had long term immunity, you could do that by just setting alpha equal to zero.

286
01:32:49,230 --> 01:32:59,400
Marisa Eisenberg: And so that's kind of how you might build a really simple model in this circumstance, it turns out, so if you're trying to compare what you get with.

287
01:33:00,390 --> 01:33:10,410
Marisa Eisenberg: Long term immunity versus short term immunity, you can try out simulations where alpha equals zero, whereas where it doesn't equal zero and and it turns out that.

288
01:33:11,550 --> 01:33:22,620
Marisa Eisenberg: If you do that, in this case i'm just going to show one simulation, but you can actually already kind of figure it out just from knowing sort of the structure of the model if alpha equals zero.

289
01:33:23,640 --> 01:33:25,110
Marisa Eisenberg: This is zero.

290
01:33:26,370 --> 01:33:31,950
Marisa Eisenberg: Is it actually so imagine this arrow is zero Is it actually possible to notice in the data.

291
01:33:32,460 --> 01:33:47,310
Marisa Eisenberg: That you keep seeing infected new cases showing up many weeks through right so and is it actually possible to continue to see constant levels of new cases forever if there's no loss of immunity.

292
01:33:47,700 --> 01:33:52,320
Marisa Eisenberg: not really right because eventually you just run out of people right like there's you so.

293
01:33:52,800 --> 01:34:01,800
Marisa Eisenberg: So if you set alpha here equal to zero, then eventually so imagining that i'm gonna just do this imagining this is gone.

294
01:34:02,220 --> 01:34:12,750
Marisa Eisenberg: Then, the only term in the DST equation is negative right, so it will keep decaying dropping and people eventually you'll run out of susceptible.

295
01:34:13,140 --> 01:34:25,680
Marisa Eisenberg: And then, because the susceptible have to be there in order for you to get more new infections you'll eventually run out of infected people, so we actually can kind of, say, already that you can't really have alpha equals zero if this.

296
01:34:26,850 --> 01:34:32,940
Marisa Eisenberg: Were you if this data keeps saying you know with constant numbers of new cases each day.

297
01:34:33,240 --> 01:34:38,340
Marisa Eisenberg: And Sure enough, if you try modeling this you find that you can't you only can get sort of a more epidemic.

298
01:34:38,610 --> 01:34:48,450
Marisa Eisenberg: And then to zero kind of shape if you've long term Community etc, so I don't I mean it's not a very like super exciting conclusion to this model it's clearly like a made up thing but i'm.

299
01:34:48,930 --> 01:34:57,690
Marisa Eisenberg: Just as a sort of example of kind of how one might sort of step through okay so that's the end of this slide deck and let me switch to the O.

300
01:34:57,690 --> 01:34:58,710
Marisa Eisenberg: d slide decks.

301
01:34:58,740 --> 01:35:02,280
Marisa Eisenberg: We can kind of get started on that are there questions about any of this.

302
01:35:02,580 --> 01:35:14,640
Caroline Godfrey: kind of quickly we're like trying to test not like long term unity in that it's like a permanent immunity, but like an immunity that say last few months that might require some degree of memory and the model that like.

303
01:35:14,970 --> 01:35:24,240
Caroline Godfrey: You have to have been in the recovery phase for X period of time and it's not just as a percentage of whoever's in the recovery phase it's really.

304
01:35:25,380 --> 01:35:27,330
Caroline Godfrey: There needs to be some sort of memory built in.

305
01:35:28,200 --> 01:35:30,120
Marisa Eisenberg: Yes, yes, yes, good okay so.

306
01:35:30,150 --> 01:35:31,500
Marisa Eisenberg: If you wanted to do that.

307
01:35:31,800 --> 01:35:42,540
Marisa Eisenberg: What you would probably do is a model sort of more like this, so you do s I actually hear it, rather than trying to draw si R but instead of this you would put a bunch more ours.

308
01:35:43,470 --> 01:35:48,240
Marisa Eisenberg: So you would say like are two or three.

309
01:35:48,870 --> 01:35:55,680
Marisa Eisenberg: or four so and then you'd set it so that the time that it takes for you to move your way through all these ours.

310
01:35:55,860 --> 01:36:01,320
Marisa Eisenberg: is about how long you would if you're think you wanted to see if the immunity was the you know, on the order of months or whatever.

311
01:36:01,530 --> 01:36:08,190
Marisa Eisenberg: And you could you could sample from a lot of different like maybe you say Okay, I think the long term immunity might be something like.

312
01:36:08,430 --> 01:36:17,700
Marisa Eisenberg: Six months to a year, or something so you can set this up, so that you move through the compartments at the right rate, so that it ends up being you sample a bunch of values in six months to a year.

313
01:36:17,910 --> 01:36:25,230
Marisa Eisenberg: And then you could compare that versus What if you don't have any of this and you just move straight into susceptible and see.

314
01:36:25,290 --> 01:36:26,730
Marisa Eisenberg: You know which one matches yeah.

315
01:36:27,060 --> 01:36:36,060
Caroline Godfrey: And if we're going to set it for like a certain time period basically like 100% of people who are in our one are going to move to our two, and then only the people in our one or the like fresh.

316
01:36:36,600 --> 01:36:47,970
Marisa Eisenberg: that's right yeah yeah yeah exactly so what you would do actually is, you would you wouldn't make it 100% necessarily well, it would depend, it will be 100% eventually but usually what you do is you set an average time to spend in our one.

317
01:36:48,240 --> 01:36:54,390
Marisa Eisenberg: And maybe you make that a week and then you have each one of these represents a week, and so you spend on average.

318
01:36:54,630 --> 01:37:05,220
Marisa Eisenberg: About a week and each compartment and when you kind of tack those all on top of one another, you end up that you can't move through this instantaneously like you could with the other one you have to spend you know.

319
01:37:05,790 --> 01:37:19,380
Marisa Eisenberg: Around six months or whatever it is, you know however long you want to make it so yeah yeah yeah you can honestly to be totally honest with with these kinds of this is called a gamma chain is like it makes a gamma distribution thing.

320
01:37:21,360 --> 01:37:29,790
Marisa Eisenberg: And you honestly actually you get that fact, if you set the average time in this to be like one month, and you just made six of these you would totally see.

321
01:37:30,000 --> 01:37:38,670
Marisa Eisenberg: The it would force them to not jump through too fast and you don't need that many compartments or that fine grained to make the like.

322
01:37:39,120 --> 01:37:47,460
Marisa Eisenberg: We should do an example, maybe we'll make we'll do an example you did you quickly when you start adding this little chain in here a compartments that they like hoops they have to jump through.

323
01:37:47,670 --> 01:37:55,470
Marisa Eisenberg: To get back to so it it rapidly gives a different behavior than the the zippy one that doesn't have all the little chain.

324
01:37:56,640 --> 01:38:03,810
Marisa Eisenberg: So yeah that's a great question yeah um okay so other questions about this.

325
01:38:08,100 --> 01:38:13,350
Marisa Eisenberg: Alright, in that case, let me switch over to the other slide deck.

326
01:38:18,990 --> 01:38:19,530
Okay.

327
01:38:21,390 --> 01:38:25,350
Marisa Eisenberg: Alright, so we're going to do a little introduction to ordinary differential equations.

328
01:38:26,010 --> 01:38:37,440
Marisa Eisenberg: And, and all these are just kind of a convenient framework there's a lot of the stuff we're going to learn about works for lots of different flavors of model it doesn't have to be a differential equation model you'll learn.

329
01:38:38,220 --> 01:38:45,030
Marisa Eisenberg: In the tobacco class to learn about a whole bunch of other kinds there's all different flavors but ODS Have a nice.

330
01:38:45,840 --> 01:38:51,300
Marisa Eisenberg: Like a long history and they've got a lot of tools that are already built into our and they're very easy to use, in that way, so.

331
01:38:51,510 --> 01:38:56,160
Marisa Eisenberg: we're going to start with that, but Michael will do stochastic models tomorrow and you'll see a ton of different stuff.

332
01:38:56,490 --> 01:39:08,910
Marisa Eisenberg: And Okay, but just a little terminology first so a dynamical system is just something a system of variables that evolves in time, something that evolves in time dynamical systems can be differential equations or ODS.

333
01:39:10,140 --> 01:39:14,550
Marisa Eisenberg: They can be so the odd thing, by the way, stands for, I should have put this somewhere.

334
01:39:21,240 --> 01:39:22,440
Marisa Eisenberg: Ordinary.

335
01:39:24,360 --> 01:39:36,060
Marisa Eisenberg: equations and but So yes, so order differential equations so dynamical system can be odd ease, it can be we're going to talk later this week about agent based models.

336
01:39:36,720 --> 01:39:46,830
Marisa Eisenberg: which are more sort of high where you model individuals moving through the environment as separate objects, you can have stochastic models network models all kinds of different things and.

337
01:39:47,460 --> 01:39:58,620
Marisa Eisenberg: Most dynamical systems and ODS as well, have variables and parameters so, for instance, when we were looking at that si our model, the Greek letters were the parameters So these are sort of.

338
01:39:58,920 --> 01:40:07,470
Marisa Eisenberg: numbers that determine how fast different prophecies happen or or how strongly they affect things or whatever, and then variables are the.

339
01:40:08,250 --> 01:40:16,080
Marisa Eisenberg: The the sort of states are compartments that change over time, so these are things that track the number of people who are in different.

340
01:40:16,860 --> 01:40:36,510
Marisa Eisenberg: Disease states or whatever it might be and dependent and independent variable so in most odd is your independent variable is time and you're dependent variables would be your si and our and all of these kinds of things and that yeah Okay, and there was a lot of different kinds of.

341
01:40:37,650 --> 01:40:48,810
Marisa Eisenberg: equations for doing this, some of you may have seen difference equations before, so this is like got a different flavor of this in 633 we sometimes spend more time on these guys.

342
01:40:49,410 --> 01:40:54,540
Marisa Eisenberg: Were you describe how things evolve i'm going to actually just kind of skip this I think it's fine.

343
01:40:55,200 --> 01:41:01,440
Marisa Eisenberg: Okay, so let's let's dive into this a little bit, so the basic idea behind a differential equation like you said before.

344
01:41:01,680 --> 01:41:09,420
Marisa Eisenberg: You want to model, how many people let's say are in susceptible infectious or recovered or whatever it is, some variable X.

345
01:41:09,840 --> 01:41:19,320
Marisa Eisenberg: it's difficult to write down an equation for the number of people in X, but we can write down an equation, for how X is changing over time.

346
01:41:19,890 --> 01:41:30,540
Marisa Eisenberg: And so that's usually what we do one quick bit of notation sorry for the font change, but I there's what's called lab nuts and dot notation.

347
01:41:31,410 --> 01:41:37,080
Marisa Eisenberg: they're the same but i'll use both sometimes and sorry i've tried to keep it consistent, but I don't always remember.

348
01:41:37,440 --> 01:41:49,320
Marisa Eisenberg: If I write dx dt or do you why dt and it's the same as writing y.or x.so y.is equal to do it, why double.is.

349
01:41:49,740 --> 01:41:57,600
Marisa Eisenberg: To derivatives, the second derivative of wire, with respect to time we're not really going to get into second derivatives and we're like you know all of this.

350
01:41:58,170 --> 01:42:06,540
Marisa Eisenberg: For many of you i'm guessing usually in this class there's a sizable contingent of folks are like wow I had calculus high school like a long time ago, you know and so.

351
01:42:06,900 --> 01:42:16,290
Marisa Eisenberg: If that's you that's totally fine like you know we can we can spend more time, if you want to see how to like solve differential equations by hand and all that we can do some of that too it's super fun, but.

352
01:42:16,560 --> 01:42:22,560
Marisa Eisenberg: um we're going to you, mostly be using our to actually do all of the solving of the derivative parts of things so.

353
01:42:22,770 --> 01:42:30,210
Marisa Eisenberg: If you haven't seen calculus in a while don't worry you're not really going to have to actually do anything with it yourself as long as you have an intuitive understanding that.

354
01:42:30,420 --> 01:42:36,090
Marisa Eisenberg: A derivative is a rate of change that's all that you're going to need for the class so that'll be totally fine i'm okay.

355
01:42:37,500 --> 01:42:53,070
Marisa Eisenberg: So solving OD us, and so we want this sort of we want to get something that captures what X is doing as a function of time and we mostly there are ways that you can do this by hand if you want it to, but most of the time we do it by computer.

356
01:42:53,250 --> 01:43:03,840
Marisa Eisenberg: And so, how do we do it so Okay, so a first derivative system so that's a first order O D so we're gonna we're going to do is this we're going to say.

357
01:43:04,710 --> 01:43:15,840
Marisa Eisenberg: we're going to start with a value for our variable X and then we have an equation, for how much it changes as a function of time, so what we're going to do is we're going to say the value at the next time.

358
01:43:16,200 --> 01:43:23,610
Marisa Eisenberg: is equal to the value of the current time, plus the changes and that's basically what we're going to do we're going to add we're going to sort of take.

359
01:43:23,850 --> 01:43:33,900
Marisa Eisenberg: The value now and say I know it went up by five so i'm going to take the current value and add five to it and that tells me how money, I have at the next time step, basically, is the idea and so.

360
01:43:34,320 --> 01:43:43,410
Marisa Eisenberg: To make that a little more concrete, and so what we really are getting is a is a slope right So if you take the current value.

361
01:43:43,680 --> 01:43:54,450
Marisa Eisenberg: And you take the slope times the amount of time we're jumping to the next time step that gives you the note the change that happened between now and the next time so let's kind of visualize that a little bit so.

362
01:43:55,620 --> 01:44:03,330
Marisa Eisenberg: You can so basically what we're going to do is integrate or sum up all the values of the changes the X dt over time.

363
01:44:03,660 --> 01:44:12,840
Marisa Eisenberg: And so we we know what we're going to write down is some equation that says like we did with the SI our model says, you know dx dt.

364
01:44:13,470 --> 01:44:21,120
Marisa Eisenberg: is equal to whatever, so we have some equation for dx dt over time and then what we're going to do is we're going to say okay.

365
01:44:21,480 --> 01:44:28,950
Marisa Eisenberg: I know that I started with 999 several people and one infected person, so I know I started here.

366
01:44:29,370 --> 01:44:42,870
Marisa Eisenberg: let's say and and then i'm going to say my value of the number of susceptible people are in fact it or whatever it is my value of X at my current time, plus a little bit ahead so plus delta T.

367
01:44:43,290 --> 01:44:57,960
Marisa Eisenberg: Is my current value, plus the slope times the jump so that was going to give us the D, so you know dx dt times dt is going to give us our dx right are changing X and so.

368
01:44:58,830 --> 01:45:04,890
Marisa Eisenberg: Basically, if you want to visualize this what we're doing is we're if i'm here i'm taking the slope.

369
01:45:05,730 --> 01:45:19,710
Marisa Eisenberg: And then i'm projecting along the slope to say this little spot on the line is where I think the next value is going to be right, so I can calculate dx dt the slope, and then I can project, the.

370
01:45:21,780 --> 01:45:34,380
Marisa Eisenberg: slope to say okay here's where it is you can see here that if you make the jump the time jump he too big you'll be off right so it's kind of smooth if I made a small time job that was here.

371
01:45:35,130 --> 01:45:39,990
Marisa Eisenberg: I would be fine right it's it's still pretty close on anywhere in like this kind of region.

372
01:45:40,260 --> 01:45:55,560
Marisa Eisenberg: But when you go too far out if your time jump is too big you'll accrue a little bitty errors, you know what I mean do you see i'm kind of saying here so you're calculating it off of the slope so basically you're sort of saying Okay, I know here's the here's where I am now.

373
01:45:56,700 --> 01:46:07,560
Marisa Eisenberg: And here's where I the time i'm going to check next I can calculate the slope and say okay from the slope it's probably i'll be here if I make that jump too big, I might overshoot or undershoot.

374
01:46:07,770 --> 01:46:16,800
Marisa Eisenberg: But if you do a lot of small steps, and you calculate so basically what you would do is say Okay, I know i'm here I calculate for the next time step.

375
01:46:17,160 --> 01:46:27,360
Marisa Eisenberg: Then I say okay that's how many X I have I recalculate my slope I project forward you see what i'm saying so you you add the change recalculate your slope.

376
01:46:27,630 --> 01:46:37,650
Marisa Eisenberg: add the change recalculate your slope and by doing that you can make us like a list a history of where X was at all the times and as long as you always take small.

377
01:46:38,070 --> 01:46:42,210
Marisa Eisenberg: jumps then your slope will be decent decent enough now.

378
01:46:42,540 --> 01:46:54,900
Marisa Eisenberg: In reality, so i'm explaining this all as if we're just using one slope, in reality, the way that are in most modern languages now do it that that slope method is what's called the oilers method and it's fine but.

379
01:46:55,290 --> 01:47:02,220
Marisa Eisenberg: Or maybe it's trapezoidal, I guess, maybe it's probably travis legal so it's a little fancier but it's a very basic baby baby method that.

380
01:47:02,580 --> 01:47:08,520
Marisa Eisenberg: If I was mean I could have this code up together is as like a thing, there are way fancier methods now where they take.

381
01:47:08,910 --> 01:47:15,090
Marisa Eisenberg: Many derivatives, they don't just use the first derivative they take the slope and the acceleration and the you know, etc, etc.

382
01:47:15,390 --> 01:47:23,490
Marisa Eisenberg: And they they they you know you actually end up doing a Taylor series approximation if that's The thing that some of you may be familiar with, so the short version is.

383
01:47:24,870 --> 01:47:37,980
Marisa Eisenberg: Our won't just take a single slope and do this it will actually be way smarter it evaluates how much it's the the the trajectory has been changing and it'll actually adjust the timestamp.

384
01:47:38,250 --> 01:47:47,700
Marisa Eisenberg: to match, so that if the trajectory is wobbling a lot, it says oh I better take really small time steps to make sure that I capture this accurately and as the trajectory is pretty flat it's.

385
01:47:48,120 --> 01:47:51,750
Marisa Eisenberg: Probably safe to take a bigger time step because the slope is pretty flat.

386
01:47:51,960 --> 01:48:03,450
Marisa Eisenberg: And nothing much is happening and so um you know so it's it's a lot smarter than this, but this gives us a sense of kind of what the basic idea for how you would how you would solve a differential equation so.

387
01:48:03,690 --> 01:48:15,090
Marisa Eisenberg: What we're going to do, basically in this class is we're going to write down equations for dx dt and then we'll hand them off to the to our to the computer to actually solve them so.

388
01:48:16,500 --> 01:48:17,760
Marisa Eisenberg: we're going to.

389
01:48:19,230 --> 01:48:27,240
Marisa Eisenberg: Basically, so you can imagine, here we talked about basically you start with some initial value of X you calculate the change.

390
01:48:27,450 --> 01:48:35,880
Marisa Eisenberg: You calculate the new value of X you calculate the slope or the change again, and then you keep doing this, so that's a loop what i'm describing right you're calculating.

391
01:48:36,210 --> 01:48:46,440
Marisa Eisenberg: The change adding it to the thing calculating the change again adding it to the thing so there's a there's a loop process happening here, and so the odd solver that's built into our will.

392
01:48:46,830 --> 01:48:54,270
Marisa Eisenberg: run this loop for you and and it will tell it will spit out what happened to acts as a function of time and so.

393
01:48:55,830 --> 01:49:18,360
Marisa Eisenberg: Big basically um you handed a bunch of things and it calculates what X was doing from the dx D equations and then it returns to you an array of how how like what happened to acts as a function of time, and I think this is a little easier to.

394
01:49:19,770 --> 01:49:38,190
Marisa Eisenberg: See with actual live code, and so I want us to do a silly thing which is let's make up a model together and we're going to code it and write down some odd years for it and just so you can see what it does and how it works and all that kind of stuff so let me share.

395
01:49:40,050 --> 01:49:41,280
Marisa Eisenberg: My screen.

396
01:49:42,960 --> 01:49:43,800
We are again.

397
01:49:59,340 --> 01:49:59,760
Okay.

398
01:50:01,200 --> 01:50:02,700
Marisa Eisenberg: Alright, so now.

399
01:50:07,980 --> 01:50:18,060
Marisa Eisenberg: Okay, so this okay so up on the thing fair on the canvas site is a little template for how to.

400
01:50:19,290 --> 01:50:30,300
Marisa Eisenberg: How to run a differential equation model in our and i'm gonna just run that template first and then we're going to change it and and and do our own thing with it.

401
01:50:30,630 --> 01:50:44,550
Marisa Eisenberg: And so it requires a package called D solve and so, if you don't have that package already just go over here to packages and click install and then type D solve and then you can install it that way and.

402
01:50:45,720 --> 01:50:59,820
Marisa Eisenberg: So that dissolve package has all the routines that we need to be able to run the odd solver and it has a bunch of different odd solvers in it too um But OK so.

403
01:51:01,290 --> 01:51:02,730
Marisa Eisenberg: This little example.

404
01:51:03,930 --> 01:51:07,980
Marisa Eisenberg: is actually like just a really simple, let me just run this real quick so.

405
01:51:13,110 --> 01:51:14,190
Are we doing here buddy.

406
01:51:16,830 --> 01:51:33,780
Marisa Eisenberg: Go here we go okay i'm Okay, so this is just a little exponential growth simulation oh I forgot that I did in this OK, this is too fancy we're going to do something simple, let me make a new can hear you let's do this okay so.

407
01:51:33,930 --> 01:51:37,410
Morgan Caitlin Byrd: I want us to stretch guys, mark you have a message in the chat.

408
01:51:37,440 --> 01:51:39,720
Morgan Caitlin Byrd: It says oh solve is not found.

409
01:51:40,050 --> 01:51:41,220
Marisa Eisenberg: Oh yes, okay so.

410
01:51:41,250 --> 01:51:43,710
Marisa Eisenberg: Probably you need to install that package.

411
01:51:43,710 --> 01:51:56,190
Marisa Eisenberg: So if you haven't installed dissolve yet just go over here to packages and then click install and then Type II solve and then you click install and it should hopefully install it did it work.

412
01:51:58,170 --> 01:51:58,890
Marisa Eisenberg: Okay, good.

413
01:52:00,960 --> 01:52:16,230
Marisa Eisenberg: If you Okay, if you get an error when it installs dissolve you might just make sure that it's also in like that you've clicked install dependencies dissolve relies on a bunch of other packages, and so it doesn't have those you might need to install those two.

414
01:52:18,330 --> 01:52:18,630
yeah.

415
01:52:19,890 --> 01:52:25,950
Marisa Eisenberg: And then, if it's still not working, then when we pause to kind of like work on things you and I can try and debug a little bit.

416
01:52:29,160 --> 01:52:44,280
Marisa Eisenberg: yeah Okay, so what was I saying oh yes okay so let's start with just this part, so you want to load the salt and then what we're going to do I want us just to okay good okay excellent and.

417
01:52:44,700 --> 01:52:55,710
Marisa Eisenberg: Alright, so I want us to write a function for our model and then we're going to make up a model, this is like a funny random model that's just in here but we're going to make our up, so the way that.

418
01:52:56,340 --> 01:53:07,410
Marisa Eisenberg: d solve it has a very specific format for how the function is built, that it wants to read it, so when you write down a model function.

419
01:53:08,280 --> 01:53:15,810
Marisa Eisenberg: The first input, you can name it anything you want you could call this cat whatever, but it has to be the current time.

420
01:53:16,770 --> 01:53:25,560
Marisa Eisenberg: Is what that so we're going to make a function that basically says this function is going to take in the time the values so like.

421
01:53:25,890 --> 01:53:30,690
Marisa Eisenberg: If we're thinking of an svr model it's going to take in the number of susceptible is infected and recovers.

422
01:53:30,990 --> 01:53:47,340
Marisa Eisenberg: The current time, and whatever parameter values, we need to like the values of beta and gamma and all that kind of stuff and it's going to return and the dx dts the rates of change for our system so we're basically going to write down some model equations so and.

423
01:53:48,450 --> 01:53:54,420
Marisa Eisenberg: I want to just get us sort of thinking about so someone usually we think of something silly so what's like a fun.

424
01:53:54,690 --> 01:54:04,020
Marisa Eisenberg: silly topic that we could model I don't know it doesn't have to be public health, it could be we've had mythological creatures we've had all kinds of brands with something fun that we could model.

425
01:54:07,260 --> 01:54:07,590
You know.

426
01:54:10,500 --> 01:54:11,820
Marisa Eisenberg: dragons turning into.

427
01:54:13,770 --> 01:54:20,580
Marisa Eisenberg: Something whatever and yeah This could be a work of fiction anyone have a favorite work of fiction how about let's do that.

428
01:54:24,210 --> 01:54:26,760
Marisa Eisenberg: it'd be movie or book anything.

429
01:54:27,810 --> 01:54:28,740
Marisa Eisenberg: This is silly topic.

430
01:54:31,920 --> 01:54:32,850
Marisa Eisenberg: I think we'd all be familiar.

431
01:54:34,410 --> 01:54:36,030
Nicolle Krebs: With Harry Potter.

432
01:54:37,710 --> 01:54:43,890
Marisa Eisenberg: yeah great wizards okay great I love it Okay, so we could model um maybe we model.

433
01:54:45,120 --> 01:54:46,710
Marisa Eisenberg: The flow into the.

434
01:54:46,710 --> 01:54:52,410
Marisa Eisenberg: Houses so like how people get sorted when they first everybody familiar with Harry Potter so you show.

435
01:54:52,410 --> 01:54:52,680
Nicolle Krebs: up.

436
01:54:53,070 --> 01:55:02,340
Marisa Eisenberg: i'm sure this is like what are everyone definitely knows this, but anyway, you show up yeah okay you show up and you don't know anything and then you're sorted into Griffin door half a.

437
01:55:02,550 --> 01:55:18,750
Marisa Eisenberg: Griffin door hubble puff Raven club or slithering right, and so we less model how people get sorted into the different things so okay so so that's good so so we're gonna need some variables, for what state each kid Is it right, so we will need.

438
01:55:19,890 --> 01:55:20,460
Marisa Eisenberg: So our.

439
01:55:24,390 --> 01:55:40,770
Marisa Eisenberg: Have X is going to be a column or a vector with different how many people are in each different possible states so maybe what we're going to say is so i'm just gonna leave a comment here so X will be all are possible states so maybe that's unsorted.

440
01:55:42,420 --> 01:55:43,830
Marisa Eisenberg: And it's Griffin door.

441
01:55:45,120 --> 01:55:46,020
Marisa Eisenberg: Harmful puff.

442
01:55:47,190 --> 01:55:48,360
Marisa Eisenberg: slither in.

443
01:55:49,470 --> 01:55:50,370
Marisa Eisenberg: And Raven cloud.

444
01:55:52,110 --> 01:55:52,500
Marisa Eisenberg: So.

445
01:56:12,300 --> 01:56:15,510
Marisa Eisenberg: Oh, I got booted off and.

446
01:56:16,590 --> 01:56:20,070
Marisa Eisenberg: yeah, hopefully, can you hear me now right okay.

447
01:56:22,860 --> 01:56:24,270
Marisa Eisenberg: You back thank.

448
01:56:25,980 --> 01:56:26,730
Marisa Eisenberg: sharing my screen again.

449
01:56:28,860 --> 01:56:29,580
Marisa Eisenberg: Okay.

450
01:56:34,380 --> 01:56:43,110
Marisa Eisenberg: If history is any example it's possible i'm about to get kicked off in succession, a couple of times so i'm sorry that happens.

451
01:56:44,100 --> 01:56:56,670
Marisa Eisenberg: When when our Internet starts to barf it often like bars quickly for a few times and then kind of gets itself back together so we'll see how it goes and okay so um alright so we're going to have.

452
01:56:57,570 --> 01:57:13,950
Marisa Eisenberg: These might be, are there any other states that we need for students to be in they haven't been sorted yet and then it's these four right I think that's basically it so um okay so let's write it out so let's say that the first value in X is going to be the number of people.

453
01:57:15,750 --> 01:57:25,140
Marisa Eisenberg: Who are unsorted so actually the way around so i'll call that unsorted is unsorted i'll change it to that except what so I often find.

454
01:57:25,530 --> 01:57:38,730
Marisa Eisenberg: You could write your whole equations just in terms of you know X one X two and all of that, but I haven't find just to keep things a little more readable it's often convenient to rename them, so the.

455
01:57:39,390 --> 01:57:54,180
Marisa Eisenberg: The OD function, the way that dissolve works, you have to put all your states into a single column list, and you can't you can't have them be separate variables or anything like that, so it all has to be in one X.

456
01:57:54,720 --> 01:58:02,700
Marisa Eisenberg: vector and then I often find for readability it's easier if I then rename all the elements of the X factor into the things I know they are.

457
01:58:02,850 --> 01:58:15,090
Marisa Eisenberg: So that when I read the equations they make a little more visual sense so let's say the first element of the X factor is going to be the number of people who are currently unsorted and the second element of our X factor is going to be.

458
01:58:16,830 --> 01:58:24,810
Marisa Eisenberg: Griffin door whatever reason Griffin door whether it's a very Griffin door thing that they would go first but that's fine so X have to I guess will be.

459
01:58:25,380 --> 01:58:48,450
Marisa Eisenberg: Griffin doors and then hustle puffs will be X of three and then slither in will be X of four and Raven claw will be X of five okay so we've got our various states that the students could be in and and then.

460
01:58:50,580 --> 01:58:58,770
Marisa Eisenberg: And then so that's that and then, what we need now is equations for the rates of change that they would happen have that so.

461
01:58:59,460 --> 01:59:06,900
Marisa Eisenberg: We would probably need some stuff to go into the parameters vector here but we'll get into that in a second so let's start writing out some stuff so D.

462
01:59:07,740 --> 01:59:15,360
Marisa Eisenberg: You dt we're going to say, the rate of change for the unsorted individuals is going to be do you dt and so.

463
01:59:16,050 --> 01:59:27,420
Marisa Eisenberg: unsorted individuals can only leave they there's I guess there's new unsorted individuals that come each year right, and then they are sorted into their houses right, so we have sort of the like.

464
01:59:28,680 --> 01:59:32,250
Marisa Eisenberg: New kids rate right and then minus.

465
01:59:33,780 --> 01:59:37,980
Marisa Eisenberg: Like sorting rage times unsorted.

466
01:59:40,170 --> 01:59:47,640
Marisa Eisenberg: should be something like this, so we're going to define what these are in just a second, but the rate of change for the unsorted kiddos.

467
01:59:47,910 --> 01:59:58,860
Marisa Eisenberg: I to be the rate at which new kids come to hogwarts right minus the rate at which the unsorted kiddos get sorted right, so we could make a.

468
01:59:59,370 --> 02:00:03,540
Marisa Eisenberg: We could make a variable for sorting hat activity or something to if we wanted to.

469
02:00:04,110 --> 02:00:09,120
Marisa Eisenberg: You know where the sorting hat, maybe it's you know, maybe the sorting rate, for instance.

470
02:00:09,300 --> 02:00:20,400
Marisa Eisenberg: Only happens once a year, so it's like on for certain types of time and then it's off, and you know if you don't get sorted, by then, then you're stuck being unsorted for the year or whatever, but let's just suppose it's constant and.

471
02:00:20,970 --> 02:00:29,130
Marisa Eisenberg: This is going to be a little silly because what this is going to mean is that new kids come in all the time right, this is a constant rate of of new kids coming in.

472
02:00:29,400 --> 02:00:40,050
Marisa Eisenberg: And that's also not really true right like, of course, new kids come to hogwarts once a year there's a clear, Sir, like sort of annual pattern, but whatever let's just go with that so new heads are going to come in.

473
02:00:40,380 --> 02:00:49,080
Marisa Eisenberg: And then they're going to get sorted and so we're going to have you know i'm actually going to just shorten these to make my life simpler.

474
02:00:51,420 --> 02:00:52,350
Marisa Eisenberg: This.

475
02:00:53,520 --> 02:01:03,180
Marisa Eisenberg: And then that makes it kind of easier to follow and okay so we've got same meanings unsorted Griffin door have a boss leather and Raymond claw and.

476
02:01:03,630 --> 02:01:18,630
Marisa Eisenberg: And now, so paramus have one we're going to have that the new kids so new kids is going to be the first parameter so we'll have to define what number that is and sorting rate will be the next parameter.

477
02:01:20,160 --> 02:01:20,550
oops.

478
02:01:22,770 --> 02:01:40,350
Marisa Eisenberg: Okay, and so maybe that's the equation for the unsorted kiddos and we can add some more stuff to it, but now once they get sorted, they have to go somewhere right so some fraction of these guys are going to go into Griffin door humble puffs leather in Raven cloud right and so.

479
02:01:41,400 --> 02:01:52,230
Marisa Eisenberg: Maybe we should think through kind of so maybe the DG dt equation, and so new kids can get sorted and then they can show up and Griffin door and.

480
02:01:52,530 --> 02:02:00,240
Marisa Eisenberg: I don't know what fraction of I feel like in the books it felt like mostly people were helpful puffs I feel like that was the most common class I don't know other people feel that way.

481
02:02:00,660 --> 02:02:12,120
Marisa Eisenberg: But I feel like let's say 20% of kids end up in grifter I have no real clue like what it was, or if they're about even or what we're going to maybe we'll make them all about so let's say 20%.

482
02:02:12,990 --> 02:02:22,770
Marisa Eisenberg: Of kids so let's we could give this a name, we could call this you know, like s Griffin door, you know, like fraction Griffin door or something like that.

483
02:02:23,190 --> 02:02:36,180
Marisa Eisenberg: and which will make it a maybe 20% we could play with different things so what's it say that times this is going to be the fraction so everybody leaves at this rate.

484
02:02:36,930 --> 02:02:42,870
Marisa Eisenberg: But then the fraction of them that end up in Griffin door is this right so we're gonna have to make sure that.

485
02:02:43,170 --> 02:02:58,590
Marisa Eisenberg: It all adds up to one, so that you don't end up with more kids going somewhere than they should so let's just do all the houses really quick and then we'll come back so okay so next one let's do huff and puff so the hubble puff fraction.

486
02:03:00,420 --> 02:03:16,290
Marisa Eisenberg: And the throne thing and then the slither in fraction and then we actually don't need a Raven cloth fraction because we can just say one minus oops wow That was a minus one minus.

487
02:03:17,820 --> 02:03:28,140
Marisa Eisenberg: frack T minus frack age minus s and the remaining people must have been sorted into Raven clock because I have to go someplace.

488
02:03:29,160 --> 02:03:44,400
Marisa Eisenberg: Okay, so that's the fractions of who goes where and we could stop here, and this will be a perfectly fine model everybody goes into maybe eventually everybody graduates right so there's got to be a Grad rate.

489
02:03:46,140 --> 02:03:54,660
Marisa Eisenberg: And so we'll have to make all these parameters in just a second, but so everybody in in Griffin door, you know they at some at some rate they graduate.

490
02:03:54,990 --> 02:04:13,980
Marisa Eisenberg: They it's a kind of I mean this is morbid but like whatever I guess they don't really die, but like bad things can happen, and this is an intense book and it series in that in that way, but so maybe students can graduate they could transfer they could go to you know what's it called.

491
02:04:15,420 --> 02:04:16,800
Marisa Eisenberg: I don't remember all the other schools.

492
02:04:16,830 --> 02:04:19,020
Marisa Eisenberg: But photons, I think, or something and.

493
02:04:19,950 --> 02:04:21,780
Marisa Eisenberg: And it's anyone remember all the other school.

494
02:04:22,920 --> 02:04:23,460
Marisa Eisenberg: anyway.

495
02:04:24,450 --> 02:04:25,800
Marisa Eisenberg: Wrong yeah.

496
02:04:27,750 --> 02:04:37,110
Marisa Eisenberg: They can transfer out so let's say let's say nobody transfers in either just to make our lives, simple, are they do, they show up as unsorted so so let's say transfer rate.

497
02:04:38,970 --> 02:04:40,170
rate will call it that.

498
02:04:42,330 --> 02:04:57,990
Marisa Eisenberg: And so they could leave by transferring and and then because it's Harry Potter we should do something more weird to so everybody can either graduate put all the ones, so the have a boss can also graduate and they can also transfer out and.

499
02:05:00,450 --> 02:05:09,120
Marisa Eisenberg: slither ins can also graduate in a row, but let's do some other things, so they could also maybe they can also go join the.

500
02:05:09,600 --> 02:05:18,000
Marisa Eisenberg: Death eaters or something right like they could they could leave to join the death eaters and they quit school and they're going to go during the death eaters or we could um.

501
02:05:18,450 --> 02:05:21,960
Marisa Eisenberg: let's do something more weird What if i'm students could.

502
02:05:22,650 --> 02:05:27,600
Marisa Eisenberg: steal one another, from their house to from the other House like I could recruit.

503
02:05:27,810 --> 02:05:42,570
Marisa Eisenberg: By was a Griffin door I could recruit a hub off and be like I leave the hubble buffs come to Griffin door is better right so let's suppose that was a thing just for kicks will put a little bit of that so let's say that I don't know Griffin doors can recruit recruit helpful puffs.

504
02:05:44,040 --> 02:05:47,970
Marisa Eisenberg: What but suppose that today, so, then you could have an A.

505
02:05:49,170 --> 02:05:50,820
Marisa Eisenberg: recruit Ray.

506
02:05:52,200 --> 02:06:00,270
Marisa Eisenberg: Times Griffin door times couple puffs so basically what we're saying is that if a Griffin door interacts with the huff and puff.

507
02:06:00,630 --> 02:06:12,030
Marisa Eisenberg: there's some possibility that they could recruit that huff and puff over to being a Griffin door and, and so they would leave huff and puff and join Griffin door and.

508
02:06:12,510 --> 02:06:18,120
Marisa Eisenberg: What other recruitment well how about let's have some some other what other directions and he have anybody have any.

509
02:06:18,480 --> 02:06:27,480
Marisa Eisenberg: should maybe Griffin doors could turn to the dark side they could go become slithering we could I don't know whatever we'll put a couple of these in here yeah just for kicks so let's say that.

510
02:06:29,280 --> 02:06:33,450
Marisa Eisenberg: Griffin doors could become slither in.

511
02:06:35,430 --> 02:06:45,600
Marisa Eisenberg: will give everybody, the same recruitment rate I don't know if we actually well whatever we'll just go here vendors could become slither in if they interact with the slithering.

512
02:06:48,210 --> 02:06:57,660
Marisa Eisenberg: Well it's gonna get really complicated well just let Griffin doors recruit help us this isn't it that's fine Okay, so we have a whole bunch of parameters let's make these parameters really quick so we've got.

513
02:06:58,260 --> 02:07:05,700
Marisa Eisenberg: i'm going to actually not make the fractions into parameters, just to make our lives, a little simpler let's say it's a fixed 20% let's say.

514
02:07:06,150 --> 02:07:16,350
Marisa Eisenberg: 30% are helpful puffs and slither ins are also 20% and then we'll just do that so, then we can replace this to I mean whatever we could add, but just to.

515
02:07:17,700 --> 02:07:24,870
Marisa Eisenberg: fill it in with the exact things that we did okay there we go now we have fewer parameters so sorting rage Grad rate.

516
02:07:27,060 --> 02:07:29,910
Marisa Eisenberg: is going to equal is that's going to be our third parameter.

517
02:07:31,590 --> 02:07:32,790
Marisa Eisenberg: The transfer rate.

518
02:07:36,450 --> 02:07:44,550
Marisa Eisenberg: Is the fourth parameter I can actually drop transfers it's fine, we can just lump it in with graduation just makes it too long.

519
02:07:46,740 --> 02:07:54,990
Marisa Eisenberg: Okay, and then the recruitment rate is the only thing left so recruitment, we can add more recruitment if we think this is going to do something interesting maybe I will.

520
02:07:56,730 --> 02:07:58,560
Marisa Eisenberg: Put a little more what the heck.

521
02:08:00,660 --> 02:08:03,240
Marisa Eisenberg: let's say you can leave Griffin door and become a slither in.

522
02:08:06,030 --> 02:08:11,490
Marisa Eisenberg: And if you do that, you end up in the room.

523
02:08:15,870 --> 02:08:27,630
Marisa Eisenberg: And then let's suppose that you can leave maybe you wise up and eventually you leave whatever solutions are also offer I don't know the whole House thing, I think, but anyway.

524
02:08:28,590 --> 02:08:37,710
Marisa Eisenberg: You eventually leaves with her in and you become either a Raven cloth or a half a half maybe let's say so slither in.

525
02:08:39,210 --> 02:08:39,660
and

526
02:08:41,610 --> 02:08:47,970
Marisa Eisenberg: You can call and hop off can do this, and so you leave here and it's a.

527
02:08:49,410 --> 02:09:05,880
Marisa Eisenberg: Say 30% of the time you end up a Raven claw and the other 70% of the time you end up a pop off Okay, so now we have this like complicated network right so just to like refresh what we've done so.

528
02:09:06,240 --> 02:09:14,850
Marisa Eisenberg: You can be sorted into a house, you can graduate, but we also have this funny thing now where we've got Griffin doors.

529
02:09:16,470 --> 02:09:25,680
Marisa Eisenberg: hubble puffs slither ins and Raven claws and Griffin was it helpful pups can become Griffin doors.

530
02:09:26,280 --> 02:09:33,750
Marisa Eisenberg: Griffin doors can become slither ends and then slither ends return to either being a hover above or a Raven claw.

531
02:09:34,140 --> 02:09:42,960
Marisa Eisenberg: And that's So you can see from this that people are going to end up becoming mostly Raven claws right, because once you're a Raven claw there's no way out.

532
02:09:43,260 --> 02:09:52,170
Marisa Eisenberg: And you know so that's just something we can be aware of, we can change it later I just making this up to give us something to little do something interesting so okay.

533
02:09:52,530 --> 02:10:03,510
Marisa Eisenberg: So does that make sense, everybody we've got what we've got in our equations here they're very silly, but do you see kind of what we're doing, I just wanted to give us a way to see like sort of.

534
02:10:05,040 --> 02:10:10,320
Marisa Eisenberg: Oh yeah here hang on you, you can rather than you typing I don't I do this.

535
02:10:15,750 --> 02:10:23,880
Marisa Eisenberg: No way everybody has if you need this live Now you can you can yeah That way, you can kind of see what we've got um.

536
02:10:24,660 --> 02:10:29,550
Marisa Eisenberg: Okay, so we've got our new kids come in, they get sorted.

537
02:10:30,120 --> 02:10:35,310
Marisa Eisenberg: When they get sorted different fractions of them go into the different houses eventually they graduate.

538
02:10:35,610 --> 02:10:44,430
Marisa Eisenberg: Normally, that would be sort of all there is to it, and that would be fine, but we have this funny option, where people can recruit each other into different houses and that's sort of the last thing okay.

539
02:10:45,120 --> 02:10:56,160
Marisa Eisenberg: So now we've got our parameters our model equations all this stuff and then we're going to define dx dt to be the.

540
02:10:56,730 --> 02:10:59,880
Marisa Eisenberg: combination of all of these rates of change so we're going to.

541
02:11:00,270 --> 02:11:08,550
Marisa Eisenberg: make a big list of all these rates of change, make sure to keep it in the same order that you did your original state variables otherwise you'll be plugging in.

542
02:11:08,820 --> 02:11:19,290
Marisa Eisenberg: The rate of change for Griffin doors into this number of slither ends, etc, etc, so you got to keep them in the same order, because the computer doesn't understand that X one is.

543
02:11:19,860 --> 02:11:33,600
Marisa Eisenberg: unsorted and next to his Griffin door if you plug in the Griffin door rate of change, first, it will just use this for the unsorted kids rate of change right it doesn't know that they're linked to this way so.

544
02:11:35,040 --> 02:11:36,450
Marisa Eisenberg: So if we go like this.

545
02:11:37,560 --> 02:11:50,040
Marisa Eisenberg: Oh, I forgot to put this doesn't make sense, DDT i'm sorry everybody, I was used to reading math it's going to freak out about this, the the slashes it will interpret this divides sorry all right, you know so don't do that.

546
02:11:51,390 --> 02:11:59,730
Marisa Eisenberg: I just I just was writing it as as an equation, but we need this to be a variable so we're going to say, do you dt the variable is this.

547
02:12:00,780 --> 02:12:06,420
Marisa Eisenberg: Each of these is the rate of change for each of the variables and we're going to just put these into our list.

548
02:12:14,220 --> 02:12:19,920
Marisa Eisenberg: Okay, and now we ought to have something that we can at least save as a function so let's try.

549
02:12:21,120 --> 02:12:24,090
Marisa Eisenberg: It does work it is does successfully make a function.

550
02:12:25,110 --> 02:12:38,850
Marisa Eisenberg: Did everybody get a function out of this if you skip all the recruitment rate junk if you're typing just don't worry about it it's fine you just need some set of equations it doesn't even really matter what, but hopefully you got a function that works and.

551
02:12:40,020 --> 02:12:40,680
Marisa Eisenberg: And then.

552
02:12:41,790 --> 02:12:44,880
Marisa Eisenberg: let's see if we can run it.

553
02:12:51,060 --> 02:13:00,450
Marisa Eisenberg: So if we give this so for us to run this model, we need the current time, which we're not we're not actually really using in here but anyway, the current time.

554
02:13:00,840 --> 02:13:17,610
Marisa Eisenberg: The values for the axes and the values for the parameters, so we need to for us to be able to run this function, we need to to be able to give those things value so current so let's say initial X is going to be.

555
02:13:19,740 --> 02:13:24,840
Marisa Eisenberg: Well let's say we start with all unsorted kids so we start with 1000.

556
02:13:26,370 --> 02:13:37,470
Marisa Eisenberg: kids and none of them are in houses, so we start with this right, so the number of unsorted kids is going to be 1000 and then zero for everything else and.

557
02:13:38,640 --> 02:13:40,590
Marisa Eisenberg: yeah and then the parameters.

558
02:13:43,920 --> 02:13:51,270
Marisa Eisenberg: We need the new kids I don't know what to put for these i'm just going to make something up um the new kids rate as a.

559
02:13:52,770 --> 02:14:07,710
Marisa Eisenberg: sorting rage point to graduation rate point it's like these actually small 5.43 years and then the recruitment rate.

560
02:14:09,330 --> 02:14:13,200
Marisa Eisenberg: will be it's let's make it fairly unlikely how about that okay.

561
02:14:14,220 --> 02:14:21,210
Marisa Eisenberg: This might be too small, I have no idea but anyway okay so here's some initial X some parameters, so now, you can see we've got two lists.

562
02:14:21,540 --> 02:14:34,500
Marisa Eisenberg: The initial values for the state variables and the parameters for the system and now if we run model let's say a time zero for the initial X and our parameters.

563
02:14:37,350 --> 02:14:49,770
Marisa Eisenberg: Okay, so you can see what happens if you run the model function with the initial number of people and the parameter values that I just totally made up out of nowhere and.

564
02:14:50,760 --> 02:14:58,860
Marisa Eisenberg: we'll talk more later about how you would actually get real parameters, but um oh we're at the break time okay we'll finish this and then we'll take a break and.

565
02:14:59,580 --> 02:15:01,950
Marisa Eisenberg: If you run this what you get is.

566
02:15:02,340 --> 02:15:16,530
Marisa Eisenberg: These are the rates of change, so what this is saying is that at the next time step, you know we're losing a bunch of unsorted kids we started with 1000 unsorted kids and they're getting sorted right so at the next time step they're getting sorted.

567
02:15:17,010 --> 02:15:25,560
Marisa Eisenberg: We didn't really define how big a time step was so I don't know if that's an hour or a day, think about that later, but, at the next time that 200 have.

568
02:15:26,940 --> 02:15:32,130
Marisa Eisenberg: been sorted and those 200 kids have ended up in Griffin door huff and puff.

569
02:15:33,000 --> 02:15:47,580
Marisa Eisenberg: What is next slither in and Raven cloud at these numbers so that's how many have ended up in all of these different places and and so now what we can do is, we can actually run the model and for for a little more time so yeah yes, where.

570
02:15:50,940 --> 02:16:00,810
Marisa Eisenberg: I don't make a mess out of it so let's say we're going to run the model from zero to 100 times steps and then what we're going to do.

571
02:16:02,280 --> 02:16:09,210
Marisa Eisenberg: So this is going to be simulation will call it that, and so we're going to run one simulation this odd.

572
02:16:22,080 --> 02:16:22,380
Marisa Eisenberg: hmm.

573
02:16:24,270 --> 02:16:34,500
Marisa Eisenberg: I don't have the chat anymore, but I realized the last line that I pasted in the chat is wrong, so it was just copy pasted from the old file, so the names in it are all wrong so anyway we'll fix them just a second.

574
02:16:36,090 --> 02:16:50,910
Marisa Eisenberg: Okay does everybody did everybody get some kind of set of equations into a function kinda sorta ish and it's kind of in there, it doesn't have to be working yet, but just to make sure everybody kind of was able to copy that in.

575
02:16:52,890 --> 02:17:00,060
Marisa Eisenberg: Oh yeah yeah the last line had a K in it that isn't a thing, so the yeah let me, let me share my screen awesome.

576
02:17:01,200 --> 02:17:04,410
Marisa Eisenberg: Okay, so good this.

577
02:17:06,150 --> 02:17:13,770
Marisa Eisenberg: Real quick so when we ran it before I copied this in, and when I copied it I had borrowed the last line from here.

578
02:17:15,150 --> 02:17:21,840
Marisa Eisenberg: And so I had just copied this in here and then changed it to say simulation instead of.

579
02:17:23,640 --> 02:17:35,670
Marisa Eisenberg: This and I think, maybe I started to write initial acts or something like that, but this wasn't you know if you tried to run this this line won't work because it's referring to all these things that are from this other code that's posted on the canvas site so.

580
02:17:36,480 --> 02:17:50,490
Marisa Eisenberg: The last line should not have run, but the rest of it, hopefully, at least, you could get hopefully everybody was able to get like a model function like so that they were able to make a function called model and that that turned into something.

581
02:17:52,950 --> 02:17:55,590
Marisa Eisenberg: oops did I just delete everything yes.

582
02:17:56,670 --> 02:17:58,650
Marisa Eisenberg: I do, that oh no I just closed the model.

583
02:18:00,690 --> 02:18:01,290
Marisa Eisenberg: Okay.

584
02:18:02,310 --> 02:18:10,950
Marisa Eisenberg: Come back here you oh yeah, this is actually a thing I should mention if you're one nice thing about our studio is that it tries to help you organize so if you're making a function.

585
02:18:12,120 --> 02:18:23,820
Marisa Eisenberg: You know there's a lot in here this function is kind of big and, if you want to look at your overall code without the details there's a little teeny arrow right here just to the right to the left of the function first line.

586
02:18:24,270 --> 02:18:33,360
Marisa Eisenberg: And if you click it, it will hide it puts this little sort of purple thing, and it will hide the contents of the function seeds Okay, I made some function called model.

587
02:18:33,690 --> 02:18:41,460
Marisa Eisenberg: I don't need to know details, you know and it just lets you kind of shorten your code, so you don't have to look at it, over time, if you click the little purple guy it'll come back.

588
02:18:41,820 --> 02:18:53,460
Marisa Eisenberg: And when you can see, all of the content but OK So hopefully everybody was able to load the library dissolve let me clear all my memory here and and.

589
02:18:54,630 --> 02:19:08,070
Marisa Eisenberg: So hopefully you're able to load the library dissolve and then you can run like load the function, so if you click run on this little chunk here down to here, you should be able to load the function into memory like that.

590
02:19:10,200 --> 02:19:15,600
Marisa Eisenberg: And you don't have to do we made this may be too complicated, I probably should have not done all this recruitment.

591
02:19:15,720 --> 02:19:23,250
Marisa Eisenberg: into different houses nonsense like that's kind of to ridiculous, we could have just sorted them and then have them graduate and that would really have been fine.

592
02:19:23,580 --> 02:19:33,240
Marisa Eisenberg: But anyway, okay so we've got this little function and then what we're going to do we made this initial number of students and they're all going to be unsorted to begin with.

593
02:19:33,690 --> 02:19:47,100
Marisa Eisenberg: And then we made up some numbers for the parameters and so these are going to get filled in right so we're going to we're going to if we call model zero initial X parameters here, then what it's going to do with Sam.

594
02:19:48,960 --> 02:20:01,560
Marisa Eisenberg: Is it's going to use zero as the time value it's going to use the initial acts as the X value, which means it's going to say, the number of unsorted students is X of one.

595
02:20:01,920 --> 02:20:08,550
Marisa Eisenberg: Which is going to be 1000 the number of Griffin doors is X two, which is going to be zero.

596
02:20:09,030 --> 02:20:21,300
Marisa Eisenberg: You know how whole puffs leather and Raven claws are all zero, and then the parameters these numbers are going to be what it plugs in here so programs one if we call the model here.

597
02:20:21,930 --> 02:20:39,540
Marisa Eisenberg: This parameter is is going to go into the function parameter one will refer to this point, oh five firms to will be this point to etc, etc, so we'll when we call the model like this, so we're we're running this function and we're basically saying run this code.

598
02:20:41,310 --> 02:20:53,160
Marisa Eisenberg: Between the brackets here but replace X with initial X and replace parameter with parameters right and that's basically.

599
02:20:53,640 --> 02:21:04,350
Marisa Eisenberg: What we're doing right so we're saying run the code that's in this bracket except replace this with the inputs that were given so initial X parameters and the time which is zero but.

600
02:21:05,130 --> 02:21:15,150
Marisa Eisenberg: So, now that we have this little model function, we can now run the O D, so this is going to be a function calling a function it's gets a little onion Larry so.

601
02:21:15,660 --> 02:21:28,710
Marisa Eisenberg: O D is a function that's built into the default package and what you hand O D, the inputs that it takes are the initial X values the times that you want it to simulate for so not just the initial time.

602
02:21:29,070 --> 02:21:36,480
Marisa Eisenberg: But let's say 100 times steps, so I just made a variable here called times and I said let's simulate from zero to 100 so.

603
02:21:37,620 --> 02:21:47,610
Marisa Eisenberg: we're going to say zero to 100 so this little times guy that's actually run that, so now we have a little list of 012345 etc, all the way up to 100.

604
02:21:48,270 --> 02:21:55,110
Marisa Eisenberg: The function we're going to use so if the inputs, one of the inputs that it takes is a function itself, so this is a function.

605
02:21:55,380 --> 02:22:10,650
Marisa Eisenberg: Taking a function as the input right, so it starts to get like there's layers going on right, and then it also takes in the parameters for the model so those are the inputs, that this thing takes so now if we run this code.

606
02:22:11,310 --> 02:22:19,950
Marisa Eisenberg: And you should get a data frame called simulation let me put this in the chat so that hopefully everybody can run it.

607
02:22:22,350 --> 02:22:32,010
Marisa Eisenberg: So if you run that you should get a data frame and, if we look at that here's what is so the columns are are the first column here is the time.

608
02:22:32,550 --> 02:22:42,330
Marisa Eisenberg: So, remember, we ran it from zero to 100 and so, if you scroll down, and it goes from zero to 100 she could make the WHO, I can make the.

609
02:22:42,990 --> 02:22:52,080
Marisa Eisenberg: font size bigger wow okay that's very large, but so now, if you scroll down and goes from zero to 100 and then, if you go back up.

610
02:22:52,530 --> 02:23:04,590
Marisa Eisenberg: And the the columns here are each of our X variables right, so the first call this well the first column is the time, the second column is our unsorted.

611
02:23:04,920 --> 02:23:12,690
Marisa Eisenberg: kids right, so it starts at 1000 and then they they start to get sorted, as each time step goes on, and so it drops down.

612
02:23:12,990 --> 02:23:23,280
Marisa Eisenberg: And then, our second column is the number of Griffin doors and number of huddle puffs the number of slither ends and the number of rain in class and so that's what the the this.

613
02:23:23,850 --> 02:23:31,260
Marisa Eisenberg: O D function returns and we're going to save that as as the variable simulation which is this data frame here so.

614
02:23:32,130 --> 02:23:39,660
Marisa Eisenberg: let's plot this and just see what it looks like so there's a you could plot this in a couple different ways there's a convenient function called map plot.

615
02:23:39,990 --> 02:23:54,720
Marisa Eisenberg: That lets you plot multiple variables at once, so what we're going to do is do matt cloth simulation run a plot all the rows we're going to take the first column and that's what we're going to put on the X axis and then on the y axis we're going to say simulation.

616
02:23:56,160 --> 02:24:00,990
Marisa Eisenberg: we're going to take all the rows and we'll do columns to through.

617
02:24:03,360 --> 02:24:11,730
Marisa Eisenberg: Six yes so weird numbering system but it's 123456 so it's actually two through six.

618
02:24:12,990 --> 02:24:13,890
Marisa Eisenberg: let's put that.

619
02:24:15,300 --> 02:24:16,020
Marisa Eisenberg: It is.

620
02:24:17,400 --> 02:24:21,390
Marisa Eisenberg: OK so matt plot by default does a kind of silly thing.

621
02:24:21,960 --> 02:24:39,030
Marisa Eisenberg: As the as the as the plot it plus instead of in like dots or x's or squares it plots with numbers, which is a little bit ridiculous looking, but this is the number of unsorted kids you can see it starts at 1000 and then it drops off as they get sorted.

622
02:24:40,680 --> 02:24:46,710
Marisa Eisenberg: And the time is down here at the bottom and and then we can give it some labels.

623
02:24:47,790 --> 02:24:48,480
yeah.

624
02:24:50,370 --> 02:24:53,040
Marisa Eisenberg: Oh yes, okay so.

625
02:25:05,190 --> 02:25:05,580
OK.

626
02:25:07,860 --> 02:25:22,500
Marisa Eisenberg: OK, so the there are it starts with 1000 unsorted kids and then it looks like they get sorted and it looks like most of them end up in.

627
02:25:23,160 --> 02:25:33,150
Marisa Eisenberg: Raven clock because that was the last one, and it went what Griffin door helpful, but they mostly end up in Raven plot and help us is what this looks like right.

628
02:25:33,600 --> 02:25:47,730
Marisa Eisenberg: And, and so Griffin door and slither in no way to was Griffin door and lie and say, let me get my county right one, two, yes to his Griffin door, three, four or five Okay, so they mostly end up in Griffin door and Raven flaw according to this.

629
02:25:49,440 --> 02:26:02,400
Marisa Eisenberg: And so you know what our that's what they end up in according to this thing and it's an interesting thing actually you can a couple of things to note, so one from this plot, you can see that I clearly kick some silly parameters so.

630
02:26:03,510 --> 02:26:17,040
Marisa Eisenberg: We have new kids in theory coming in, but you don't really see it at all, because I picked such a low rate for new kids to be coming in right like so let's make the new kid coming in rate something way bigger like 50 let's try this.

631
02:26:18,630 --> 02:26:30,840
Marisa Eisenberg: Now there we go Okay, so now, you can see that you reach a kind of steady state of how many kids there are it's not quite steady state yet, but it's getting there, but how many kids there are in each group.

632
02:26:31,260 --> 02:26:38,400
Marisa Eisenberg: The number of unsorted kids it starts off with them all being unsorted they get sorted and then it kind of equivalent rates and.

633
02:26:39,390 --> 02:26:52,560
Marisa Eisenberg: And so it makes sense, why they would end up in Raven clock because, if I remember right the recruitment was such that the Raven claws with tend to when i'm not actually sure why they end up a lot in Griffin door.

634
02:26:53,640 --> 02:26:55,800
Marisa Eisenberg: But it must be something.

635
02:26:59,310 --> 02:27:07,890
Marisa Eisenberg: I don't know we'd have to fiddle with the recruitment rates and how it is flowing and all that but, for whatever reason, a Griffin door does very well here.

636
02:27:08,700 --> 02:27:19,320
Marisa Eisenberg: They are tending to end up in Griffin door and Raven clot and poor slither in and humble buffer not doing very well so let's try something else, what if we change it, so that the recruitment rate.

637
02:27:20,730 --> 02:27:28,650
Marisa Eisenberg: Instead of being point to let's turn it off, so no more recruitment, why is the first value negative is the first.

638
02:27:30,480 --> 02:27:31,020
Which one.

639
02:27:32,970 --> 02:27:34,500
Caroline Godfrey: She just talking about the rate of change.

640
02:27:35,220 --> 02:27:35,790
Oh.

641
02:27:37,110 --> 02:27:38,370
Marisa Eisenberg: So you're talking about this guy.

642
02:27:39,210 --> 02:27:40,050
Marisa Eisenberg: The this.

643
02:27:40,080 --> 02:27:49,950
Marisa Eisenberg: In the in the rate of change yeah yeah it's because it's decreasing right, so this is, if you run this model zero and.

644
02:27:50,940 --> 02:27:57,270
Marisa Eisenberg: The the number of the change the change is negative, meaning that.

645
02:27:57,960 --> 02:28:09,780
Marisa Eisenberg: The unsorted students are decreasing they're going there right, so the, this is not the number of students in each category, this is the rate of change right because we're calculating do you dt dt dt etc.

646
02:28:10,770 --> 02:28:19,380
Marisa Eisenberg: And so, this first value being negative is because the number of unsorted kids at times zero is going to drop they're going to go down and.

647
02:28:20,040 --> 02:28:30,360
Marisa Eisenberg: Can I Okay, so if you can't find the function odd that means that you didn't load the diesel library, so you have to run this line I bet this line didn't get ready.

648
02:28:35,340 --> 02:28:36,690
awesome cool.

649
02:28:38,700 --> 02:28:45,600
Marisa Eisenberg: Okay, so, then so if we if we turn off the recruitment just for kicks let's see what happens.

650
02:28:47,460 --> 02:28:56,910
Marisa Eisenberg: And we get haha Okay, so if we turn off recruitment now Okay, this makes a lot more sense it's very hard to see.

651
02:28:58,170 --> 02:29:06,720
Marisa Eisenberg: Because they're on top of each other but i'm pretty sure this is two and four, and this is three and five, which means that.

652
02:29:07,140 --> 02:29:16,950
Marisa Eisenberg: Griffin door and slithering are here and huff and puff and Raven klar here, I should have changed the colors to be the House colors that would have been fun, but whatever it's fine so.

653
02:29:17,160 --> 02:29:23,280
Marisa Eisenberg: i'm Okay, but you get kind of the idea, you can play around with parameters and you can really simulate the model.

654
02:29:24,720 --> 02:29:36,090
Marisa Eisenberg: And and get you know different see how, if you turn on the recruitment from house to house or not how it changes, etc, and did everybody get it to run.

655
02:29:37,110 --> 02:29:52,290
Marisa Eisenberg: Eventually yeah okay good good, and you can also do some fun things so you can choose different there's lots of different options, you can choose different methods for how you run the odd solver.

656
02:29:52,740 --> 02:30:03,090
Marisa Eisenberg: I don't think you all, are going to really probably need to worry about that for this class, but this little example code here is posted up there, and it had it shows you kind of how to.

657
02:30:03,960 --> 02:30:21,090
Marisa Eisenberg: How to change O D solver method so like we could do it here if you if you change if you run if you do this and then you say method equals 44 five or wheeler its capital one heavily know.

658
02:30:23,460 --> 02:30:36,120
Marisa Eisenberg: You do this it'll run it with oilers method, instead, this is a pretty mellow, this is not a very difficult model to run so it's probably not going to make a difference which method you use.

659
02:30:37,080 --> 02:30:47,310
Marisa Eisenberg: But more complicated, you know sort of more weird models can can have it be where you need to change the method for our purposes, I think you can just use the default, which is a.

660
02:30:47,640 --> 02:31:01,170
Marisa Eisenberg: Nice adaptive method called l soda and it's perfectly fine, so I think we'll just leave it at that, for the time being, but did everybody get this to run finally i'll post this code in a little bit as well, so you can always also run it that way.

661
02:31:02,820 --> 02:31:09,660
Nicolle Krebs: there's the table automatically show up trail or did you have to put code in for that.

662
02:31:10,110 --> 02:31:11,910
Marisa Eisenberg: Ah, the you're talking about this guy.

663
02:31:12,450 --> 02:31:13,080
Nicolle Krebs: Yes.

664
02:31:13,590 --> 02:31:17,310
Marisa Eisenberg: Oh yeah I just clicked over here if you click simulation it'll show.

665
02:31:19,560 --> 02:31:20,940
Marisa Eisenberg: Or you can type view.

666
02:31:21,360 --> 02:31:23,670
simulation yeah should show it.

667
02:31:26,550 --> 02:31:27,780
Marisa Eisenberg: awesome okay good.

668
02:31:28,830 --> 02:31:39,390
Marisa Eisenberg: All right, so Okay, so we ran a little odd model let's now let's talk a little bit so does everybody kind of get a feel for.

669
02:31:40,590 --> 02:31:45,930
Marisa Eisenberg: sort of how this works not super well at this point I would imagine, but you know.

670
02:31:46,320 --> 02:31:53,790
Marisa Eisenberg: The idea being that we think through a process we write down sort of the flows, like the key thing with a lot of these models.

671
02:31:54,000 --> 02:31:59,850
Marisa Eisenberg: is to think about what buckets are people going to be in and how do they flow from one bucket to the next.

672
02:32:00,120 --> 02:32:07,770
Marisa Eisenberg: And then you write down the equations that represent those flows from one bucket to the next, and then you simulate those equations with something like an odd soccer.

673
02:32:08,340 --> 02:32:16,290
Marisa Eisenberg: Tomorrow, Michael will show you how to simulate the same idea of sort of flowing from one bucket to the next, but instead of using an odd sober.

674
02:32:16,500 --> 02:32:28,530
Marisa Eisenberg: you'll do something a little bit fancier with stochastic simulation so it'll it'll be it'll have some randomness and excellent question okay So how do you choose the values of the parameters.

675
02:32:29,610 --> 02:32:29,940
Marisa Eisenberg: Right.

676
02:32:30,120 --> 02:32:35,070
Marisa Eisenberg: So we just made the above right but, in reality, what you do so, the literature or assumptions is.

677
02:32:35,070 --> 02:32:40,380
Marisa Eisenberg: Definitely often a big piece of it and then we'll learn later this week.

678
02:32:40,740 --> 02:32:51,270
Marisa Eisenberg: About parameter estimation, so you can actually frame your differential equation model with like a likelihood structure, like you would a regression model or.

679
02:32:51,480 --> 02:33:00,930
Marisa Eisenberg: You know any kind of statistical model, and you can set it up, so that if you have data so like let's suppose that whatever we had data on the number of.

680
02:33:01,290 --> 02:33:07,050
Marisa Eisenberg: humble posts Lutherans BA BA BA BA BA as a function of time over many years at hogwarts etc.

681
02:33:07,320 --> 02:33:19,230
Marisa Eisenberg: We could fit the parameters of our model to that data and figure out what parameter values gave the best fit to the data that sort of most closely matched the number of slither ins, etc, that we actually saw.

682
02:33:19,500 --> 02:33:31,530
Marisa Eisenberg: And you can do that, you can set up a likelihood structure and and you know basically set up your model like you would a statistical model to estimate the parameters with uncertainty ranges and all of that kind of stuff so we'll learn.

683
02:33:32,070 --> 02:33:44,070
Marisa Eisenberg: A little bit of how to do that later this week, but this either sort of literature assumptions or parameter estimation, is another common way or the other thing that sometimes you're stuck with doing.

684
02:33:44,670 --> 02:33:49,980
Marisa Eisenberg: Is if you really have no information there's no literature there's no assumptions there's no data to estimate with.

685
02:33:50,370 --> 02:34:01,650
Marisa Eisenberg: Then, sometimes you just huge huge huge ranges that you know they have to live in there someplace and you do an enormous number of random samples, so you say okay.

686
02:34:02,040 --> 02:34:08,370
Marisa Eisenberg: This parameter this parameter, and this parameter I don't know what they are, but I know they have to be between 10 and 2000.

687
02:34:08,730 --> 02:34:17,670
Marisa Eisenberg: Okay, then i'm going to just you know, or like what they have to be they can't you know most parameters have some physical meaning right so like if you have.

688
02:34:17,970 --> 02:34:29,790
Marisa Eisenberg: A recruitment rate that would recruit more students than exist in hogwarts you know they would all be recruited in less than five seconds, you know what I mean there are rates that will be bananas and just won't make sense right and so.

689
02:34:30,300 --> 02:34:34,800
Marisa Eisenberg: there's usually some kind of realistic range, you know your rate can't be negative.

690
02:34:35,070 --> 02:34:40,800
Marisa Eisenberg: And it usually can't be bigger than something, because then you'd be moving faster than the speed of light, or whatever you know what I mean.

691
02:34:41,070 --> 02:34:48,600
Marisa Eisenberg: And so you can choose rates in a really wide range and then just sample the heck out of it and and then you know essentially that's.

692
02:34:48,930 --> 02:34:59,910
Marisa Eisenberg: Like choosing a prior and then just relying on your prior but um but yeah so that's that's a really good question and you should not do what we just did and just pick numbers that you made up that I know.

693
02:35:00,930 --> 02:35:10,080
Marisa Eisenberg: You should definitely yeah use something a little more principled and okay other questions about this last little chunk that we just did the coding part.

694
02:35:14,580 --> 02:35:26,130
Marisa Eisenberg: Okay alright so Next, I want to talk a little bit about sort of what how we think about odd years and how we analyze them and sort of you know what, how do we.

695
02:35:26,430 --> 02:35:38,100
Marisa Eisenberg: What can we do with differential equations so we can simulate them and a lot of what we'll do with differential equations in a lot of this class is going to involve simulating them and then plotting the results and looking at kind of what we see.

696
02:35:39,300 --> 02:35:46,500
Marisa Eisenberg: But we can also there's a lot of analytical techniques sort of by hand techniques that we can use to understand how differential equations systems work too.

697
02:35:47,400 --> 02:35:55,140
Marisa Eisenberg: And so you might sort of wonder oftentimes people are sort of like why bother with analysis, if you can just simulate it.

698
02:35:56,040 --> 02:36:06,480
Marisa Eisenberg: But it's often actually really useful, and if you if you simulate a model with a computer it only tells you what that specific set of parameters.

699
02:36:06,810 --> 02:36:12,180
Marisa Eisenberg: Does right, so I have to plug in specific numbers for all I mean this actually kind of gets at your question.

700
02:36:12,810 --> 02:36:20,130
Marisa Eisenberg: adrianna about how do you choose parameters, you know, for you to run a simulation you have to choose specific numbers to run the OTS with.

701
02:36:20,850 --> 02:36:27,390
Marisa Eisenberg: But a lot of the analytical methods that are out there, tells us something about the sort of global behavior of the system.

702
02:36:27,930 --> 02:36:36,150
Marisa Eisenberg: So it might say things that are like well, regardless of what the parameters are, if you start below this line in terms of the total number of students.

703
02:36:36,450 --> 02:36:44,040
Marisa Eisenberg: Your whole system is going to atrophy out and everyone will transfer out of hogwarts and you won't have any students left you know what I mean it can tell you, things that are sort of.

704
02:36:44,340 --> 02:36:55,170
Marisa Eisenberg: bigger picture, regardless of parameter values or different things like that so there's a lot of usefulness in analysis of oldies to um Okay, so one of the big things that.

705
02:36:56,040 --> 02:37:02,010
Marisa Eisenberg: You often want to do with differential equations is figure out the equilibrium, for them, and so.

706
02:37:02,730 --> 02:37:10,080
Marisa Eisenberg: You know the the equilibrium points are what are called there's this is so, an equilibrium point for a differential equation system.

707
02:37:10,350 --> 02:37:18,000
Marisa Eisenberg: Is means a set of values, such that if you start the system at that set of values so meaning like if you start the system with.

708
02:37:18,390 --> 02:37:26,880
Marisa Eisenberg: This number of unsorted kids this number of Griffin doors hobble puffs leather ends and Raven claws it will stay constant forever and none of the numbers will change.

709
02:37:27,060 --> 02:37:34,710
Marisa Eisenberg: So that's an equilibrium point so if you start the variables at those values, it will stay constant as time evolves meaning.

710
02:37:34,980 --> 02:37:45,810
Marisa Eisenberg: That dx dt the rate of change will be zero for all of your variables and that has to be true for all of the variables, for it to count as an equilibrium and so, for instance.

711
02:37:47,190 --> 02:37:57,390
Marisa Eisenberg: If you think about here's two classic simple models of population growth, so this is an exponential this will give you exponential population growth, and this is logistic population growth so.

712
02:37:59,250 --> 02:38:04,950
Marisa Eisenberg: let's look at the first one really quick so where would these systems be at equilibrium well.

713
02:38:06,060 --> 02:38:16,590
Marisa Eisenberg: In this case, for dx dt if n equals K X, the only way that that dx CT will equal zero, meaning that the system will have a rate of change of zero so it will be constant.

714
02:38:16,890 --> 02:38:25,980
Marisa Eisenberg: Is if X is equal to X or K, one of the two but supposing K is not zero then X plus two equals zero for this thing to be at equilibrium right and so.

715
02:38:26,910 --> 02:38:30,690
Marisa Eisenberg: So that means that if you have an exponentially growing population.

716
02:38:30,960 --> 02:38:47,880
Marisa Eisenberg: The only way that you get a stable population out of it, meaning a constant flat population is, if you don't have anybody, if you have zero people right or zero bacteria or whatever it is so exponential growth is one example, a logistics system like this, you know here you have.

717
02:38:48,930 --> 02:38:54,000
Marisa Eisenberg: People seeing the logistic grow system before probably a lot of people have but not everybody i'm guessing.

718
02:38:54,630 --> 02:39:05,910
Marisa Eisenberg: i'm Okay, so not everybody, so this one, basically, the idea is the rate of change, it asks like exponential growth when you're at small levels, but when you get to big levels of X.

719
02:39:06,270 --> 02:39:12,030
Marisa Eisenberg: X starts to approach what's called the carrying capacity, which is this end down here on the bottom and.

720
02:39:12,750 --> 02:39:33,570
Marisa Eisenberg: If X gets very large and it starts to approach this end this carrying capacity, then X over n will get very close to one, and this whole term here it's hard to see this whole term starts to look like one minus one right, because if X is very near and then.

721
02:39:34,590 --> 02:39:40,200
Marisa Eisenberg: it's that that fraction starts to get really close to one, and so it starts to get it means that.

722
02:39:41,370 --> 02:39:49,290
Marisa Eisenberg: This whole thing over here basically starts to act like one minus one and so that means, this will become zero.

723
02:39:49,830 --> 02:39:57,810
Marisa Eisenberg: And then, that means that the change the rate of change will become zero right does that make sense, so essentially this acts like exponential growth at the beginning.

724
02:39:58,140 --> 02:40:05,910
Marisa Eisenberg: And then, as it approaches this carrying capacity N, this is like a penalty term that says you can't grow exponentially anymore we're going to.

725
02:40:06,810 --> 02:40:19,140
Marisa Eisenberg: As this gets closer to one one minus this is going to get smaller and smaller and smaller so that we're shrinking this growth rate until finally when X equals one X equals end.

726
02:40:19,560 --> 02:40:34,200
Marisa Eisenberg: This is one so an x as they're carrying capacity, this whole thing becomes zero right so that makes sense to everybody, so this is a, this is a model of a exponential growth that reaches a carrying capacity and then stops growth and so.

727
02:40:35,340 --> 02:40:43,290
Marisa Eisenberg: In this system, you can have two equilibrium, you can have an equilibrium with note when nobody's there, so the X equals zero equilibrium.

728
02:40:43,650 --> 02:40:52,200
Marisa Eisenberg: You can also have a carrying capacity equilibrium when X is equal to end because if X equals and then this becomes one minus one and zero dsp T is equal to zero.

729
02:40:52,830 --> 02:41:05,250
Marisa Eisenberg: Okay, so those that's the idea of equilibrium points it's it's values of X, that the system stays constant at if you start there and and it turns out that a lot of the dynamics of.

730
02:41:05,670 --> 02:41:15,990
Marisa Eisenberg: differential equations systems, but also lots of other systems kind of revolve around what the equilibrium points are so if you know what the equilibrium points for a system are you can often say.

731
02:41:16,350 --> 02:41:29,850
Marisa Eisenberg: A lot about sort of how the system has to behave because, essentially, the only places that it can stand still are at those equilibrium points you can kind of map out how it has to be moving everywhere else and.

732
02:41:30,540 --> 02:41:35,850
Marisa Eisenberg: we'll kind of talk about that more in just a second, so there are different types of equilibrium so.

733
02:41:36,660 --> 02:41:48,540
Marisa Eisenberg: Stable unstable neutral and saddle and I like to use a little analogy of like a ball in on a rolling on a hill kind of a thing to illustrate this so a stable equilibrium point.

734
02:41:48,930 --> 02:41:55,830
Marisa Eisenberg: And the types of people every are all defined about if you move slightly away from the equilibrium point.

735
02:41:56,160 --> 02:42:02,880
Marisa Eisenberg: What will, what does the system do so, a stable equilibrium point means that it's like a ball at the bottom of a valley.

736
02:42:03,270 --> 02:42:12,960
Marisa Eisenberg: If you roll the ball, a little bit of ways, it will tend to come back to the bottom it'll you know you move it over here, it just rolls back down to the bottom, maybe wobbles around but it just basically.

737
02:42:13,410 --> 02:42:31,680
Marisa Eisenberg: gets back to where it was right, so this is a stable equilibrium point if you move it a little bit away and it tends to return back to to the to the equilibrium and an unstable equilibrium point is like a ball at the top of the hill I don't know why these are all off just a second.

738
02:42:34,440 --> 02:42:38,130
Marisa Eisenberg: There an unstable equilibrium point is more like a ball at the top of it.

739
02:42:38,520 --> 02:42:44,430
Marisa Eisenberg: So if you move this a little bit away it's not going to go back up the hill back to where it was if you move this a little bit away.

740
02:42:44,670 --> 02:42:51,570
Marisa Eisenberg: it'll just roll away right it'll roll down the Hill in some direction so if you have an unstable equilibrium point, that means that.

741
02:42:52,200 --> 02:43:04,170
Marisa Eisenberg: When you move your X values, a little bit away from the equilibrium point they don't come back to the equilibrium point they tend to go somewhere else, so an unstable equilibrium point is is like that.

742
02:43:04,530 --> 02:43:12,690
Marisa Eisenberg: A neutral equilibrium point means that it doesn't really care if you move it a little bit away it doesn't come back or.

743
02:43:13,170 --> 02:43:19,590
Marisa Eisenberg: Risk or leave it just is like a flat it's like a ball on a flat surface if you move the ball slightly to one side.

744
02:43:20,100 --> 02:43:30,720
Marisa Eisenberg: The ball just sits where it's where it's set right so that's a neutral equilibrium and notice here that all of these points are actually equilibrium right because it'll sit at any of those and stay constant.

745
02:43:31,230 --> 02:43:41,040
Marisa Eisenberg: A saddle point is an equilibrium, where and here you have to excuse me slightly and pretend that there's not like momentum or anything, and you know if you.

746
02:43:41,370 --> 02:43:54,930
Marisa Eisenberg: If you move it this way, the ball will come back to where it was if you move it that way, the ball will tend to roll away right, so this is a saddle point means it's stable and one in some directions and unstable in other directions.

747
02:43:56,040 --> 02:44:01,380
Marisa Eisenberg: Okay, so Those are some of the kinds of people, those are the types of people that are out there.

748
02:44:03,120 --> 02:44:18,540
Marisa Eisenberg: For for one dimensional systems there's a really nice way of mapping out the equilibrium for the system called a phase line and then we'll learn there's there's more stuff with phase plans and things like this later, but.

749
02:44:19,650 --> 02:44:22,440
Marisa Eisenberg: So for so let's actually.

750
02:44:23,910 --> 02:44:30,210
Marisa Eisenberg: Okay, we can do it this way will do will do this txt So the idea behind a phase line is that.

751
02:44:32,010 --> 02:44:45,360
Marisa Eisenberg: Basically, what you want to do i'm actually going to make a whiteboard i'm gonna see if my annotation is up to the task, but here we go Okay, a phase wide so for the phase line which you want to do, basically.

752
02:44:47,220 --> 02:44:48,570
Marisa Eisenberg: Is you're going to make a plot.

753
02:44:50,460 --> 02:44:56,400
Marisa Eisenberg: Of DST of sort of X on the bottom, the value of X on the bottom.

754
02:44:57,990 --> 02:45:08,160
Marisa Eisenberg: it's annoying that I called my state variables X and now i'm talking about the X axis you're putting the X variable value on the X axis so we're going to put X on the X axis.

755
02:45:12,750 --> 02:45:18,780
Marisa Eisenberg: And for the y axis we're going to put dx dt the y axis.

756
02:45:21,120 --> 02:45:27,240
Marisa Eisenberg: And so what we're going to do is this, so if we have.

757
02:45:28,560 --> 02:45:31,080
Marisa Eisenberg: let's do an example let's say.

758
02:45:32,730 --> 02:45:32,790
For.

759
02:45:34,200 --> 02:45:37,440
Marisa Eisenberg: example dx dt.

760
02:45:39,510 --> 02:45:45,360
Marisa Eisenberg: equals K X, so this is the exponential growth thing so dx dt here.

761
02:45:46,410 --> 02:46:02,970
Marisa Eisenberg: So we're going to put X on the X axis and dx dt on the y axis, so if X equals zero then dx dt is equal to K X and so that's also zero right.

762
02:46:04,140 --> 02:46:05,700
Marisa Eisenberg: If X equals.

763
02:46:06,750 --> 02:46:10,110
Marisa Eisenberg: One let's say i'll just put some tick marks here.

764
02:46:11,010 --> 02:46:23,100
Marisa Eisenberg: Then, if X equals one dx dt is going to be K whatever K is if X equals two it's going to be two K right, you know you can you can see, this is, this is the equation for a line right like so everybody can kind of.

765
02:46:23,370 --> 02:46:36,810
Marisa Eisenberg: You know if you call dx dt Why then we're saying y equals K X right, so this is the equation for a line so rather than he sort of stating points on the line we can just draw.

766
02:46:39,330 --> 02:46:43,290
Marisa Eisenberg: In theory, we can draw a line, this is a line with slope K right.

767
02:46:45,000 --> 02:46:54,300
Marisa Eisenberg: So dx dt as a function of X looks like this, you can put some more line over here there we go okay.

768
02:46:55,590 --> 02:47:01,740
Marisa Eisenberg: This this is what's called the phase line and the deal with this is that wherever.

769
02:47:02,460 --> 02:47:11,160
Marisa Eisenberg: This this curve of the X dt crosses the horizontal axis crosses the X axis that's an equilibrium point.

770
02:47:11,610 --> 02:47:22,860
Marisa Eisenberg: So wherever D X equals zero that's an equilibrium point and So here we have one equilibrium point and then what you can do the way that the baseline works is that whether it's the.

771
02:47:23,310 --> 02:47:32,640
Marisa Eisenberg: Based on this, the direction of the slope whether the slope is positive or negative, you can figure out whether that equilibrium point is stable or not so in this case.

772
02:47:32,940 --> 02:47:43,230
Marisa Eisenberg: The slope is positive, when X is larger than the equilibrium value and it's negative when X is smaller right and so that means that when.

773
02:47:44,100 --> 02:47:54,090
Marisa Eisenberg: If you were to let's say you started exit zero right, and then you moved X to something a little bit away from zero like Point five or point two, or something like that.

774
02:47:55,260 --> 02:48:10,770
Marisa Eisenberg: The slope dx TT is positive, which means that X is going to tend to increase right, which means it's moving away from zero right So if you start here oh.

775
02:48:11,910 --> 02:48:24,630
Marisa Eisenberg: see here the slope the you know this curve is above the horizontal so that means the slope dx dt is positive, that means that X if we think of X on the X axis here.

776
02:48:24,990 --> 02:48:36,720
Marisa Eisenberg: is going to go this way right it's going to increase because the slope is positive, so it's going to be increasing if you start down here X is going to decrease it's going to go out and so that means that.

777
02:48:37,860 --> 02:48:40,890
Marisa Eisenberg: This equilibrium is unstable.

778
02:48:43,380 --> 02:49:01,950
Marisa Eisenberg: Meaning that if you start a little ways away from it, it tends to move away so it's like an it's like the ball at the top of the hill if you start a little ways away, it tends to be away so let me just switch out to her i'll save this and.

779
02:49:03,000 --> 02:49:15,960
Marisa Eisenberg: Let me switch to this this, this is just a made up example but imagine that dx dt is here, and this is X and let's say the curve looks like this, or whatever reason.

780
02:49:16,620 --> 02:49:32,670
Marisa Eisenberg: This is just a made up function some whatever it is so dx dt looks like this it crosses the X axis in three places So these are the three equilibrium points, and you can see that dx dt is positive here negative here positive here right.

781
02:49:33,180 --> 02:49:45,180
Marisa Eisenberg: So if dx dt is positive here then anytime that you start with an x value say here it's going to tend to go this way.

782
02:49:45,750 --> 02:49:57,750
Marisa Eisenberg: towards this equilibrium point right because it's going to increase X, because the slope is positive right if you start with an x value here it's going to decrease and go.

783
02:49:58,710 --> 02:50:05,280
Marisa Eisenberg: back down here, because the slope is negative, so it will go to smaller values of X does that make sense, everybody has a thing.

784
02:50:05,790 --> 02:50:17,970
Marisa Eisenberg: So what you can do basically by planning, this is that means you can map out, so I don't need to know anything about the parameter values, but I can see already that because dx D team.

785
02:50:18,360 --> 02:50:29,850
Marisa Eisenberg: is positive here negative here positive here, and these are the equilibrium, when you may need to know something about the equilibrium values to calculate the equal to about the parameter values to calculate the equilibrium, but.

786
02:50:30,180 --> 02:50:38,190
Marisa Eisenberg: You can often do this without knowing the specifics of what the values are just knowing the structure the form of the equations you can figure out.

787
02:50:38,580 --> 02:50:49,530
Marisa Eisenberg: Okay, this whole model I don't know like anything about the specifics of what parameter values, it has, but I can tell you that it has three equilibrium and.

788
02:50:50,190 --> 02:50:58,470
Marisa Eisenberg: This one's unstable this one, stable and this one's unstable and that means that if you start it in you know here.

789
02:50:59,370 --> 02:51:03,660
Marisa Eisenberg: sort of anywhere in this region, it will go to this equilibrium points.

790
02:51:04,500 --> 02:51:10,950
Marisa Eisenberg: There and it'll go if you started in this region it'll go to this equilibrium points, and if you started here.

791
02:51:11,310 --> 02:51:25,680
Marisa Eisenberg: Because the slope is positive and there's no other equilibrium points in the system that means it'll grow to infinity so there's a lot, you can kind of figure out just by looking at the equations and and sort of making some of these kinds of plots and.

792
02:51:26,700 --> 02:51:28,770
Marisa Eisenberg: yeah okay um.

793
02:51:30,570 --> 02:51:39,510
Marisa Eisenberg: I think this will probably need a little bit of practice and guessing but does the basic idea kind of makes sense, so you're you're.

794
02:51:40,650 --> 02:51:51,240
Marisa Eisenberg: Like roughly so you're plotting dx dt remember this, is that weird notation for dx dt so the ICT as a function of X and then.

795
02:51:52,080 --> 02:52:03,450
Marisa Eisenberg: Essentially you can map out which parts of the X axis are increasing or decreasing by looking at what the sign of the slope is so the slope is positive.

796
02:52:03,780 --> 02:52:12,120
Marisa Eisenberg: Then it's increasing it the slope is negative it's decreasing and then you can say okay That means that if you think about access living on this.

797
02:52:12,420 --> 02:52:20,460
Marisa Eisenberg: Horizontal X axis, if you start here it's going to go to the right because it's positive if you start here it's going to go to the left, because it's negative.

798
02:52:20,790 --> 02:52:27,360
Marisa Eisenberg: And so you can then say Okay, this is a stable equilibrium point, because if I move off with it a little bit i'll tend to come back.

799
02:52:28,530 --> 02:52:35,370
Marisa Eisenberg: On this is an unstable equilibrium point, because if I move off of it a little bit i'll tend to go away and yeah.

800
02:52:38,070 --> 02:52:47,910
Marisa Eisenberg: Okay, so key ideas if dx CT is positive, then you know, then X is increasing oops real and.

801
02:52:49,080 --> 02:52:59,610
Marisa Eisenberg: Which means moving to the right on the X axis if the X dt is negative, then next is decreasing, which means moving to the left on the X axis I don't know which i'm probably reverse but well.

802
02:53:00,960 --> 02:53:13,500
Marisa Eisenberg: And remember the dx TT can only change signs when it crosses the X axis so when it crosses an equilibrium point, and so, as long as it's continuous so um yeah okay.

803
02:53:14,520 --> 02:53:25,620
Marisa Eisenberg: I was gonna have us do this like fish harvesting example I don't know i'm a little worried about time so I kind of want to maybe move us along but.

804
02:53:27,120 --> 02:53:36,030
Marisa Eisenberg: Does this make, and I wonder if we should do one exam one more example together does this make sense to people, or is this still pretty confusing make sense okay.

805
02:53:37,050 --> 02:53:49,680
Marisa Eisenberg: Okay, good okay so that's why and the the lab on the on the you know that's posted up there also has like an example question that's you know that's basically.

806
02:53:50,490 --> 02:54:09,360
Marisa Eisenberg: draw a phase line and figure out which ones are stable unstable, etc, and so, if you if you want to try that i'll post solutions to that later, and so you can kind of see how it works and the the The last thing I guess, I should say is that if you were wondering, remember, I said.

807
02:54:10,410 --> 02:54:19,080
Marisa Eisenberg: Stable unstable neutral saddle So what is neutral or saddle look like on a phase line diagram so right, so we said, these are.

808
02:54:19,440 --> 02:54:35,730
Marisa Eisenberg: unstable stable unstable what would a neutral phase line look like or a saddle look like a neutral phase line is looks like this it's like where you have a curve that hits zero and stays zero for a while right so like.

809
02:54:37,470 --> 02:54:39,180
Marisa Eisenberg: This whole chunk here.

810
02:54:40,740 --> 02:54:46,470
Marisa Eisenberg: From here to here where it's on the X axis would be an asset of neutral equilibrium.

811
02:54:47,760 --> 02:55:02,700
Marisa Eisenberg: A saddle looks like this, where it's it's just touches the X axis and then goes back up so in this case, if you were to come off of this equilibrium point on this direction.

812
02:55:03,300 --> 02:55:19,680
Marisa Eisenberg: you'll come back to your equilibrium point if you jump off the equilibrium point and your school slightly this direction you'll tend to go away so it's stable from one side and unstable from the other side, so that's a sample and Okay, so you can play around with this.

813
02:55:21,420 --> 02:55:35,070
Marisa Eisenberg: yeah I think there's a couple of examples in the slides that you can see, so you can kind of see some more examples of kind of how this works, and then the the lab has another example to and i'll post solutions for that so you'll see some different ways.

814
02:55:36,840 --> 02:55:42,600
Marisa Eisenberg: Okay, this fish one is kind of fun, because it shows you it can show you how you can use analysis to say.

815
02:55:43,530 --> 02:55:48,570
Marisa Eisenberg: it's a it's a really simplified model, but it shows you how things like the cod fishery collapse.

816
02:55:49,530 --> 02:55:58,320
Marisa Eisenberg: You know, there are these situations where you can have what are called bifurcation where the system if you push the parameters in a particular direction the system.

817
02:55:58,950 --> 02:56:04,440
Marisa Eisenberg: Like changes fundamentally how it works and so it's a it's a I encourage you to try it it's fun.

818
02:56:04,950 --> 02:56:13,740
Marisa Eisenberg: You can see how essentially if you increase harvesting, you can cause a population collapse, where it's no longer possible to have a stable.

819
02:56:14,610 --> 02:56:24,420
Marisa Eisenberg: A stable equilibrium for this fish population if you over harvested you actually remove this equilibrium point and it stops and so you you end up with.

820
02:56:24,720 --> 02:56:41,790
Marisa Eisenberg: The only stable equilibrium you like you cause a bifurcation where this disappears and the all this become stable and now the only stable equilibrium point is zero fish you just you push you harvest too much and you push it past the point where it causes a collapse okay.

821
02:56:42,960 --> 02:56:49,770
Marisa Eisenberg: But keeping us moving along i'm going to actually not have us do problem, one I think it's okay.

822
02:56:51,090 --> 02:56:56,130
Marisa Eisenberg: I was gonna have us take a little time but i'm worried about getting to five o'clock.

823
02:56:57,390 --> 02:57:07,080
Marisa Eisenberg: Enough time, so I think we'll we'll just truck right along and and I think that's fine wait hang on did I take my break at the wrong time.

824
02:57:08,670 --> 02:57:14,370
Marisa Eisenberg: Do we have a second break forgotten all the timing of this we go till five right Is that correct.

825
02:57:15,870 --> 02:57:16,470
Marisa Eisenberg: Correct yeah.

826
02:57:17,010 --> 02:57:20,010
Marisa Eisenberg: We do okay great okay good I was like I couldn't remember.

827
02:57:20,280 --> 02:57:28,110
Marisa Eisenberg: What the thing okay good all right sorry I every year i'm like a goldfish I just rediscovered the whole thing Okay, here we go so.

828
02:57:28,530 --> 02:57:38,190
Marisa Eisenberg: So for one dimensional systems, the phase line is great, you can really completely classify how your system is going to work often you can do that without even needing to know about the.

829
02:57:38,460 --> 02:57:43,350
Marisa Eisenberg: Specific parameter values and so it's really nice it gives you a way of kind of looking at what's going on.

830
02:57:43,770 --> 02:57:59,250
Marisa Eisenberg: For higher dimensional systems as soon as you have more than one variable it becomes very difficult to use the phase line in any kind of useful way, so instead what we often do is we use what's called face to face plane or the phase space and here what we're gonna do.

831
02:58:00,990 --> 02:58:12,180
Marisa Eisenberg: Is we're going to plot it's a weird plot, it takes a little getting used to so what we're gonna do is we're going to plot each variable as one of the axes so, for instance, if we have.

832
02:58:12,600 --> 02:58:21,540
Marisa Eisenberg: Maybe you're pairs of variables, if you have a lot of variables, but so let's say you have two variables, we would plot X one is the X axis and X two is the y axis.

833
02:58:21,930 --> 02:58:28,380
Marisa Eisenberg: and time is implicit you don't actually plot time as a variable.

834
02:58:28,920 --> 02:58:42,870
Marisa Eisenberg: In any real way what happens is you watch where it moves in the X one X two space so time is like implicit basically what you would do is you would say okay if it's a stable equilibrium point then.

835
02:58:43,860 --> 02:58:53,250
Marisa Eisenberg: What I so if this is a stable equilibrium point, then, if I start it over here, you know a little ways away from this equilibrium point it will tend to come back.

836
02:58:54,150 --> 02:58:59,190
Marisa Eisenberg: So it'll move its way back to the stable equilibrium point and so um.

837
02:59:00,090 --> 02:59:09,300
Marisa Eisenberg: So you know the phase playing basically as a way of categorizing your equilibrium without needing to do this phase line thing, instead, you can look at.

838
02:59:09,660 --> 02:59:19,710
Marisa Eisenberg: Larger systems and so there's a bunch of different things, so if you have a stable equilibrium point, then, if you start, so I drawn these little arrows to indicate what direction they were going.

839
02:59:20,190 --> 02:59:28,140
Marisa Eisenberg: And there's so there's not time, but you would watch, you would plot essentially where it started and where it goes right and so.

840
02:59:28,740 --> 02:59:36,210
Marisa Eisenberg: So you can kind of see how it's working so for a stable equilibrium point it might look something like this, where they all return back to the equilibrium point.

841
02:59:36,480 --> 02:59:43,320
Marisa Eisenberg: For an asset something called the mass and topically stable equilibrium point it might be more like a flushing toilet or like a drain where it kind of circles that.

842
02:59:43,890 --> 02:59:47,700
Marisa Eisenberg: will get there and infinite time but it's not actually ever going to reach this kind of.

843
02:59:48,420 --> 02:59:58,170
Marisa Eisenberg: equilibrium point unstable will mean that if you if you have this as your equilibrium point and you started a little ways away, it will tend to go away from the equilibrium point.

844
02:59:58,890 --> 03:00:06,630
Marisa Eisenberg: And this is something different, this is not an equilibrium point but it's something that you'll see in a phase plane diagram often, so this is an oscillation.

845
03:00:06,990 --> 03:00:14,220
Marisa Eisenberg: So this means, if you have something like this, like a little circle that means that X is going up and down here and.

846
03:00:14,670 --> 03:00:22,560
Marisa Eisenberg: X one is going this up and down and X two is going up and down, and if you plot those things on two different axes you get a circle right because they're.

847
03:00:22,800 --> 03:00:36,030
Marisa Eisenberg: Both increasing and decreasing, you know not exactly in time with one another, and so you get a little circle out of this so phase plans are very nice, this is a saddle you can also get chaos, the classic we'll talk more about cast in just a second.

848
03:00:37,830 --> 03:00:50,340
Marisa Eisenberg: Let me actually i'm going to switch the order, but so as a little example there's a classic lockable Tara model of rabbits and foxes where the rabbits reproduce and the foxes eat the rabbits and then the foxes can die if they don't get enough rabbits.

849
03:00:51,030 --> 03:01:02,370
Marisa Eisenberg: And so, if you plot the rabbit fox lot couple Tara model, over time, you get an oscillation like this, where the number of rabbits goes up and down.

850
03:01:03,000 --> 03:01:08,790
Marisa Eisenberg: The rabbit start to increase the foxes then start to increase the foxes eventually eat all the rabbits.

851
03:01:09,030 --> 03:01:22,800
Marisa Eisenberg: Then the rabbit population crashes, and then shortly after the rabbit population crashes the foxes are like retro we have no food, and so, then the fox population crashes right, and so you get this constant oscillation of rabbits go up boxes follow.

852
03:01:23,250 --> 03:01:39,960
Marisa Eisenberg: foxes eat too many rabbits rabbits collapse, the boxes collapse right, and so this this oscillation tends to happen, and if you plot this in the phase plane, you get something like this, so you can use this kind of baseline technique to categorize different behaviors that you can see.

853
03:01:41,070 --> 03:01:51,180
Marisa Eisenberg: And, in general, a lot of the analysis around ot is involves categorizing or figuring out what's going on with the transient behavior and the long term behavior so.

854
03:01:52,680 --> 03:01:57,120
Marisa Eisenberg: it's often the case that you'll have a sort of transient behavior that might be.

855
03:01:57,750 --> 03:02:08,040
Marisa Eisenberg: Variable or different or do something and then a long term behavior that is maybe stable or an oscillation or something like that, and so a lot of the analysis around.

856
03:02:08,400 --> 03:02:15,510
Marisa Eisenberg: differential equations is around figuring out what's in the transient what's the long term behavior of the system, how do we kind of figure that out.

857
03:02:15,930 --> 03:02:31,470
Marisa Eisenberg: And and that's true not just for differential patients but also for lots of other kinds of models we'll talk about some of the some agent based models later, but they also exhibit this kind of transient versus long term kind of thing, this is the shelling model.

858
03:02:33,720 --> 03:02:38,970
Marisa Eisenberg: The shelling model for me, this is the thing no not really okay i'm.

859
03:02:41,340 --> 03:02:51,510
Marisa Eisenberg: We can talk about the show i'm not a real thing it's a little bit of a detour detour but it's it's an agent based model it's a it's a classic agent based model and.

860
03:02:52,350 --> 03:03:00,420
Marisa Eisenberg: The shelling model is an interesting model, so this is another model that has an interesting transient versus long term dynamic to it and.

861
03:03:01,140 --> 03:03:05,850
Marisa Eisenberg: The shelling model is a model of neighborhood segregation and it's not a very.

862
03:03:06,330 --> 03:03:18,420
Marisa Eisenberg: I should put out some caveats the shelling model is a very, very simplified model of neighborhood segregation, that you should think of as one of many features one of many mechanisms that is probably at play.

863
03:03:18,720 --> 03:03:28,830
Marisa Eisenberg: And not probably the primary one but it's an interesting one, and and so or well, maybe not that I don't whatever it's it's it over simplifies things in a way that I find frustrating but.

864
03:03:29,430 --> 03:03:42,240
Marisa Eisenberg: But it's an interesting model and it's a classic because it has some interesting features about emergence and long term behavior so the shelling model it's a model of of neighborhood segregation, the idea with it is you randomly place.

865
03:03:43,860 --> 03:03:55,740
Marisa Eisenberg: Half and half red and blue agents on a grid and so they're randomly so each grid point is like a house and they each are assigned one grid location.

866
03:03:57,000 --> 03:04:08,940
Marisa Eisenberg: They assess their neighbors around them on the grid so there's different versions that either do up down left right, as the only neighbors are some include the corners, it depends on what implementation but.

867
03:04:09,240 --> 03:04:23,070
Marisa Eisenberg: They look at their neighbors on the grid, and they have some threshold that each agent the red and the blue agents want a certain percentage of their neighbors to be the same color the same type as that.

868
03:04:23,640 --> 03:04:33,120
Marisa Eisenberg: And if it's less than that percent they'll move to a new location and so that's the showing model and and people built this model thinking initially that.

869
03:04:34,530 --> 03:04:43,650
Marisa Eisenberg: When they ran it that it ought to be around 50% is where the threshold for segregation happens so that if people want more than half of their neighbors.

870
03:04:43,920 --> 03:04:57,690
Marisa Eisenberg: To be the same type of them, that you would probably see neighborhood segregation, but to their surprise what ends up happening is that, after an initial transients the long term behavior of the showing model is that you actually if they want more than.

871
03:04:58,200 --> 03:05:12,210
Marisa Eisenberg: Like a small percentage I think it's like a third or something like 33 I think it's 33% if they want more than one third of their neighbors to be the same as them you'll get it might even be last name it's like 15 at something some smaller percentage.

872
03:05:13,680 --> 03:05:24,480
Marisa Eisenberg: Not super small but like less than half percentage if they want that percent of their neighbors to be the same as them you'll see neighborhood segregation so let's just see.

873
03:05:25,770 --> 03:05:36,090
Marisa Eisenberg: So right so So you can see here that this was a run of the shelling model it starts random and that then there's some transient activity and then the long term behavior is that.

874
03:05:36,720 --> 03:05:45,600
Marisa Eisenberg: Right, let me pause it after it runs Oh, actually, I think I have it on the next slide there we go okay so there's some initial transients and then the long term behavior is.

875
03:05:46,230 --> 03:05:55,590
Marisa Eisenberg: very distinct clusters of red and blue agents, and the reason for this is basically that even if they only want.

876
03:05:56,010 --> 03:06:08,160
Marisa Eisenberg: Maybe a third, or whatever you know, whatever fraction, it is of their neighbors to be the same as them so that would mean that you know this red.or whatever is happy to have the majority of its neighbors be blue.

877
03:06:08,460 --> 03:06:21,240
Marisa Eisenberg: But it wants at least one third of its neighbors to be also read if they want that, then it will mean that, by chance at the beginning, there are certain you can see, this is a random.

878
03:06:21,840 --> 03:06:27,090
Marisa Eisenberg: You know distribution of reds and blues, but there are clusters just by happenstance that.

879
03:06:27,660 --> 03:06:35,100
Marisa Eisenberg: When you first put all the agents on the grid, there are certain chunks where it's all red or all blue just by chance and.

880
03:06:35,730 --> 03:06:44,790
Marisa Eisenberg: What this means is that the all red chunks are all blue chunks they're not going to move away because they're above their threshold so they're fine they'll stay there.

881
03:06:45,090 --> 03:07:00,450
Marisa Eisenberg: But because this all read chunk exists here, no blue agents could move there because that of the the way the rules are designed right, and so it ends up, meaning that this like random initial.

882
03:07:01,620 --> 03:07:07,260
Marisa Eisenberg: red and blue kind of accidental clustering that was just by chance, then.

883
03:07:08,040 --> 03:07:17,400
Marisa Eisenberg: consolidates because no blues can move into these random read clusters and know reds can move into these random blue clusters, and so it ends up, meaning that, as people.

884
03:07:17,970 --> 03:07:29,640
Marisa Eisenberg: move away, they they keep expanding those red and blue clusters, because the only people who could move here would have to be red agents until eventually it turns into this.

885
03:07:30,240 --> 03:07:36,540
Marisa Eisenberg: segregated thing and and that I want to just reiterate that's not to even account for all the like.

886
03:07:36,810 --> 03:07:45,990
Marisa Eisenberg: Real world things that actually go on with neighborhood segregation that involve many years of like policy and all of that kind of thing so there's an like yeah historical.

887
03:07:46,530 --> 03:07:57,630
Marisa Eisenberg: messiness so that's that's a whole different story, so I would think of this, not as a real world situation at all, but it is just an interesting example of emergent behavior and so um.

888
03:07:57,990 --> 03:08:05,250
Marisa Eisenberg: yeah so anyway so that's the shelling model it's another interesting example I wanted to bring one example that wasn't a differential equation.

889
03:08:05,520 --> 03:08:16,170
Marisa Eisenberg: But that did have a transient phase of behavior and then a long term phase that was different so the transition phase is more variable and then the long term phase is quite stable and.

890
03:08:16,680 --> 03:08:32,070
Marisa Eisenberg: And so just thought I would kind of mentioned that okay so transients and long term behavior questions about that questions about the showing model or about the phase plane and all of this stuff and thoughts about any of this.

891
03:08:39,870 --> 03:08:46,530
Marisa Eisenberg: Does that make sense it's kind of a lot it's a i'm sorry that I feel like the more.

892
03:08:48,810 --> 03:08:58,380
Marisa Eisenberg: Like abstract stuff for like technical stuff is happening at the end of the day, so everyone is kind of like ooh what's happening, but but yeah but hopefully that makes sense.

893
03:08:59,850 --> 03:09:00,240
Marisa Eisenberg: Okay.

894
03:09:01,290 --> 03:09:14,430
Marisa Eisenberg: So then let's talk a little bit about a couple of like specific types of model that often get us, so I want to this is way too many slides to make it through, but we'll make our way through and Okay, and so.

895
03:09:15,690 --> 03:09:18,900
Marisa Eisenberg: We could well, we could also do a face plane plot.

896
03:09:20,160 --> 03:09:29,940
Marisa Eisenberg: Maybe let's do a real quick phase playing plot with that hogwarts Oh, he said that we tried out earlier, it won't be very exciting, but just so that you can kind of see how a phase plane would look with a real system.

897
03:09:30,180 --> 03:09:36,630
Marisa Eisenberg: it's not as pretty well whatever it's probably prettier than my hand drawn nonsense that you saw on that other slide but.

898
03:09:37,890 --> 03:09:42,300
Marisa Eisenberg: OK so really, really quick, we ran this we did this map plot thing.

899
03:09:44,130 --> 03:09:46,050
Marisa Eisenberg: let's do a real quick face plane, but.

900
03:09:48,270 --> 03:09:49,320
Marisa Eisenberg: let's look at.

901
03:09:50,790 --> 03:09:51,540
Marisa Eisenberg: Oh, I don't know.

902
03:09:59,490 --> 03:10:00,870
Marisa Eisenberg: Griffin doors.

903
03:10:14,880 --> 03:10:28,080
Marisa Eisenberg: Okay, so this is a little bit, this is actually kind of useful as a way of seeing how oh hang on this was unsorted kids I forgot that the first column is time and that's Griffin Doris and that's okay.

904
03:10:30,390 --> 03:10:39,660
Marisa Eisenberg: So this is kind of useful as a way of seeing how these the faceplate plus you really need to run them from a bunch of initial conditions to be able to get a sense of what's going on, so.

905
03:10:40,860 --> 03:10:51,090
Marisa Eisenberg: If you if you look at this so it's it's hard to figure out what's happening because the time piece is you know, like.

906
03:10:51,570 --> 03:11:09,900
Marisa Eisenberg: Is not super clear right so like there's the i'm plotting the third column versus the fourth column, which, if we go back to simulation that's this column whoops hang on I just sorted on it, this column versus this column, which is.

907
03:11:11,430 --> 03:11:21,060
Marisa Eisenberg: What is that that's No, sorry this column versus this COP so that's the the what the Griffin doors here and the humble puffs here.

908
03:11:21,990 --> 03:11:38,400
Marisa Eisenberg: And you can see that they both started zero, and then they kind of grow up to whatever their equilibrium values are the Griffin doors reached 700 of them and the huff and puff street wow we're really very Griffin door pushing here we I guess and Raven class there's only three.

909
03:11:39,420 --> 03:11:45,330
Marisa Eisenberg: 700 wow that's very interesting Okay, but anyway, you can kind of see what happens, and so, if you look at the plot.

910
03:11:46,890 --> 03:11:58,290
Marisa Eisenberg: What you can see is that they start actually here, I guess, this is where they started right here at zero, and then they jump up to 44 and 54 and then they make their way over here.

911
03:11:58,710 --> 03:12:10,440
Marisa Eisenberg: there's an equilibrium values somewhere over here that they're approaching it's hard to see from this really what's going on, but you can kind if you plot it this for a bunch of starting points let's just do that really quick.

912
03:12:12,450 --> 03:12:13,500
Marisa Eisenberg: let's say.

913
03:12:14,970 --> 03:12:25,920
Marisa Eisenberg: i'll just pick two more just for kicks so 500 put 302 hundred there and then.

914
03:12:34,290 --> 03:12:35,880
Just gonna put this on top.

915
03:12:41,340 --> 03:12:43,260
Marisa Eisenberg: Okay, so here's the next one.

916
03:12:44,700 --> 03:12:47,700
Marisa Eisenberg: let's just do another two little things.

917
03:12:49,950 --> 03:12:52,260
say he.

918
03:12:54,780 --> 03:12:59,250
let's say 203.

919
03:13:05,670 --> 03:13:19,590
Marisa Eisenberg: Okay, so you can see, we started it, so the take on training is not a pretty plot at all, but the takeaway i'm trying to get here is we just ran the model for three starting values, one was over here one was here.

920
03:13:20,520 --> 03:13:27,930
Marisa Eisenberg: i'll just mark them with annotate so we started here here, and I think it's actually somewhere up here but anyway.

921
03:13:28,980 --> 03:13:38,580
Marisa Eisenberg: And there and so um what you can see is that all three starting positions, this one, you know went like this.

922
03:13:39,240 --> 03:13:48,930
Marisa Eisenberg: They all go to this one common equilibrium point right and we probably should start with some more starting positions like sort of further out over here, you know.

923
03:13:49,170 --> 03:13:59,430
Marisa Eisenberg: and see, but if you if you start from many different places like this and they always go to this equilibrium point that means, this is likely, a stable equilibrium point right and so.

924
03:14:00,480 --> 03:14:10,260
Marisa Eisenberg: The the phase plane is a way of kind of keeping an eye on whether, when you run it's, this is a very terrible looking version of it you'd want to make it nice with arrows, and all this junk but.

925
03:14:11,580 --> 03:14:20,130
Marisa Eisenberg: If you run a bunch of different initial conditions and they always come back to your equilibrium point then it's a stable equilibrium point right so that's sort of the idea here.

926
03:14:21,510 --> 03:14:22,860
Marisa Eisenberg: Okay question.

927
03:14:23,070 --> 03:14:23,790
Marisa Eisenberg: yeah please.

928
03:14:24,660 --> 03:14:37,500
Rishi Chanderraj: Further their way that you can like like give the parameters is like a grid to the odd function, so that you can like explore space, rather than just a set of.

929
03:14:37,710 --> 03:14:48,600
Marisa Eisenberg: Yes, yes, yes we'll do that in a couple of days so we'll talk about different ways to explore the space so Latin hyper cube sampling and different kinds of things that let you explore the space in a nice way.

930
03:14:49,500 --> 03:15:02,610
Marisa Eisenberg: You can't really just give the odd function all of those parameters, but you can run this in a loop or I can show you how to paralyze it so you can have it run in parallel.

931
03:15:03,390 --> 03:15:13,410
Marisa Eisenberg: and run many copies of this essentially for in a loop across a big parameter space and then that's how you would sort of sample many different parameter values yeah yeah yeah totally.

932
03:15:14,340 --> 03:15:22,500
Marisa Eisenberg: Which is normally like you wouldn't really do this like where i'm just kind of like picking things and then we're running a like you know so that.

933
03:15:22,800 --> 03:15:30,090
Marisa Eisenberg: This is like a very kind of toy example normally what you would do is more like what you're describing where you'd have a big space of parameters that you want to explore.

934
03:15:30,360 --> 03:15:36,840
Marisa Eisenberg: Then, maybe come from some uncertainty estimation, from your parameter estimation, or whatever, and then you would sample a huge number from there.

935
03:15:37,110 --> 03:15:49,440
Marisa Eisenberg: And and that's that's kind of how it would really operate, but for now we're just running it in little video version, but then yeah later in the week we'll do big like will run some big samples and stuff like that so yeah good.

936
03:15:50,580 --> 03:15:52,350
Rishi Chanderraj: yeah sure thing and.

937
03:15:52,470 --> 03:15:54,450
Marisa Eisenberg: Okay, so.

938
03:15:56,940 --> 03:16:04,650
Marisa Eisenberg: You back here alright so let's talk a little bit about linear compartment on models so.

939
03:16:06,390 --> 03:16:09,450
Marisa Eisenberg: Okay, so see here.

940
03:16:10,950 --> 03:16:30,420
Marisa Eisenberg: Well, really, I have a couple of different modeling frameworks that we can talk about with differential equations but what I really want to get across these are just examples and what I really want to get across is how do we if we draw like a picture of you know, like whatever two compartments.

941
03:16:32,880 --> 03:16:46,560
Marisa Eisenberg: And we say you know the X ones are going to become X tues and the X ones might leave at a certain rate and maybe they come in from you know this is like new kids entering and kids graduating and then them being recruited into hubspot for something.

942
03:16:47,820 --> 03:16:53,340
Marisa Eisenberg: You know if you have something like this, how do you decide what.

943
03:16:53,790 --> 03:17:02,610
Marisa Eisenberg: The terms of the model equations ought to be right, so we wrote down those equations in that example and I just pick stuff right like.

944
03:17:02,820 --> 03:17:11,520
Marisa Eisenberg: I just said okay it's minus you know this rate times that you know I just I just wrote things right, but what I want you all to start to get is to.

945
03:17:11,820 --> 03:17:16,980
Marisa Eisenberg: be able to draw a picture of what the flows are from State to State and then.

946
03:17:17,370 --> 03:17:29,760
Marisa Eisenberg: write down a system of equations that captures those flows correctly so that's kind of what we're going to do we're going to do it for two classes of odd years linear over the years, and what are called mass action systems.

947
03:17:30,720 --> 03:17:34,740
Marisa Eisenberg: And and and linear is actually just one example of the mass action system so.

948
03:17:36,240 --> 03:17:43,680
Marisa Eisenberg: there's a little bit of like kind of technicality to this, but that doesn't really matter, the main thing that I actually want you to get some, this is just.

949
03:17:44,280 --> 03:17:47,100
Marisa Eisenberg: If I have an idea of something I want a model.

950
03:17:47,640 --> 03:17:57,690
Marisa Eisenberg: I want to be able to draw a picture of the model flows that I want to do, and then I want you all to be able to take that picture and turn it into a set of equations.

951
03:17:57,900 --> 03:18:06,750
Marisa Eisenberg: and have those equations be reasonable and so that's basically the goal here so we're going to do an example with linear models and then we'll do an example with mass action.

952
03:18:07,380 --> 03:18:17,850
Marisa Eisenberg: But but that's that's the idea okay so just with that preface because sometimes it can get a little bit like jargon and maybe we lose the point, so I just want to make sure we kind of get there.

953
03:18:18,960 --> 03:18:30,030
Marisa Eisenberg: Okay, so linear versus nonlinear so the, this is a big distinction in a lot of modeling what types of models linear models tend to be easier to work with.

954
03:18:30,630 --> 03:18:42,480
Marisa Eisenberg: nonlinear models tend to be more flexible and they can capture a wider range of behaviors and linear differential equation models are things that basically means their right hand side is linear terms, so.

955
03:18:44,310 --> 03:18:47,370
Marisa Eisenberg: Basically, you know stuff of the form.

956
03:18:48,840 --> 03:18:54,330
Marisa Eisenberg: You know stuff like dx di T equals whatever.

957
03:18:55,350 --> 03:19:06,900
Marisa Eisenberg: K times X plus you know K two times y you know, etc, a constant times a variable is a linear term and so.

958
03:19:07,560 --> 03:19:15,360
Marisa Eisenberg: linear models, it means it's just a linear equation on the right hand side so that's that's basically what a linear model is going to be.

959
03:19:15,690 --> 03:19:29,490
Marisa Eisenberg: And so, these kinds ot ease that have this property that the right hand side is all linear terms are really convenient it turns out, it just turns out that Sam i'm still annotating not.

960
03:19:30,570 --> 03:19:39,270
Marisa Eisenberg: There you it turns out that they have a bunch of Nice properties, so if you solve let's say I have a model of.

961
03:19:40,020 --> 03:19:54,570
Marisa Eisenberg: This comes up a lot in pharmacogenetics so I have a model of drug dose how my body metabolizes a drug after it's injected and I model I build the model on a particular set of doses five micrograms per something.

962
03:19:55,800 --> 03:20:02,280
Marisa Eisenberg: And then I want to use the model to extrapolate what happens if I if I give the patient.

963
03:20:03,330 --> 03:20:14,040
Marisa Eisenberg: 10 micrograms per whatever and it turns out that for a linear model, you can just multiply the response by two and that will be the that will be the answer so they have this.

964
03:20:14,310 --> 03:20:26,040
Marisa Eisenberg: convenience thing that you can add solutions or or you know they're they're linear and so, if you up the dose by twice, then the response just ups by twice.

965
03:20:27,240 --> 03:20:39,810
Marisa Eisenberg: So they can be solved analytically it's much easier to do most of this kind of equilibrium and is it stable and parameter estimation, all of this is very convenient because you can use matrices and linear algebra to do it.

966
03:20:40,320 --> 03:20:53,130
Marisa Eisenberg: And so that's very nice, they are used in a lot of different applications, so we we use a lot of linear flows in disease models, even though they also have some nonlinear pieces.

967
03:20:54,420 --> 03:21:05,490
Marisa Eisenberg: linear ott models get used extensively in pharmacogenetics and toxicology a lot of the models about how of how substances are metabolized in the body or how substances move.

968
03:21:06,720 --> 03:21:16,980
Marisa Eisenberg: sort of through the body are linear models, they also get used in like microbial risk assessment kinds of things when you're thinking about groundwater flow so there's a lot of different.

969
03:21:17,520 --> 03:21:28,080
Marisa Eisenberg: situations where you use linear models, but um so the the way that we stick this exponential growth and decay, is also an example of the linear model.

970
03:21:29,280 --> 03:21:41,100
Marisa Eisenberg: Okay linear models also get called bathtub model sometimes because it's that compartment idea that we talked about before you can think of linear models or really any compartment model as being like.

971
03:21:41,640 --> 03:21:52,440
Marisa Eisenberg: People use this analogy of like a bathtub where the flows are like pipes connecting the bathtubs, and so the water flows from one bath tub to the next and and so that's sort of the idea so.

972
03:21:53,040 --> 03:21:58,230
Marisa Eisenberg: linear compartment models are kind of the most simplified version of a compartment a model that's out there.

973
03:21:58,560 --> 03:22:12,450
Marisa Eisenberg: And the idea is you model your system as a set of compartments that interact, by exchanging material and that material could be people or a drug that's in the body or it could be information or whatever yeah.

974
03:22:13,470 --> 03:22:16,440
Caroline Godfrey: what's the distinction between this and, like a Markov model.

975
03:22:17,370 --> 03:22:34,080
Marisa Eisenberg: Good so a market model could totally be a linear compartment a model um yeah so there's no reason that it couldn't be linear compartmentalize models in the odd framework are not stochastic so it's like in fact actually you could make.

976
03:22:36,300 --> 03:22:44,760
Marisa Eisenberg: An they are, they are there's a matching in certain ways, because you could make Markov model, whose averages described by a linear O D.

977
03:22:45,810 --> 03:22:54,360
Marisa Eisenberg: And so, and and you could take a linear O D and make a mark on model that describes the stochastic trajectory that's actually happening.

978
03:22:54,630 --> 03:22:59,400
Marisa Eisenberg: That gives you that average so yeah so there's there is a connection there for sure yeah.

979
03:22:59,820 --> 03:23:12,810
Marisa Eisenberg: And and really a lot of the stuff that people kind of usually teach as part of linear compartment and models it's just true for all compartment of office it's not really special about it being linear it's just a thing about how we think about compartments so.

980
03:23:13,500 --> 03:23:19,470
Marisa Eisenberg: yeah so that that's a really good point, yes, definitely okay so so linear compartment a model does this.

981
03:23:21,090 --> 03:23:34,860
Marisa Eisenberg: Just as a definition for what is a compartment so a compartment is a is a store and amount of category of material that behaves like a homogeneous a homogeneous and distinct manner is what they usually say and so.

982
03:23:35,190 --> 03:23:44,100
Marisa Eisenberg: i'm homogeneous means that we don't care, you know if you if we have a bathtub full of water and it's flowing from one bath tub to the next bathtub.

983
03:23:44,370 --> 03:23:49,950
Marisa Eisenberg: It doesn't matter which molecule of water, it is they're all equivalent right so they're all.

984
03:23:50,490 --> 03:24:03,270
Marisa Eisenberg: it's a homogeneous thing so we're modeling the number of susceptible people, and then we don't actually make a distinction between in between each individual in that susceptible pool right so.

985
03:24:04,110 --> 03:24:16,020
Marisa Eisenberg: So there we treat everyone in the same compartment as being equivalent and distinct here, means that we treat different compartments as being distinct objects so.

986
03:24:17,250 --> 03:24:22,770
Marisa Eisenberg: As susceptible individual is a distinct thing from an infectious individual you wouldn't want to make.

987
03:24:23,190 --> 03:24:33,540
Marisa Eisenberg: Two copies that both represents susceptible people you know in this room at this, you know, like whatever so you want to have each compartment has a distinct meaning and.

988
03:24:33,870 --> 03:24:50,820
Marisa Eisenberg: If everything within that compartment we treat us homology so that's sort of the idea, and these are a bajillion examples of compartment models out in the world, but somehow my citations have disappeared i'm going to actually just skip past this there's a lot of them and it's fine.

989
03:24:52,740 --> 03:25:07,650
Marisa Eisenberg: Yes, Okay, so I wanted to just get to a little bit of notation so when we do when we convert linear compartment all models to differential equations and what we do is we usually make a plot.

990
03:25:08,190 --> 03:25:18,090
Marisa Eisenberg: A diagram sort of like that, so the classic way to do this there's different like notation conventions, but it's usually sort of something like that so usually mark your.

991
03:25:18,570 --> 03:25:22,740
Marisa Eisenberg: Your your variables, so the things that are going to get a differential equation each.

992
03:25:23,580 --> 03:25:31,020
Marisa Eisenberg: As like circles, or maybe sometimes squares whatever, but the compartments are your things that are each going to get a differential equation so.

993
03:25:31,260 --> 03:25:40,380
Marisa Eisenberg: X one will get a differential equation next to will get a differential equation, these are your main variables and then your parameters get represented as the labels on the air so.

994
03:25:41,520 --> 03:25:51,000
Marisa Eisenberg: If something is flowing from X one X two then K to one is the rate at which it's flowing in this case to compartment to from compartment one.

995
03:25:51,570 --> 03:26:03,180
Marisa Eisenberg: there's different Convention centers people like to flip these I don't know with a yeah that the the math the folks often like it this way, because then it makes a prettier matrix but it doesn't really matter and okay so.

996
03:26:04,230 --> 03:26:11,610
Marisa Eisenberg: So you can you can have stuff like this, where you have an input, maybe coming in, so this would be like our new kids coming in to get sorted.

997
03:26:11,880 --> 03:26:28,290
Marisa Eisenberg: And then they would maybe this is the unsorted kids they could graduate apparently before they ever get sorted, so this is like a leaving rate, they could move into a house and then they could graduate after they get sorted into their house and this little thing labeled why.

998
03:26:29,400 --> 03:26:38,400
Marisa Eisenberg: Is it represents observation, so this means i'm going to switch metaphors instead of hogwarts now let's think about this as maybe a drug.

999
03:26:39,180 --> 03:26:43,350
Marisa Eisenberg: So imagine this is like an intravenous injection of drug into the body.

1000
03:26:44,310 --> 03:26:59,520
Marisa Eisenberg: And it, so this is the amount of the drug let's say the mass or the concentration of the drug in the blood plasma and then it can move into the tissues, and so this is the master the concentration of drug in the tissues.

1001
03:27:00,990 --> 03:27:07,500
Marisa Eisenberg: Measuring from tissue is quite difficult if you're not doing an imaging study, then you have to take a biopsy right and so.

1002
03:27:08,190 --> 03:27:17,580
Marisa Eisenberg: You don't let's say you don't observe in the tissues, you only observe from the blood, because you can take blood samples let's say so that that would be an example where.

1003
03:27:17,850 --> 03:27:29,310
Marisa Eisenberg: This little white here means I can measure from this variable but not from that variable so i'm going to model, the whole system, but all i'm saying is that the data and collecting is only going to come from X one.

1004
03:27:30,450 --> 03:27:38,610
Marisa Eisenberg: So that's sort of the way that the notation works and Okay, when you write this out what you do is basically just so we're going to take.

1005
03:27:38,970 --> 03:27:48,750
Marisa Eisenberg: I could then now so now just think through imagine making a diagram like this for a process that you might be interested in, you know we can make a diagram like this for the hogwarts thing or whatever.

1006
03:27:50,250 --> 03:28:01,560
Marisa Eisenberg: And so now let's think through How would we convert this diagram into a linear compartment model set of equations so what you would do is you would say okay you basically.

1007
03:28:02,430 --> 03:28:11,700
Marisa Eisenberg: Add in all the incoming arrows and subtract out all the out flowing right, and so in this case, the only incoming arrow is you.

1008
03:28:12,420 --> 03:28:22,500
Marisa Eisenberg: So that there's some you know rate at which things are coming in i'm going to make that a function of time, so we'll say U of T and then the outflow rates basically.

1009
03:28:23,160 --> 03:28:41,040
Marisa Eisenberg: What we're going to say here is that the rate at which you leave X one just depends on this parameter and the amount of X, one that is in their current so for linear compartment models, when you leave X one to go to X two or you leave X one to graduate hogwarts or whatever it is.

1010
03:28:42,330 --> 03:28:53,160
Marisa Eisenberg: It doesn't matter how much is already in next to or anything like that all that matters is that a fraction of X one whatever it is, is exiting at per time right and so.

1011
03:28:53,430 --> 03:29:11,730
Marisa Eisenberg: That is given by this K whatever times X one so that's so you have an outflow that's minus K two one times X one and minus kale one times X one Those are two applications and then dx dt dt dt has an inflow.

1012
03:29:12,270 --> 03:29:18,000
Marisa Eisenberg: K two one times X one that's this guy and then an outflow K oh two times X two.

1013
03:29:19,050 --> 03:29:27,390
Marisa Eisenberg: Okay, and then the data we can talk about this part later, you don't really need to worry about this, this is just a site describing what it is that you observed, but we'll get to that later.

1014
03:29:27,840 --> 03:29:39,690
Marisa Eisenberg: Does this make sense, this how we're writing down the equations for each of these things Okay, do you feel like you could take a diagram like this and write down your own equations okay good not not necessarily okay.

1015
03:29:41,100 --> 03:29:44,190
Marisa Eisenberg: Should we do one more do you want to do another one or.

1016
03:29:46,170 --> 03:29:50,370
Marisa Eisenberg: Maybe yes okay okay let's do one more let's make one up.

1017
03:29:51,630 --> 03:29:53,190
Marisa Eisenberg: Here i'll just do a whiteboard.

1018
03:30:00,660 --> 03:30:01,200
Page.

1019
03:30:05,790 --> 03:30:07,950
Marisa Eisenberg: make a new page right, I remember how to do it.

1020
03:30:11,880 --> 03:30:12,060
Marisa Eisenberg: Okay.

1021
03:30:13,500 --> 03:30:16,830
Marisa Eisenberg: Okay, so all right so let's say.

1022
03:30:18,330 --> 03:30:22,110
Marisa Eisenberg: X one let's say we do this to do.

1023
03:30:23,340 --> 03:30:25,200
Marisa Eisenberg: X two those two X three.

1024
03:30:26,670 --> 03:30:49,260
Marisa Eisenberg: i'd say new inflow can come in here, and here, and maybe you can exit here and here Okay, so does that make sense as a thing so we'll call this you one you too and i'm going to be lazy with my notation and call this K one K to.

1025
03:30:52,440 --> 03:31:00,270
Marisa Eisenberg: not really going to do that, actually, because it's going to make things really confusing all right i'm going to be good about meditation actually be.

1026
03:31:01,440 --> 03:31:06,930
Marisa Eisenberg: Okay, this will call this K to one little bit okay three two.

1027
03:31:07,950 --> 03:31:12,870
Marisa Eisenberg: Okay, oh two because it's not because it's leaving.

1028
03:31:15,150 --> 03:31:24,180
Marisa Eisenberg: And this will be Cape oh three Okay, so now let's write out our equation so we're going to have three state variables dx one PT.

1029
03:31:25,350 --> 03:31:31,830
Marisa Eisenberg: dx to TT and tx three.

1030
03:31:32,850 --> 03:31:33,450
Marisa Eisenberg: T.

1031
03:31:37,290 --> 03:31:38,550
Marisa Eisenberg: OK, and then.

1032
03:31:39,840 --> 03:31:50,160
Marisa Eisenberg: let's see so X one doesn't have any compartments flowing into it, but it does have you one flowing it so let's say you one make that a function of time.

1033
03:31:51,240 --> 03:32:05,520
Marisa Eisenberg: is coming in, and then the only exit is from X one X two, but since it's coming from X one the Convention is the variable will put his ex wife so we're going to say minus K two one.

1034
03:32:06,480 --> 03:32:21,630
Marisa Eisenberg: Times X one and that will be the whole equation for X, Y, so now we have the inflow and outflow and then for X two, we have a you to have tea I should make some sort of YouTube pun, but I don't have one.

1035
03:32:22,680 --> 03:32:39,300
Marisa Eisenberg: And then coming in and then there's also an inflow from X one so we'd say the these X one molecules loops or you know people, whatever they are, as you know, animals bacteria, whatever it is, from X one are coming from here and they're going to show up.

1036
03:32:41,670 --> 03:32:42,510
Marisa Eisenberg: over here.

1037
03:32:43,650 --> 03:32:54,480
Marisa Eisenberg: Okay, to one times X one is going to end up in the X to category or compartment and then we're going to have an outflow minus K oh two.

1038
03:32:55,770 --> 03:32:59,880
Marisa Eisenberg: Times X two minus K three two.

1039
03:33:01,050 --> 03:33:06,720
Marisa Eisenberg: Times X two so there's an outflow two X three and an outflow to nothing.

1040
03:33:08,340 --> 03:33:15,870
Marisa Eisenberg: Okay, so then now, when we go to X three this outflow that was going to X three should be coming in.

1041
03:33:19,980 --> 03:33:22,950
Marisa Eisenberg: And then what's going out is chaos three.

1042
03:33:24,150 --> 03:33:25,080
X three.

1043
03:33:27,450 --> 03:33:30,750
Marisa Eisenberg: And those will be our equations we save this and then I can post it up on the thing.

1044
03:33:33,330 --> 03:33:34,440
Marisa Eisenberg: But does that make sense.

1045
03:33:35,850 --> 03:33:36,930
Marisa Eisenberg: awesome okay good.

1046
03:33:38,220 --> 03:33:46,260
Marisa Eisenberg: Okay, so does everybody feel like you could take a diagram and convert it to equations Okay, at this point.

1047
03:33:46,980 --> 03:33:57,270
Marisa Eisenberg: Good okay great okay so linear compartmentalize models that's how you would convert them to equations, then you could simulate the equations just like we did for that other example and run lots of.

1048
03:33:57,510 --> 03:34:07,710
Marisa Eisenberg: different scenarios, obviously the scenarios are going to depend on what the values, the values the variables actually mean and what you're doing but that's how you would write down the equations and then you could run the simulation.

1049
03:34:08,820 --> 03:34:09,180
Marisa Eisenberg: Okay.

1050
03:34:10,350 --> 03:34:23,100
Marisa Eisenberg: So you could use those people have used linear models, just like that to do so, this was a model of manganese in the body and how it can cause sort of.

1051
03:34:24,240 --> 03:34:26,160
Marisa Eisenberg: Parkinson Parkinson like.

1052
03:34:27,570 --> 03:34:40,890
Marisa Eisenberg: stuff to happen to people parkinson's esque kinds of situations to have people, this is a model of movement of people, based on their cell phone, so this is a model I worked on where.

1053
03:34:42,300 --> 03:34:52,710
Marisa Eisenberg: We were working on the spread of cholera in Haiti and and and and and we got from did you sell the main cell phone provider in Haiti, we got.

1054
03:34:53,790 --> 03:35:03,510
Marisa Eisenberg: cell phone movement patterns, so not individual level, but both flows of how many people were flowing from one region to another, based on their cell phone movement.

1055
03:35:04,800 --> 03:35:11,970
Marisa Eisenberg: And, and so you could you could use you could build a linear compartment a model to model how people move around from one place to another.

1056
03:35:12,360 --> 03:35:22,980
Marisa Eisenberg: And people do this for all kinds of different you know people have done linear models of tumor cells, people have done linear models of hormone concentrations like thyroid hormone.

1057
03:35:23,340 --> 03:35:33,900
Marisa Eisenberg: People have done all kinds of different linear models of many different things, so you can use this kind of machinery of building a model to build models of all kinds of different stuff and we'll do lots of simulation of that.

1058
03:35:35,430 --> 03:35:36,780
Marisa Eisenberg: In over the course of this week.

1059
03:35:37,920 --> 03:35:48,720
Marisa Eisenberg: So so that's one flavor of model if you go into the the lab that we posted up there, there are.

1060
03:35:49,500 --> 03:35:56,730
Marisa Eisenberg: So, like there's a problem too so problem, one is like phase line equilibrium types of stuff problem two.

1061
03:35:57,360 --> 03:36:05,280
Marisa Eisenberg: Is a linear compartment a model and you're going to code it up, and you know simulated and see what happens with it so that's problem two.

1062
03:36:05,610 --> 03:36:16,200
Marisa Eisenberg: And then problems three which gets us to this part is all about nonlinear so linear models work great for a lot of situations where people are sort of flowing are moving.

1063
03:36:16,440 --> 03:36:23,400
Marisa Eisenberg: independently, but if you need to have interaction between individuals, so you need so, for instance with disease transmission.

1064
03:36:23,730 --> 03:36:29,220
Marisa Eisenberg: You know, for a disease to transmit for me to move from the susceptible category to the infectious category.

1065
03:36:29,490 --> 03:36:37,680
Marisa Eisenberg: I have to interact with an infected individual that means I can't just use a linear model, I have to have something that has a term like.

1066
03:36:38,010 --> 03:36:48,360
Marisa Eisenberg: The one that we saw before beta si where you have one of the terms, this is now no longer a linear term right because it has s times I in it so it's not just.

1067
03:36:48,780 --> 03:36:54,840
Marisa Eisenberg: it's not just you know sort of the K X kind of thing it's got Tuesday variables so.

1068
03:36:55,830 --> 03:37:04,680
Marisa Eisenberg: For nonlinear models, those are usually used when you need to capture not just sort of simple independent flow, like everyone is just.

1069
03:37:05,040 --> 03:37:17,190
Marisa Eisenberg: Water in a bathtub moving from one bathtub to another now when you need to have interaction between individuals that's where you need to get non linearity so there's a lot more flexible behavior that you can capture with non linearity.

1070
03:37:18,000 --> 03:37:24,900
Marisa Eisenberg: In reality, almost everything is nonlinear although often it is the case that linear models will work just fine and.

1071
03:37:25,710 --> 03:37:40,050
Marisa Eisenberg: A lot of things actually have quite a strong nonlinear component and so you really want to be able to think through How would I write down the equations if I have a non linear model to like what if I need to write down an infectious disease model or something like this.

1072
03:37:41,010 --> 03:37:55,890
Marisa Eisenberg: So mass action models are one way to do this and and they are trying to think through how to do this in a short way Okay, there are a kind of classic framework for doing.

1073
03:37:57,240 --> 03:37:59,550
Marisa Eisenberg: Doing this kind of thing i'm.

1074
03:38:00,720 --> 03:38:08,400
Marisa Eisenberg: A for being able to write down a system of equations that captures an interaction non linearity that kind of stuff.

1075
03:38:09,540 --> 03:38:18,270
Marisa Eisenberg: As they are models, or what example of a mass action framework so basically every si our model, you can think of is is a is a mass action type of model.

1076
03:38:18,660 --> 03:38:23,490
Marisa Eisenberg: People do social contagion also they use asr models for this kind of thing to.

1077
03:38:23,850 --> 03:38:32,820
Marisa Eisenberg: lots of other things, though, are mass action models there's lots of gene regulation models and molecular regulation kinds of models that are mass action as well.

1078
03:38:33,210 --> 03:38:41,400
Marisa Eisenberg: And the basic idea for a mass action model is that what you want to do is describe how your compartment.

1079
03:38:42,090 --> 03:38:46,410
Marisa Eisenberg: The numbers of things in each of your compartments changes with time.

1080
03:38:46,890 --> 03:38:56,580
Marisa Eisenberg: Given interactions between different compartments so maybe SS interact with eyes or eyes interact with eyes or you know, whatever different kinds of things.

1081
03:38:56,790 --> 03:39:09,720
Marisa Eisenberg: So what you do is you write out a set of chemical reactions, it was developed for chemical reaction theory, do you write it out as chemical reactions and then you work out the probabilities that individuals from different.

1082
03:39:10,140 --> 03:39:15,870
Marisa Eisenberg: Different compartments would interact and that gives you your equation so it's a little bit.

1083
03:39:17,550 --> 03:39:29,760
Marisa Eisenberg: Like funny because it's kind of framed around chemical reaction networks but imagine this doesn't have to be chemicals, it can be people or animals or whatever it is it's populations, really.

1084
03:39:30,840 --> 03:39:31,230
Marisa Eisenberg: Okay.

1085
03:39:32,250 --> 03:39:42,180
Marisa Eisenberg: So what you do is you, basically, I think it's going to be easier if I kind of show a little example here let's rather than talking through all this stuff blah blah blah.

1086
03:39:44,970 --> 03:39:55,110
Marisa Eisenberg: Okay, we can do this so suppose you had everybody has probably had chemistry at some point in their life, although probably it's been a really long time is the last time on Facebook so.

1087
03:39:55,980 --> 03:40:10,320
Marisa Eisenberg: Imagine you had a chemical reaction like this, so X decays into w and Tuesdays you can imagine, this is like cell that you know divides and turns into two other kinds of cells or something differentiates.

1088
03:40:11,100 --> 03:40:32,730
Marisa Eisenberg: OK, but so X turns into a w and Tuesdays so in the next time interval you know how many reactions happen and how many w's x's and z's do you change with each one of these things, so the the basic idea is that the reaction rate for this is you take.

1089
03:40:33,930 --> 03:40:41,490
Marisa Eisenberg: Your is going to be K times X so it's just like you would for a linear compartment a model so it's K times X here.

1090
03:40:41,910 --> 03:40:49,440
Marisa Eisenberg: And then you basically add up for each of these variables you say how much they change each time a reaction happens so.

1091
03:40:49,740 --> 03:41:06,960
Marisa Eisenberg: Every time the reaction, the number of reactions you're going to see is going to be something like a times X and then the change that you would get for each reaction that happens, well, every time one of these reaction happens, you lose an x so it's a minus one here for the dx dt equation.

1092
03:41:08,070 --> 03:41:14,340
Marisa Eisenberg: Every time a reaction happens you gain one w so it's a plus one for the dw dt equation.

1093
03:41:14,670 --> 03:41:24,210
Marisa Eisenberg: And every time a reaction happens you gain Tuesdays so it's a plus two for the DC dt reaction and so that's kind of the basic idea of how you do this.

1094
03:41:24,630 --> 03:41:32,790
Marisa Eisenberg: But this is still basically linear right because there's only one guy over here, so what happens if you need to have two.

1095
03:41:33,390 --> 03:41:44,880
Marisa Eisenberg: molecules or people or whatever interact, in order for this reaction to happen, so if you have A and B, they have to interact for you to make see how does that work so.

1096
03:41:45,240 --> 03:41:51,990
Marisa Eisenberg: what's the probability, you have to think through sort of a rough probability there's a really a much more formal way to do this, but let's just kind of.

1097
03:41:52,590 --> 03:42:03,510
Marisa Eisenberg: rough this out a little bit so if you're thinking about what the probability of this is i'm going to switch to a whiteboard oh i'm going to annotate apparently social whiteboard are you.

1098
03:42:07,350 --> 03:42:11,280
Marisa Eisenberg: Okay, so you have a plus.

1099
03:42:12,810 --> 03:42:17,340
Marisa Eisenberg: Plus B goes to see at a rate cake.

1100
03:42:18,540 --> 03:42:18,840
Okay.

1101
03:42:20,040 --> 03:42:33,690
Marisa Eisenberg: So imagine that you have a beaker or you know, a city or whatever it is a space and i'm going to make a grid on it, this is a bad grid but it's a good.

1102
03:42:35,880 --> 03:42:41,340
Marisa Eisenberg: Well okay that's terrible, but you can all imagine that it's nice grid so.

1103
03:42:42,420 --> 03:42:45,600
Marisa Eisenberg: You suppose that A and B.

1104
03:42:45,930 --> 03:42:55,800
Marisa Eisenberg: For them to interact, they have to be within a certain distance of one another right So if you have an A molecule and a be molecule all the way over here from one another, they can't react, they have to be.

1105
03:42:55,980 --> 03:43:09,420
Marisa Eisenberg: Within a certain radius so that they'll actually couple up and do whatever the reaction is that produces seat, or you know six feet, or whatever the distances to make it so that you could transmit, whatever your pathogen that you're thinking about whatever it might be so.

1106
03:43:11,130 --> 03:43:21,810
Marisa Eisenberg: What we're going to do is say suppose that the a's i'll make the a's pink are distributed randomly across this whole space.

1107
03:43:24,840 --> 03:43:35,220
Marisa Eisenberg: Okay, and let's say we have you know, whatever and a total number of a's right and the total number of grid spaces, that we have i'm going to call that and.

1108
03:43:36,390 --> 03:43:55,170
Marisa Eisenberg: i'll do fancy color coding, the total number of grid faces because it's going to be n G, so this is na is the number of a molecules that we have n G is the number of total spaces, that we have and then let's say be me mark a with a little pink and then be we're going to say is in green.

1109
03:43:57,210 --> 03:44:04,320
Marisa Eisenberg: And we'll put that also sort of red so sometimes it ends up in the same box, as may sometimes it doesn't.

1110
03:44:06,810 --> 03:44:18,390
Marisa Eisenberg: Okay, so there's some and say and and B is how many bees, we have, so you might want to know what's the probability that you end up with.

1111
03:44:18,720 --> 03:44:29,640
Marisa Eisenberg: An a and to be in the same box that's how you would guess that's how you would estimate what's the probability that they end up close enough that they could react so make your box is small enough that.

1112
03:44:29,880 --> 03:44:37,740
Marisa Eisenberg: If to if an A and a B or both in the box, you would actually do this as circles or radio says, or whatever the appropriate thing is, but make it boxes for convenience.

1113
03:44:37,920 --> 03:44:43,740
Marisa Eisenberg: If they if an A and a B end up in the same box, it is possible for them to react let's say that's close enough so.

1114
03:44:44,070 --> 03:44:53,640
Marisa Eisenberg: Now you want to figure out what's the probability that you have an A and to be in the same box if they're moving around in space independently totally random well.

1115
03:44:54,270 --> 03:45:07,290
Marisa Eisenberg: The probability that you get an A in the box is anyway i'm going to give up on this color coding thing it was fun, but now i'm going to just do this, so the probability of an A.

1116
03:45:08,310 --> 03:45:22,560
Marisa Eisenberg: In your box is na over n G right you distribute your a's out amongst all the grid spots, that you have and that's what you get your probability of getting a be in the box is and be.

1117
03:45:23,250 --> 03:45:33,120
Marisa Eisenberg: over energy and your probability of getting an A and getting a B is just the product of these two things right, so we just multiply these two things together, so we get PA.

1118
03:45:35,250 --> 03:45:36,600
Marisa Eisenberg: Times PV.

1119
03:45:38,040 --> 03:45:40,890
Marisa Eisenberg: And that's equal to N, a.

1120
03:45:42,540 --> 03:45:55,320
Marisa Eisenberg: And B over angie square right so that's the probability of having an na and an nb in the same box, at the same time right so that like supposing This is all in one type stuff.

1121
03:45:56,040 --> 03:46:07,380
Marisa Eisenberg: Now i'm going to absorb this is a constant it's something about how much space, you have and density and whatever right like this is a constant that depends on the spatial structure and how far away, they have to be to react.

1122
03:46:07,740 --> 03:46:20,550
Marisa Eisenberg: i'm going to absorb this constant into this K okay so we're going to just say K includes this, because what we're going to say is that this this any and b times n G squared or over n D squared.

1123
03:46:20,880 --> 03:46:26,160
Marisa Eisenberg: Is the probability that they're close enough to react they don't necessarily react just because they're in the same box.

1124
03:46:26,490 --> 03:46:39,480
Marisa Eisenberg: K would capture what's the probability that they actually do react, given that they could right so let's say K times this is now the overall probability simply say P reaction.

1125
03:46:40,650 --> 03:46:49,170
Marisa Eisenberg: Is that is K times so now let's just smoosh all these constants into one big constant and call this K tilda or something like that.

1126
03:46:50,190 --> 03:47:01,230
Marisa Eisenberg: And then you get basically that the number of reading the probability reactions in the next time step ought to be proportional to K some sort of constantly type of deal.

1127
03:47:01,980 --> 03:47:20,100
Marisa Eisenberg: times and a times and b does that make sense, everybody that if A and B, the point i'm really trying to make is that, if A and B have to react, then the problem, the rate at which those reactions should happen ought to be proportional to both A and B does that make sense.

1128
03:47:21,600 --> 03:47:30,420
Marisa Eisenberg: Okay, so that's the take home really and and so mass action is really just all that it's just figuring out.

1129
03:47:31,440 --> 03:47:42,390
Marisa Eisenberg: That sort of probability So if you have two things that have to interact, in order to make something happen then Okay, this is all explaining this like sort of blah blah blah.

1130
03:47:43,260 --> 03:47:50,940
Marisa Eisenberg: The number of reactions that happen in the next TEE TEE time interval lot to be K times a times B a is the number of a fee is the number fee.

1131
03:47:51,570 --> 03:47:59,610
Marisa Eisenberg: And then we lose every time I reaction happens, we lose an A we lose a B and we gain a C.

1132
03:48:00,270 --> 03:48:16,350
Marisa Eisenberg: And so the differential equations that you would get for this reaction are da da te R minus kp db T equals minus kV and the cdt because plus kV because this is describing how many reactions happen.

1133
03:48:16,770 --> 03:48:32,820
Marisa Eisenberg: And this little sign is saying how many you lose or gain every time a reaction occurs does that make sense to everybody, as a thing as a kind of concept, maybe not comfortable enough to actually do it yet, but as an idea roughly okay.

1134
03:48:33,060 --> 03:48:34,590
Morgan Caitlin Byrd: you've got a question in the chat.

1135
03:48:34,860 --> 03:48:36,450
Marisa Eisenberg: Oh good sorry I totally missed it.

1136
03:48:38,010 --> 03:48:38,760
Marisa Eisenberg: let's see let's see.

1137
03:48:39,420 --> 03:48:53,310
Marisa Eisenberg: Yes, if they are independent correct yeah and they might not be so that's part of the assumption of the sort of mass action thing is that they're basically moving around independently Now you can capture some of that non independence, there are things that.

1138
03:48:54,180 --> 03:49:09,300
Marisa Eisenberg: Like Michaela meant in terms and things like that that will capture some non independence, so you don't have to completely assume independence but yes, this assumes that they are just like churning at random and and and you know and so yeah yeah yeah.

1139
03:49:10,650 --> 03:49:15,660
Marisa Eisenberg: Which is not a realistic assumption, but it works surprisingly well um yeah so.

1140
03:49:21,270 --> 03:49:21,720
Marisa Eisenberg: awesome.

1141
03:49:22,830 --> 03:49:23,820
Marisa Eisenberg: Hopefully it's a good, well.

1142
03:49:25,500 --> 03:49:26,010
Marisa Eisenberg: But yeah.

1143
03:49:27,570 --> 03:49:38,460
Marisa Eisenberg: Okay, good so so yeah so that's that's the idea so so an SDR model turns out is actually just a mass action model, so the equation, the reactions that you have is that.

1144
03:49:39,270 --> 03:49:48,360
Marisa Eisenberg: Think about susceptible infectious and recovered people as being chemicals in a in a in a beaker or something and the susceptible.

1145
03:49:48,840 --> 03:50:01,740
Marisa Eisenberg: If they interact with an infected, then the sub susceptible becomes an infected and you have to infected sounds so right, so as far as it goes to two I, and I can just can spontaneously convert to being an are.

1146
03:50:02,820 --> 03:50:18,960
Marisa Eisenberg: So if you take those two reactions and you do, that same process of of calculating the reaction rate and then the number of things that you change you get the exact equations for an si our model and.

1147
03:50:19,590 --> 03:50:36,810
Marisa Eisenberg: And I i'm worried about times 454 so i'm not going to do it right now, but I really recommend do this for yourself just for fun just to confirm to yourself that you get an SDR model back out of it take these equations and try and do the mass action thing and then you'll get a sense.

1148
03:50:38,100 --> 03:50:44,880
Marisa Eisenberg: So so that's the basic idea, it turns out that a lot of nonlinear models are either mass action or close to it.

1149
03:50:45,240 --> 03:50:52,740
Marisa Eisenberg: And, as they are models are one of the most common ones that you'll encounter in public health, and they are also usually mostly mass action.

1150
03:50:53,130 --> 03:50:58,680
Marisa Eisenberg: So the SI our model, the classic I say are developed in 1927 by Kirk and kendrick.

1151
03:50:59,610 --> 03:51:06,360
Marisa Eisenberg: Is Scott, usually you draw a diagram like this, so you don't use case as the parameters, but you use Greek letters instead.

1152
03:51:07,170 --> 03:51:16,620
Marisa Eisenberg: And, and so here you go, so if you convert this into differential equations using this with a beta and this with a gamma is the parameters you'll get these equations out of it.

1153
03:51:17,760 --> 03:51:24,990
Marisa Eisenberg: Okay, so notice that that means that oh we're not going to get to any of the are not stuff today we'll do it on my next time.

1154
03:51:25,440 --> 03:51:28,590
Marisa Eisenberg: i'll tell Michael that I didn't get to it, maybe he can cover it tomorrow and.

1155
03:51:29,100 --> 03:51:40,110
Marisa Eisenberg: notice that, because if an si our model is a mass action model and it's a compartment model that means that we're assuming that individuals within the same compartment or homogeneous so.

1156
03:51:40,680 --> 03:51:49,560
Marisa Eisenberg: Different people who are susceptible have all the same level of susceptibility there's no difference between people in behavior and susceptibility.

1157
03:51:49,740 --> 03:52:00,780
Marisa Eisenberg: And infectiousness none of that they're also well mix, everyone is equally likely to interact with everyone else, we know for a fact, of course, that these assumptions are totally false but.

1158
03:52:01,200 --> 03:52:07,170
Marisa Eisenberg: To a surprising degree, they actually work as approximations at the population level and.

1159
03:52:07,710 --> 03:52:16,560
Marisa Eisenberg: So those population level parameters might not reflect any individuals actual experience but they work about as a population average they work pretty well.

1160
03:52:16,890 --> 03:52:22,530
Marisa Eisenberg: And so, this is a classic like all models are wrong, but some are useful, is a classic quote.

1161
03:52:23,250 --> 03:52:28,920
Marisa Eisenberg: That is very, very applicable to this si are kind of situation okay so.

1162
03:52:29,220 --> 03:52:39,630
Marisa Eisenberg: i'm part of the reason that they are so useful and just our last minute or so part of the reason that they're so useful and they work so well, even though they are making these kind of very obviously wrong assumptions.

1163
03:52:39,840 --> 03:52:46,410
Marisa Eisenberg: Is that they can capture some of the three classic patterns of infectious disease that you tend to see endemic.

1164
03:52:46,680 --> 03:52:56,040
Marisa Eisenberg: semi regular outbreaks and and a single main epidemic and lots of other things to you can capture rolling waves and all kinds of different stuff like this with.

1165
03:52:56,670 --> 03:53:08,160
Marisa Eisenberg: With si our models and so so they're just they have enough mechanism and enough flexibility to capture the patterns that you see, even if many of the assumptions are actually quite flawed.

1166
03:53:09,150 --> 03:53:18,780
Marisa Eisenberg: So anyway all right i'm not going to do this, obviously, in the last few minutes I think i'll stop there, and hang on i'll just make a note.

1167
03:53:22,440 --> 03:53:32,430
Marisa Eisenberg: And then, if Michael I don't think he'll need are not for tomorrow stuff so I can, I have a little chunk of stuff to do on our not and the basic reproduction number that we can do.

1168
03:53:33,060 --> 03:53:38,940
Marisa Eisenberg: Next time I teach if we want to or Michael can do it tomorrow, but i'm questions about any of that.

1169
03:53:39,510 --> 03:53:45,900
Marisa Eisenberg: That we just I know it's a lot all at once, but does does that all kind of makes sense, do you have a little bit of a feel.

1170
03:53:46,260 --> 03:53:57,360
Marisa Eisenberg: For kind of how you could take an idea to a diagram to equations will do it many more times over the course of the week, so you know you'll get a lot more practice but does it start to kind of feel like a thing.

1171
03:53:59,400 --> 03:54:04,770
Marisa Eisenberg: Okay ish yes, we need practice okay good, so I recommend.

1172
03:54:05,610 --> 03:54:19,200
Marisa Eisenberg: Good okay good i'd recommend, in the meantime, do the lab that's posted today i'll post, the solutions to the lab also today, so that That way, you can see, you know you can kind of check yourself and see how you're doing and.

1173
03:54:19,680 --> 03:54:23,790
Marisa Eisenberg: Are there questions about any of the stuff we've covered so far and.

1174
03:54:25,470 --> 03:54:27,360
things we should chat about.

1175
03:54:29,880 --> 03:54:45,120
Marisa Eisenberg: Not It is five close enough to five, we can call it done so, yes, I will not be here tomorrow, Michael is going to take you on an exciting ride through stochastic models and so um yeah we'll see this awesome.

1176
03:54:48,540 --> 03:54:49,110
Nicolle Krebs: Thank you.

1177
03:54:49,800 --> 03:54:50,880
Adriana Perez: Thank you so much.

